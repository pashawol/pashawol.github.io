!function(n){var t={};function r(u){if(t[u])return t[u].exports;var i=t[u]={i:u,l:!1,exports:{}};return n[u].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=n,r.c=t,r.d=function(n,t,u){r.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:u})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,t){if(1&t&&(n=r(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var u=Object.create(null);if(r.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var i in n)r.d(u,i,function(t){return n[t]}.bind(null,i));return u},r.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(t,"a",t),t},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="",r(r.s=4)}([function(n,t,r){var u,i;!function(){var o={version:"3.5.17"},e=[].slice,l=function(n){return e.call(n)},f=this.document;function a(n){return n&&(n.ownerDocument||n.document||n).documentElement}function h(n){return n&&(n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView)}if(f)try{l(f.documentElement.childNodes)[0].nodeType}catch(n){l=function(n){for(var t=n.length,r=new Array(t);t--;)r[t]=n[t];return r}}if(Date.now||(Date.now=function(){return+new Date}),f)try{f.createElement("DIV").style.setProperty("opacity",0,"")}catch(n){var c=this.Element.prototype,v=c.setAttribute,M=c.setAttributeNS,d=this.CSSStyleDeclaration.prototype,y=d.setProperty;c.setAttribute=function(n,t){v.call(this,n,t+"")},c.setAttributeNS=function(n,t,r){M.call(this,n,t,r+"")},d.setProperty=function(n,t,r){y.call(this,n,t+"",r)}}function m(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function N(n){return null===n?NaN:+n}function S(n){return!isNaN(n)}function k(n){return{left:function(t,r,u,i){for(arguments.length<3&&(u=0),arguments.length<4&&(i=t.length);u<i;){var o=u+i>>>1;n(t[o],r)<0?u=o+1:i=o}return u},right:function(t,r,u,i){for(arguments.length<3&&(u=0),arguments.length<4&&(i=t.length);u<i;){var o=u+i>>>1;n(t[o],r)>0?i=o:u=o+1}return u}}}o.ascending=m,o.descending=function(n,t){return t<n?-1:t>n?1:t>=n?0:NaN},o.min=function(n,t){var r,u,i=-1,o=n.length;if(1===arguments.length){for(;++i<o;)if(null!=(u=n[i])&&u>=u){r=u;break}for(;++i<o;)null!=(u=n[i])&&r>u&&(r=u)}else{for(;++i<o;)if(null!=(u=t.call(n,n[i],i))&&u>=u){r=u;break}for(;++i<o;)null!=(u=t.call(n,n[i],i))&&r>u&&(r=u)}return r},o.max=function(n,t){var r,u,i=-1,o=n.length;if(1===arguments.length){for(;++i<o;)if(null!=(u=n[i])&&u>=u){r=u;break}for(;++i<o;)null!=(u=n[i])&&u>r&&(r=u)}else{for(;++i<o;)if(null!=(u=t.call(n,n[i],i))&&u>=u){r=u;break}for(;++i<o;)null!=(u=t.call(n,n[i],i))&&u>r&&(r=u)}return r},o.extent=function(n,t){var r,u,i,o=-1,e=n.length;if(1===arguments.length){for(;++o<e;)if(null!=(u=n[o])&&u>=u){r=i=u;break}for(;++o<e;)null!=(u=n[o])&&(r>u&&(r=u),i<u&&(i=u))}else{for(;++o<e;)if(null!=(u=t.call(n,n[o],o))&&u>=u){r=i=u;break}for(;++o<e;)null!=(u=t.call(n,n[o],o))&&(r>u&&(r=u),i<u&&(i=u))}return[r,i]},o.sum=function(n,t){var r,u=0,i=n.length,o=-1;if(1===arguments.length)for(;++o<i;)S(r=+n[o])&&(u+=r);else for(;++o<i;)S(r=+t.call(n,n[o],o))&&(u+=r);return u},o.mean=function(n,t){var r,u=0,i=n.length,o=-1,e=i;if(1===arguments.length)for(;++o<i;)S(r=N(n[o]))?u+=r:--e;else for(;++o<i;)S(r=N(t.call(n,n[o],o)))?u+=r:--e;if(e)return u/e},o.quantile=function(n,t){var r=(n.length-1)*t+1,u=Math.floor(r),i=+n[u-1],o=r-u;return o?i+o*(n[u]-i):i},o.median=function(n,t){var r,u=[],i=n.length,e=-1;if(1===arguments.length)for(;++e<i;)S(r=N(n[e]))&&u.push(r);else for(;++e<i;)S(r=N(t.call(n,n[e],e)))&&u.push(r);if(u.length)return o.quantile(u.sort(m),.5)},o.variance=function(n,t){var r,u,i=n.length,o=0,e=0,l=-1,f=0;if(1===arguments.length)for(;++l<i;)S(r=N(n[l]))&&(e+=(u=r-o)*(r-(o+=u/++f)));else for(;++l<i;)S(r=N(t.call(n,n[l],l)))&&(e+=(u=r-o)*(r-(o+=u/++f)));if(f>1)return e/(f-1)},o.deviation=function(){var n=o.variance.apply(this,arguments);return n?Math.sqrt(n):n};var z=k(m);function q(n){return n.length}o.bisectLeft=z.left,o.bisect=o.bisectRight=z.right,o.bisector=function(n){return k(1===n.length?function(t,r){return m(n(t),r)}:n)},o.shuffle=function(n,t,r){(o=arguments.length)<3&&(r=n.length,o<2&&(t=0));for(var u,i,o=r-t;o;)i=Math.random()*o--|0,u=n[o+t],n[o+t]=n[i+t],n[i+t]=u;return n},o.permute=function(n,t){for(var r=t.length,u=new Array(r);r--;)u[r]=n[t[r]];return u},o.pairs=function(n){for(var t=0,r=n.length-1,u=n[0],i=new Array(r<0?0:r);t<r;)i[t]=[u,u=n[++t]];return i},o.transpose=function(n){if(!(i=n.length))return[];for(var t=-1,r=o.min(n,q),u=new Array(r);++t<r;)for(var i,e=-1,l=u[t]=new Array(i);++e<i;)l[e]=n[e][t];return u},o.zip=function(){return o.transpose(arguments)},o.keys=function(n){var t=[];for(var r in n)t.push(r);return t},o.values=function(n){var t=[];for(var r in n)t.push(n[r]);return t},o.entries=function(n){var t=[];for(var r in n)t.push({key:r,value:n[r]});return t},o.merge=function(n){for(var t,r,u,i=n.length,o=-1,e=0;++o<i;)e+=n[o].length;for(r=new Array(e);--i>=0;)for(t=(u=n[i]).length;--t>=0;)r[--e]=u[t];return r};var R=Math.abs;function U(n,t){for(var r in t)Object.defineProperty(n.prototype,r,{value:t[r],enumerable:!1})}function x(){this._=Object.create(null)}o.range=function(n,t,r){if(arguments.length<3&&(r=1,arguments.length<2&&(t=n,n=0)),(t-n)/r==1/0)throw new Error("infinite range");var u,i=[],o=function(n){var t=1;for(;n*t%1;)t*=10;return t}(R(r)),e=-1;if(n*=o,t*=o,(r*=o)<0)for(;(u=n+r*++e)>t;)i.push(u/o);else for(;(u=n+r*++e)<t;)i.push(u/o);return i},o.map=function(n,t){var r=new x;if(n instanceof x)n.forEach(function(n,t){r.set(n,t)});else if(Array.isArray(n)){var u,i=-1,o=n.length;if(1===arguments.length)for(;++i<o;)r.set(i,n[i]);else for(;++i<o;)r.set(t.call(n,u=n[i],i),u)}else for(var e in n)r.set(e,n[e]);return r};var b="__proto__",C="\0";function O(n){return(n+="")===b||n[0]===C?C+n:n}function H(n){return(n+="")[0]===C?n.slice(1):n}function Y(n){return O(n)in this._}function T(n){return(n=O(n))in this._&&delete this._[n]}function Z(){var n=[];for(var t in this._)n.push(H(t));return n}function j(){var n=0;for(var t in this._)++n;return n}function X(){for(var n in this._)return!1;return!0}function W(){this._=Object.create(null)}function J(n){return n}function Q(n,t,r){return function(){var u=r.apply(t,arguments);return u===t?n:u}}function V(n,t){if(t in n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var r=0,u=G.length;r<u;++r){var i=G[r]+t;if(i in n)return i}}U(x,{has:Y,get:function(n){return this._[O(n)]},set:function(n,t){return this._[O(n)]=t},remove:T,keys:Z,values:function(){var n=[];for(var t in this._)n.push(this._[t]);return n},entries:function(){var n=[];for(var t in this._)n.push({key:H(t),value:this._[t]});return n},size:j,empty:X,forEach:function(n){for(var t in this._)n.call(this,H(t),this._[t])}}),o.nest=function(){var n,t,r={},u=[],i=[];function e(i,o,l){if(l>=u.length)return t?t.call(r,o):n?o.sort(n):o;for(var f,a,h,c,v=-1,M=o.length,d=u[l++],y=new x;++v<M;)(c=y.get(f=d(a=o[v])))?c.push(a):y.set(f,[a]);return i?(a=i(),h=function(n,t){a.set(n,e(i,t,l))}):(a={},h=function(n,t){a[n]=e(i,t,l)}),y.forEach(h),a}return r.map=function(n,t){return e(t,n,0)},r.entries=function(n){return function n(t,r){if(r>=u.length)return t;var o=[],e=i[r++];return t.forEach(function(t,u){o.push({key:t,values:n(u,r)})}),e?o.sort(function(n,t){return e(n.key,t.key)}):o}(e(o.map,n,0),0)},r.key=function(n){return u.push(n),r},r.sortKeys=function(n){return i[u.length-1]=n,r},r.sortValues=function(t){return n=t,r},r.rollup=function(n){return t=n,r},r},o.set=function(n){var t=new W;if(n)for(var r=0,u=n.length;r<u;++r)t.add(n[r]);return t},U(W,{has:Y,add:function(n){return this._[O(n+="")]=!0,n},remove:T,values:Z,size:j,empty:X,forEach:function(n){for(var t in this._)n.call(this,H(t))}}),o.behavior={},o.rebind=function(n,t){for(var r,u=1,i=arguments.length;++u<i;)n[r=arguments[u]]=Q(n,t,t[r]);return n};var G=["webkit","ms","moz","Moz","o","O"];function B(){}function K(){}function w(n){var t=[],r=new x;function u(){for(var r,u=t,i=-1,o=u.length;++i<o;)(r=u[i].on)&&r.apply(this,arguments);return n}return u.on=function(u,i){var o,e=r.get(u);return arguments.length<2?e&&e.on:(e&&(e.on=null,t=t.slice(0,o=t.indexOf(e)).concat(t.slice(o+1)),r.remove(u)),i&&t.push(r.set(u,{on:i})),n)},u}function P(){o.event.preventDefault()}function _(){for(var n,t=o.event;n=t.sourceEvent;)t=n;return t}function g(n){for(var t=new K,r=0,u=arguments.length;++r<u;)t[arguments[r]]=w(t);return t.of=function(r,u){return function(i){try{var e=i.sourceEvent=o.event;i.target=n,o.event=i,t[i.type].apply(r,u)}finally{o.event=e}}},t}o.dispatch=function(){for(var n=new K,t=-1,r=arguments.length;++t<r;)n[arguments[t]]=w(n);return n},K.prototype.on=function(n,t){var r=n.indexOf("."),u="";if(r>=0&&(u=n.slice(r+1),n=n.slice(0,r)),n)return arguments.length<2?this[n].on(u):this[n].on(u,t);if(2===arguments.length){if(null==t)for(n in this)this.hasOwnProperty(n)&&this[n].on(u,null);return this}},o.event=null,o.requote=function(n){return n.replace(E,"\\$&")};var E=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,A={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var r in t)n[r]=t[r]};function L(n){return A(n,p),n}var D=function(n,t){return t.querySelector(n)},F=function(n,t){return t.querySelectorAll(n)},I=function(n,t){var r=n.matches||n[V(n,"matchesSelector")];return(I=function(n,t){return r.call(n,t)})(n,t)};"function"==typeof Sizzle&&(D=function(n,t){return Sizzle(n,t)[0]||null},F=Sizzle,I=Sizzle.matchesSelector),o.selection=function(){return o.select(f.documentElement)};var p=o.selection.prototype=[];function s(n){return"function"==typeof n?n:function(){return D(n,this)}}function $(n){return"function"==typeof n?n:function(){return F(n,this)}}p.select=function(n){var t,r,u,i,o=[];n=s(n);for(var e=-1,l=this.length;++e<l;){o.push(t=[]),t.parentNode=(u=this[e]).parentNode;for(var f=-1,a=u.length;++f<a;)(i=u[f])?(t.push(r=n.call(i,i.__data__,f,e)),r&&"__data__"in i&&(r.__data__=i.__data__)):t.push(null)}return L(o)},p.selectAll=function(n){var t,r,u=[];n=$(n);for(var i=-1,o=this.length;++i<o;)for(var e=this[i],f=-1,a=e.length;++f<a;)(r=e[f])&&(u.push(t=l(n.call(r,r.__data__,f,i))),t.parentNode=r);return L(u)};var nn="http://www.w3.org/1999/xhtml",tn={svg:"http://www.w3.org/2000/svg",xhtml:nn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function rn(n,t){return n=o.ns.qualify(n),null==t?n.local?function(){this.removeAttributeNS(n.space,n.local)}:function(){this.removeAttribute(n)}:"function"==typeof t?n.local?function(){var r=t.apply(this,arguments);null==r?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,r)}:function(){var r=t.apply(this,arguments);null==r?this.removeAttribute(n):this.setAttribute(n,r)}:n.local?function(){this.setAttributeNS(n.space,n.local,t)}:function(){this.setAttribute(n,t)}}function un(n){return n.trim().replace(/\s+/g," ")}function on(n){return new RegExp("(?:^|\\s+)"+o.requote(n)+"(?:\\s+|$)","g")}function en(n){return(n+"").trim().split(/^|\s+/)}function ln(n,t){var r=(n=en(n).map(fn)).length;return"function"==typeof t?function(){for(var u=-1,i=t.apply(this,arguments);++u<r;)n[u](this,i)}:function(){for(var u=-1;++u<r;)n[u](this,t)}}function fn(n){var t=on(n);return function(r,u){if(i=r.classList)return u?i.add(n):i.remove(n);var i=r.getAttribute("class")||"";u?(t.lastIndex=0,t.test(i)||r.setAttribute("class",un(i+" "+n))):r.setAttribute("class",un(i.replace(t," ")))}}function an(n,t,r){return null==t?function(){this.style.removeProperty(n)}:"function"==typeof t?function(){var u=t.apply(this,arguments);null==u?this.style.removeProperty(n):this.style.setProperty(n,u,r)}:function(){this.style.setProperty(n,t,r)}}function hn(n,t){return null==t?function(){delete this[n]}:"function"==typeof t?function(){var r=t.apply(this,arguments);null==r?delete this[n]:this[n]=r}:function(){this[n]=t}}function cn(n){return"function"==typeof n?n:(n=o.ns.qualify(n)).local?function(){return this.ownerDocument.createElementNS(n.space,n.local)}:function(){var t=this.ownerDocument,r=this.namespaceURI;return r===nn&&t.documentElement.namespaceURI===nn?t.createElement(n):t.createElementNS(r,n)}}function vn(){var n=this.parentNode;n&&n.removeChild(this)}function Mn(n){return{__data__:n}}function dn(n){return function(){return I(this,n)}}function yn(n,t){for(var r=0,u=n.length;r<u;r++)for(var i,o=n[r],e=0,l=o.length;e<l;e++)(i=o[e])&&t(i,e,r);return n}function mn(n){return A(n,Nn),n}o.ns={prefix:tn,qualify:function(n){var t=n.indexOf(":"),r=n;return t>=0&&"xmlns"!==(r=n.slice(0,t))&&(n=n.slice(t+1)),tn.hasOwnProperty(r)?{space:tn[r],local:n}:n}},p.attr=function(n,t){if(arguments.length<2){if("string"==typeof n){var r=this.node();return(n=o.ns.qualify(n)).local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}for(t in n)this.each(rn(t,n[t]));return this}return this.each(rn(n,t))},p.classed=function(n,t){if(arguments.length<2){if("string"==typeof n){var r=this.node(),u=(n=en(n)).length,i=-1;if(t=r.classList){for(;++i<u;)if(!t.contains(n[i]))return!1}else for(t=r.getAttribute("class");++i<u;)if(!on(n[i]).test(t))return!1;return!0}for(t in n)this.each(ln(t,n[t]));return this}return this.each(ln(n,t))},p.style=function(n,t,r){var u=arguments.length;if(u<3){if("string"!=typeof n){for(r in u<2&&(t=""),n)this.each(an(r,n[r],t));return this}if(u<2){var i=this.node();return h(i).getComputedStyle(i,null).getPropertyValue(n)}r=""}return this.each(an(n,t,r))},p.property=function(n,t){if(arguments.length<2){if("string"==typeof n)return this.node()[n];for(t in n)this.each(hn(t,n[t]));return this}return this.each(hn(n,t))},p.text=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}:null==n?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent},p.html=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}:null==n?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML},p.append=function(n){return n=cn(n),this.select(function(){return this.appendChild(n.apply(this,arguments))})},p.insert=function(n,t){return n=cn(n),t=s(t),this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)})},p.remove=function(){return this.each(vn)},p.data=function(n,t){var r,u,i=-1,o=this.length;if(!arguments.length){for(n=new Array(o=(r=this[0]).length);++i<o;)(u=r[i])&&(n[i]=u.__data__);return n}function e(n,r){var u,i,o,e=n.length,h=r.length,c=Math.min(e,h),v=new Array(h),M=new Array(h),d=new Array(e);if(t){var y,m=new x,N=new Array(e);for(u=-1;++u<e;)(i=n[u])&&(m.has(y=t.call(i,i.__data__,u))?d[u]=i:m.set(y,i),N[u]=y);for(u=-1;++u<h;)(i=m.get(y=t.call(r,o=r[u],u)))?!0!==i&&(v[u]=i,i.__data__=o):M[u]=Mn(o),m.set(y,!0);for(u=-1;++u<e;)u in N&&!0!==m.get(N[u])&&(d[u]=n[u])}else{for(u=-1;++u<c;)i=n[u],o=r[u],i?(i.__data__=o,v[u]=i):M[u]=Mn(o);for(;u<h;++u)M[u]=Mn(r[u]);for(;u<e;++u)d[u]=n[u]}M.update=v,M.parentNode=v.parentNode=d.parentNode=n.parentNode,l.push(M),f.push(v),a.push(d)}var l=mn([]),f=L([]),a=L([]);if("function"==typeof n)for(;++i<o;)e(r=this[i],n.call(r,r.parentNode.__data__,i));else for(;++i<o;)e(r=this[i],n);return f.enter=function(){return l},f.exit=function(){return a},f},p.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")},p.filter=function(n){var t,r,u,i=[];"function"!=typeof n&&(n=dn(n));for(var o=0,e=this.length;o<e;o++){i.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var l=0,f=r.length;l<f;l++)(u=r[l])&&n.call(u,u.__data__,l,o)&&t.push(u)}return L(i)},p.order=function(){for(var n=-1,t=this.length;++n<t;)for(var r,u=this[n],i=u.length-1,o=u[i];--i>=0;)(r=u[i])&&(o&&o!==r.nextSibling&&o.parentNode.insertBefore(r,o),o=r);return this},p.sort=function(n){n=function(n){arguments.length||(n=m);return function(t,r){return t&&r?n(t.__data__,r.__data__):!t-!r}}.apply(this,arguments);for(var t=-1,r=this.length;++t<r;)this[t].sort(n);return this.order()},p.each=function(n){return yn(this,function(t,r,u){n.call(t,t.__data__,r,u)})},p.call=function(n){var t=l(arguments);return n.apply(t[0]=this,t),this},p.empty=function(){return!this.node()},p.node=function(){for(var n=0,t=this.length;n<t;n++)for(var r=this[n],u=0,i=r.length;u<i;u++){var o=r[u];if(o)return o}return null},p.size=function(){var n=0;return yn(this,function(){++n}),n};var Nn=[];function Sn(n,t,r){var u="__on"+n,i=n.indexOf("."),e=zn;i>0&&(n=n.slice(0,i));var f=kn.get(n);function a(){var t=this[u];t&&(this.removeEventListener(n,t,t.$),delete this[u])}return f&&(n=f,e=qn),i?t?function(){var i=e(t,l(arguments));a.call(this),this.addEventListener(n,this[u]=i,i.$=r),i._=t}:a:t?B:function(){var t,r=new RegExp("^__on([^.]+)"+o.requote(n)+"$");for(var u in this)if(t=u.match(r)){var i=this[u];this.removeEventListener(t[1],i,i.$),delete this[u]}}}o.selection.enter=mn,o.selection.enter.prototype=Nn,Nn.append=p.append,Nn.empty=p.empty,Nn.node=p.node,Nn.call=p.call,Nn.size=p.size,Nn.select=function(n){for(var t,r,u,i,o,e=[],l=-1,f=this.length;++l<f;){u=(i=this[l]).update,e.push(t=[]),t.parentNode=i.parentNode;for(var a=-1,h=i.length;++a<h;)(o=i[a])?(t.push(u[a]=r=n.call(i.parentNode,o.__data__,a,l)),r.__data__=o.__data__):t.push(null)}return L(e)},Nn.insert=function(n,t){var r,u,i;return arguments.length<2&&(r=this,t=function(n,t,o){var e,l=r[o].update,f=l.length;for(o!=i&&(i=o,u=0),t>=u&&(u=t+1);!(e=l[u])&&++u<f;);return e}),p.insert.call(this,n,t)},o.select=function(n){var t;return"string"==typeof n?(t=[D(n,f)]).parentNode=f.documentElement:(t=[n]).parentNode=a(n),L([t])},o.selectAll=function(n){var t;return"string"==typeof n?(t=l(F(n,f))).parentNode=f.documentElement:(t=l(n)).parentNode=null,L([t])},p.on=function(n,t,r){var u=arguments.length;if(u<3){if("string"!=typeof n){for(r in u<2&&(t=!1),n)this.each(Sn(r,n[r],t));return this}if(u<2)return(u=this.node()["__on"+n])&&u._;r=!1}return this.each(Sn(n,t,r))};var kn=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});function zn(n,t){return function(r){var u=o.event;o.event=r,t[0]=this.__data__;try{n.apply(this,t)}finally{o.event=u}}}function qn(n,t){var r=zn(n,t);return function(n){var t=n.relatedTarget;t&&(t===this||8&t.compareDocumentPosition(this))||r.call(this,n)}}f&&kn.forEach(function(n){"on"+n in f&&kn.remove(n)});var Rn,Un=0;function xn(n){var t=".dragsuppress-"+ ++Un,r="click"+t,u=o.select(h(n)).on("touchmove"+t,P).on("dragstart"+t,P).on("selectstart"+t,P);if(null==Rn&&(Rn=!("onselectstart"in n)&&V(n.style,"userSelect")),Rn){var i=a(n).style,e=i[Rn];i[Rn]="none"}return function(n){if(u.on(t,null),Rn&&(i[Rn]=e),n){var o=function(){u.on(r,null)};u.on(r,function(){P(),o()},!0),setTimeout(o,0)}}}o.mouse=function(n){return Cn(n,_())};var bn=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Cn(n,t){t.changedTouches&&(t=t.changedTouches[0]);var r=n.ownerSVGElement||n;if(r.createSVGPoint){var u=r.createSVGPoint();if(bn<0){var i=h(n);if(i.scrollX||i.scrollY){var e=(r=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();bn=!(e.f||e.e),r.remove()}}return bn?(u.x=t.pageX,u.y=t.pageY):(u.x=t.clientX,u.y=t.clientY),[(u=u.matrixTransform(n.getScreenCTM().inverse())).x,u.y]}var l=n.getBoundingClientRect();return[t.clientX-l.left-n.clientLeft,t.clientY-l.top-n.clientTop]}function On(){return o.event.changedTouches[0].identifier}o.touch=function(n,t,r){if(arguments.length<3&&(r=t,t=_().changedTouches),t)for(var u,i=0,o=t.length;i<o;++i)if((u=t[i]).identifier===r)return Cn(n,u)},o.behavior.drag=function(){var n=g(i,"drag","dragstart","dragend"),t=null,r=e(B,o.mouse,h,"mousemove","mouseup"),u=e(On,o.touch,J,"touchmove","touchend");function i(){this.on("mousedown.drag",r).on("touchstart.drag",u)}function e(r,u,i,e,l){return function(){var f,a=o.event.target.correspondingElement||o.event.target,h=this.parentNode,c=n.of(this,arguments),v=0,M=r(),d=".drag"+(null==M?"":"-"+M),y=o.select(i(a)).on(e+d,function(){var n,t,r=u(h,M);if(!r)return;n=r[0]-N[0],t=r[1]-N[1],v|=n|t,N=r,c({type:"drag",x:r[0]+f[0],y:r[1]+f[1],dx:n,dy:t})}).on(l+d,function(){if(!u(h,M))return;y.on(e+d,null).on(l+d,null),m(v),c({type:"dragend"})}),m=xn(a),N=u(h,M);f=t?[(f=t.apply(this,arguments)).x-N[0],f.y-N[1]]:[0,0],c({type:"dragstart"})}}return i.origin=function(n){return arguments.length?(t=n,i):t},o.rebind(i,n,"on")},o.touches=function(n,t){return arguments.length<2&&(t=_().touches),t?l(t).map(function(t){var r=Cn(n,t);return r.identifier=t.identifier,r}):[]};var Hn=1e-6,Yn=Hn*Hn,Tn=Math.PI,Zn=2*Tn,jn=Zn-Hn,Xn=Tn/2,Wn=Tn/180,Jn=180/Tn;function Qn(n){return n>0?1:n<0?-1:0}function Vn(n,t,r){return(t[0]-n[0])*(r[1]-n[1])-(t[1]-n[1])*(r[0]-n[0])}function Gn(n){return n>1?0:n<-1?Tn:Math.acos(n)}function Bn(n){return n>1?Xn:n<-1?-Xn:Math.asin(n)}function Kn(n){return((n=Math.exp(n))+1/n)/2}function wn(n){return(n=Math.sin(n/2))*n}var Pn=Math.SQRT2;o.interpolateZoom=function(n,t){var r,u,i=n[0],o=n[1],e=n[2],l=t[0],f=t[1],a=t[2],h=l-i,c=f-o,v=h*h+c*c;if(v<Yn)u=Math.log(a/e)/Pn,r=function(n){return[i+n*h,o+n*c,e*Math.exp(Pn*n*u)]};else{var M=Math.sqrt(v),d=(a*a-e*e+4*v)/(2*e*2*M),y=(a*a-e*e-4*v)/(2*a*2*M),m=Math.log(Math.sqrt(d*d+1)-d),N=Math.log(Math.sqrt(y*y+1)-y);u=(N-m)/Pn,r=function(n){var t,r=n*u,l=Kn(m),f=e/(2*M)*(l*(t=Pn*r+m,((t=Math.exp(2*t))-1)/(t+1))-function(n){return((n=Math.exp(n))-1/n)/2}(m));return[i+f*h,o+f*c,e*l/Kn(Pn*r+m)]}}return r.duration=1e3*u,r},o.behavior.zoom=function(){var n,t,r,u,i,e,l,a,c,v={x:0,y:0,k:1},M=[960,500],d=En,y=250,m=0,N="mousedown.zoom",S="mousemove.zoom",k="mouseup.zoom",z="touchstart.zoom",q=g(R,"zoomstart","zoom","zoomend");function R(n){n.on(N,Z).on(gn+".zoom",X).on("dblclick.zoom",W).on(z,j)}function U(n){return[(n[0]-v.x)/v.k,(n[1]-v.y)/v.k]}function x(n){v.k=Math.max(d[0],Math.min(d[1],n))}function b(n,t){t=function(n){return[n[0]*v.k+v.x,n[1]*v.k+v.y]}(t),v.x+=n[0]-t[0],v.y+=n[1]-t[1]}function C(n,r,u,i){n.__chart__={x:v.x,y:v.y,k:v.k},x(Math.pow(2,i)),b(t=r,u),n=o.select(n),y>0&&(n=n.transition().duration(y)),n.call(R.event)}function O(){l&&l.domain(e.range().map(function(n){return(n-v.x)/v.k}).map(e.invert)),c&&c.domain(a.range().map(function(n){return(n-v.y)/v.k}).map(a.invert))}function H(n){m++||n({type:"zoomstart"})}function Y(n){O(),n({type:"zoom",scale:v.k,translate:[v.x,v.y]})}function T(n){--m||(n({type:"zoomend"}),t=null)}function Z(){var n=this,t=q.of(n,arguments),r=0,u=o.select(h(n)).on(S,function(){r=1,b(o.mouse(n),i),Y(t)}).on(k,function(){u.on(S,null).on(k,null),e(r),T(t)}),i=U(o.mouse(n)),e=xn(n);Nl.call(n),H(t)}function j(){var n,t=this,r=q.of(t,arguments),u={},e=0,l=".zoom-"+o.event.changedTouches[0].identifier,f="touchmove"+l,a="touchend"+l,h=[],c=o.select(t),M=xn(t);function d(){var r=o.touches(t);return n=v.k,r.forEach(function(n){n.identifier in u&&(u[n.identifier]=U(n))}),r}function y(){var n=o.event.target;o.select(n).on(f,m).on(a,S),h.push(n);for(var r=o.event.changedTouches,l=0,c=r.length;l<c;++l)u[r[l].identifier]=null;var M=d(),y=Date.now();if(1===M.length){if(y-i<500){var N=M[0];C(t,N,u[N.identifier],Math.floor(Math.log(v.k)/Math.LN2)+1),P()}i=y}else if(M.length>1){N=M[0];var k=M[1],z=N[0]-k[0],q=N[1]-k[1];e=z*z+q*q}}function m(){var l,f,a,h,c=o.touches(t);Nl.call(t);for(var v=0,M=c.length;v<M;++v,h=null)if(a=c[v],h=u[a.identifier]){if(f)break;l=a,f=h}if(h){var d=(d=a[0]-l[0])*d+(d=a[1]-l[1])*d,y=e&&Math.sqrt(d/e);l=[(l[0]+a[0])/2,(l[1]+a[1])/2],f=[(f[0]+h[0])/2,(f[1]+h[1])/2],x(y*n)}i=null,b(l,f),Y(r)}function S(){if(o.event.touches.length){for(var n=o.event.changedTouches,t=0,i=n.length;t<i;++t)delete u[n[t].identifier];for(var e in u)return void d()}o.selectAll(h).on(l,null),c.on(N,Z).on(z,j),M(),T(r)}y(),H(r),c.on(N,null).on(z,y)}function X(){var i=q.of(this,arguments);u?clearTimeout(u):(Nl.call(this),n=U(t=r||o.mouse(this)),H(i)),u=setTimeout(function(){u=null,T(i)},50),P(),x(Math.pow(2,.002*_n())*v.k),b(t,n),Y(i)}function W(){var n=o.mouse(this),t=Math.log(v.k)/Math.LN2;C(this,n,U(n),o.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}return gn||(gn="onwheel"in f?(_n=function(){return-o.event.deltaY*(o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in f?(_n=function(){return o.event.wheelDelta},"mousewheel"):(_n=function(){return-o.event.detail},"MozMousePixelScroll")),R.event=function(n){n.each(function(){var n=q.of(this,arguments),r=v;zl?o.select(this).transition().each("start.zoom",function(){v=this.__chart__||{x:0,y:0,k:1},H(n)}).tween("zoom:zoom",function(){var u=M[0],i=M[1],e=t?t[0]:u/2,l=t?t[1]:i/2,f=o.interpolateZoom([(e-v.x)/v.k,(l-v.y)/v.k,u/v.k],[(e-r.x)/r.k,(l-r.y)/r.k,u/r.k]);return function(t){var r=f(t),i=u/r[2];this.__chart__=v={x:e-r[0]*i,y:l-r[1]*i,k:i},Y(n)}}).each("interrupt.zoom",function(){T(n)}).each("end.zoom",function(){T(n)}):(this.__chart__=v,H(n),Y(n),T(n))})},R.translate=function(n){return arguments.length?(v={x:+n[0],y:+n[1],k:v.k},O(),R):[v.x,v.y]},R.scale=function(n){return arguments.length?(v={x:v.x,y:v.y,k:null},x(+n),O(),R):v.k},R.scaleExtent=function(n){return arguments.length?(d=null==n?En:[+n[0],+n[1]],R):d},R.center=function(n){return arguments.length?(r=n&&[+n[0],+n[1]],R):r},R.size=function(n){return arguments.length?(M=n&&[+n[0],+n[1]],R):M},R.duration=function(n){return arguments.length?(y=+n,R):y},R.x=function(n){return arguments.length?(l=n,e=n.copy(),v={x:0,y:0,k:1},R):l},R.y=function(n){return arguments.length?(c=n,a=n.copy(),v={x:0,y:0,k:1},R):c},o.rebind(R,q,"on")};var _n,gn,En=[0,1/0];function An(){}function Ln(n,t,r){return this instanceof Ln?(this.h=+n,this.s=+t,void(this.l=+r)):arguments.length<2?n instanceof Ln?new Ln(n.h,n.s,n.l):yt(""+n,mt,Ln):new Ln(n,t,r)}o.color=An,An.prototype.toString=function(){return this.rgb()+""},o.hsl=Ln;var Dn=Ln.prototype=new An;function Fn(n,t,r){var u,i;function o(n){return Math.round(255*function(n){return n>360?n-=360:n<0&&(n+=360),n<60?u+(i-u)*n/60:n<180?i:n<240?u+(i-u)*(240-n)/60:u}(n))}return n=isNaN(n)?0:(n%=360)<0?n+360:n,t=isNaN(t)?0:t<0?0:t>1?1:t,u=2*(r=r<0?0:r>1?1:r)-(i=r<=.5?r*(1+t):r+t-r*t),new ht(o(n+120),o(n),o(n-120))}function In(n,t,r){return this instanceof In?(this.h=+n,this.c=+t,void(this.l=+r)):arguments.length<2?n instanceof In?new In(n.h,n.c,n.l):et(n instanceof $n?n.l:(n=Nt((n=o.rgb(n)).r,n.g,n.b)).l,n.a,n.b):new In(n,t,r)}Dn.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),new Ln(this.h,this.s,this.l/n)},Dn.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new Ln(this.h,this.s,n*this.l)},Dn.rgb=function(){return Fn(this.h,this.s,this.l)},o.hcl=In;var pn=In.prototype=new An;function sn(n,t,r){return isNaN(n)&&(n=0),isNaN(t)&&(t=0),new $n(r,Math.cos(n*=Wn)*t,Math.sin(n)*t)}function $n(n,t,r){return this instanceof $n?(this.l=+n,this.a=+t,void(this.b=+r)):arguments.length<2?n instanceof $n?new $n(n.l,n.a,n.b):n instanceof In?sn(n.h,n.c,n.l):Nt((n=ht(n)).r,n.g,n.b):new $n(n,t,r)}pn.brighter=function(n){return new In(this.h,this.c,Math.min(100,this.l+nt*(arguments.length?n:1)))},pn.darker=function(n){return new In(this.h,this.c,Math.max(0,this.l-nt*(arguments.length?n:1)))},pn.rgb=function(){return sn(this.h,this.c,this.l).rgb()},o.lab=$n;var nt=18,tt=.95047,rt=1,ut=1.08883,it=$n.prototype=new An;function ot(n,t,r){var u=(n+16)/116,i=u+t/500,o=u-r/200;return new ht(at(3.2404542*(i=lt(i)*tt)-1.5371385*(u=lt(u)*rt)-.4985314*(o=lt(o)*ut)),at(-.969266*i+1.8760108*u+.041556*o),at(.0556434*i-.2040259*u+1.0572252*o))}function et(n,t,r){return n>0?new In(Math.atan2(r,t)*Jn,Math.sqrt(t*t+r*r),n):new In(NaN,NaN,n)}function lt(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function ft(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function at(n){return Math.round(255*(n<=.00304?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function ht(n,t,r){return this instanceof ht?(this.r=~~n,this.g=~~t,void(this.b=~~r)):arguments.length<2?n instanceof ht?new ht(n.r,n.g,n.b):yt(""+n,ht,Fn):new ht(n,t,r)}function ct(n){return new ht(n>>16,n>>8&255,255&n)}function vt(n){return ct(n)+""}it.brighter=function(n){return new $n(Math.min(100,this.l+nt*(arguments.length?n:1)),this.a,this.b)},it.darker=function(n){return new $n(Math.max(0,this.l-nt*(arguments.length?n:1)),this.a,this.b)},it.rgb=function(){return ot(this.l,this.a,this.b)},o.rgb=ht;var Mt=ht.prototype=new An;function dt(n){return n<16?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function yt(n,t,r){var u,i,o,e=0,l=0,f=0;if(u=/([a-z]+)\((.*)\)/.exec(n=n.toLowerCase()))switch(i=u[2].split(","),u[1]){case"hsl":return r(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(kt(i[0]),kt(i[1]),kt(i[2]))}return(o=zt.get(n))?t(o.r,o.g,o.b):(null==n||"#"!==n.charAt(0)||isNaN(o=parseInt(n.slice(1),16))||(4===n.length?(e=(3840&o)>>4,e|=e>>4,l=240&o,l|=l>>4,f=15&o,f|=f<<4):7===n.length&&(e=(16711680&o)>>16,l=(65280&o)>>8,f=255&o)),t(e,l,f))}function mt(n,t,r){var u,i,o=Math.min(n/=255,t/=255,r/=255),e=Math.max(n,t,r),l=e-o,f=(e+o)/2;return l?(i=f<.5?l/(e+o):l/(2-e-o),u=n==e?(t-r)/l+(t<r?6:0):t==e?(r-n)/l+2:(n-t)/l+4,u*=60):(u=NaN,i=f>0&&f<1?0:u),new Ln(u,i,f)}function Nt(n,t,r){var u=ft((.4124564*(n=St(n))+.3575761*(t=St(t))+.1804375*(r=St(r)))/tt),i=ft((.2126729*n+.7151522*t+.072175*r)/rt);return $n(116*i-16,500*(u-i),200*(i-ft((.0193339*n+.119192*t+.9503041*r)/ut)))}function St(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function kt(n){var t=parseFloat(n);return"%"===n.charAt(n.length-1)?Math.round(2.55*t):t}Mt.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var t=this.r,r=this.g,u=this.b,i=30;return t||r||u?(t&&t<i&&(t=i),r&&r<i&&(r=i),u&&u<i&&(u=i),new ht(Math.min(255,t/n),Math.min(255,r/n),Math.min(255,u/n))):new ht(i,i,i)},Mt.darker=function(n){return new ht((n=Math.pow(.7,arguments.length?n:1))*this.r,n*this.g,n*this.b)},Mt.hsl=function(){return mt(this.r,this.g,this.b)},Mt.toString=function(){return"#"+dt(this.r)+dt(this.g)+dt(this.b)};var zt=o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function qt(n){return"function"==typeof n?n:function(){return n}}function Rt(n){return function(t,r,u){return 2===arguments.length&&"function"==typeof r&&(u=r,r=null),Ut(t,r,n,u)}}function Ut(n,t,r,u){var i={},e=o.dispatch("beforesend","progress","load","error"),f={},a=new XMLHttpRequest,h=null;function c(){var n,t=a.status;if(!t&&function(n){var t=n.responseType;return t&&"text"!==t?n.response:n.responseText}(a)||t>=200&&t<300||304===t){try{n=r.call(i,a)}catch(n){return void e.error.call(i,n)}e.load.call(i,n)}else e.error.call(i,a)}return!this.XDomainRequest||"withCredentials"in a||!/^(http(s)?:)?\/\//.test(n)||(a=new XDomainRequest),"onload"in a?a.onload=a.onerror=c:a.onreadystatechange=function(){a.readyState>3&&c()},a.onprogress=function(n){var t=o.event;o.event=n;try{e.progress.call(i,a)}finally{o.event=t}},i.header=function(n,t){return n=(n+"").toLowerCase(),arguments.length<2?f[n]:(null==t?delete f[n]:f[n]=t+"",i)},i.mimeType=function(n){return arguments.length?(t=null==n?null:n+"",i):t},i.responseType=function(n){return arguments.length?(h=n,i):h},i.response=function(n){return r=n,i},["get","post"].forEach(function(n){i[n]=function(){return i.send.apply(i,[n].concat(l(arguments)))}}),i.send=function(r,u,o){if(2===arguments.length&&"function"==typeof u&&(o=u,u=null),a.open(r,n,!0),null==t||"accept"in f||(f.accept=t+",*/*"),a.setRequestHeader)for(var l in f)a.setRequestHeader(l,f[l]);return null!=t&&a.overrideMimeType&&a.overrideMimeType(t),null!=h&&(a.responseType=h),null!=o&&i.on("error",o).on("load",function(n){o(null,n)}),e.beforesend.call(i,a),a.send(null==u?null:u),i},i.abort=function(){return a.abort(),i},o.rebind(i,e,"on"),null==u?i:i.get(function(n){return 1===n.length?function(t,r){n(null==t?r:null)}:n}(u))}zt.forEach(function(n,t){zt.set(n,ct(t))}),o.functor=qt,o.xhr=Rt(J),o.dsv=function(n,t){var r=new RegExp('["'+n+"\n]"),u=n.charCodeAt(0);function i(n,r,u){arguments.length<3&&(u=r,r=null);var i=Ut(n,t,null==r?o:e(r),u);return i.row=function(n){return arguments.length?i.response(null==(r=n)?o:e(n)):r},i}function o(n){return i.parse(n.responseText)}function e(n){return function(t){return i.parse(t.responseText,n)}}function l(t){return t.map(f).join(n)}function f(n){return r.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}return i.parse=function(n,t){var r;return i.parseRows(n,function(n,u){if(r)return r(n,u-1);var i=new Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}");r=t?function(n,r){return t(i(n),r)}:i})},i.parseRows=function(n,t){var r,i,o={},e={},l=[],f=n.length,a=0,h=0;function c(){if(a>=f)return e;if(i)return i=!1,o;var t=a;if(34===n.charCodeAt(t)){for(var r=t;r++<f;)if(34===n.charCodeAt(r)){if(34!==n.charCodeAt(r+1))break;++r}return a=r+2,13===(l=n.charCodeAt(r+1))?(i=!0,10===n.charCodeAt(r+2)&&++a):10===l&&(i=!0),n.slice(t+1,r).replace(/""/g,'"')}for(;a<f;){var l,h=1;if(10===(l=n.charCodeAt(a++)))i=!0;else if(13===l)i=!0,10===n.charCodeAt(a)&&(++a,++h);else if(l!==u)continue;return n.slice(t,a-h)}return n.slice(t)}for(;(r=c())!==e;){for(var v=[];r!==o&&r!==e;)v.push(r),r=c();t&&null==(v=t(v,h++))||l.push(v)}return l},i.format=function(t){if(Array.isArray(t[0]))return i.formatRows(t);var r=new W,u=[];return t.forEach(function(n){for(var t in n)r.has(t)||u.push(r.add(t))}),[u.map(f).join(n)].concat(t.map(function(t){return u.map(function(n){return f(t[n])}).join(n)})).join("\n")},i.formatRows=function(n){return n.map(l).join("\n")},i},o.csv=o.dsv(",","text/csv"),o.tsv=o.dsv("\t","text/tab-separated-values");var xt,bt,Ct,Ot,Ht=this[V(this,"requestAnimationFrame")]||function(n){setTimeout(n,17)};function Yt(n,t,r){var u=arguments.length;u<2&&(t=0),u<3&&(r=Date.now());var i={c:n,t:r+t,n:null};return bt?bt.n=i:xt=i,bt=i,Ct||(Ot=clearTimeout(Ot),Ct=1,Ht(Tt)),i}function Tt(){var n=Zt(),t=jt()-n;t>24?(isFinite(t)&&(clearTimeout(Ot),Ot=setTimeout(Tt,t)),Ct=0):(Ct=1,Ht(Tt))}function Zt(){for(var n=Date.now(),t=xt;t;)n>=t.t&&t.c(n-t.t)&&(t.c=null),t=t.n;return n}function jt(){for(var n,t=xt,r=1/0;t;)t.c?(t.t<r&&(r=t.t),t=(n=t).n):t=n?n.n=t.n:xt=t.n;return bt=n,r}function Xt(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}o.timer=function(){Yt.apply(this,arguments)},o.timer.flush=function(){Zt(),jt()},o.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};var Wt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(function(n,t){var r=Math.pow(10,3*R(8-t));return{scale:t>8?function(n){return n/r}:function(n){return n*r},symbol:n}});function Jt(n){var t=n.decimal,r=n.thousands,u=n.grouping,i=n.currency,e=u&&r?function(n,t){for(var i=n.length,o=[],e=0,l=u[0],f=0;i>0&&l>0&&(f+l+1>t&&(l=Math.max(1,t-f)),o.push(n.substring(i-=l,i+l)),!((f+=l+1)>t));)l=u[e=(e+1)%u.length];return o.reverse().join(r)}:J;return function(n){var r=Qt.exec(n),u=r[1]||" ",l=r[2]||">",f=r[3]||"-",a=r[4]||"",h=r[5],c=+r[6],v=r[7],M=r[8],d=r[9],y=1,m="",N="",S=!1,k=!0;switch(M&&(M=+M.substring(1)),(h||"0"===u&&"="===l)&&(h=u="0",l="="),d){case"n":v=!0,d="g";break;case"%":y=100,N="%",d="f";break;case"p":y=100,N="%",d="r";break;case"b":case"o":case"x":case"X":"#"===a&&(m="0"+d.toLowerCase());case"c":k=!1;case"d":S=!0,M=0;break;case"s":y=-1,d="r"}"$"===a&&(m=i[0],N=i[1]),"r"!=d||M||(d="g"),null!=M&&("g"==d?M=Math.max(1,Math.min(21,M)):"e"!=d&&"f"!=d||(M=Math.max(0,Math.min(20,M)))),d=Vt.get(d)||Gt;var z=h&&v;return function(n){var r=N;if(S&&n%1)return"";var i=n<0||0===n&&1/n<0?(n=-n,"-"):"-"===f?"":f;if(y<0){var a=o.formatPrefix(n,M);n=a.scale(n),r=a.symbol+N}else n*=y;var q,R,U=(n=d(n,M)).lastIndexOf(".");if(U<0){var x=k?n.lastIndexOf("e"):-1;x<0?(q=n,R=""):(q=n.substring(0,x),R=n.substring(x))}else q=n.substring(0,U),R=t+n.substring(U+1);!h&&v&&(q=e(q,1/0));var b=m.length+q.length+R.length+(z?0:i.length),C=b<c?new Array(b=c-b+1).join(u):"";return z&&(q=e(C+q,C.length?c-R.length:1/0)),i+=m,n=q+R,("<"===l?i+n+C:">"===l?C+i+n:"^"===l?C.substring(0,b>>=1)+i+n+C.substring(b):i+(z?n:C+n))+r}}}o.formatPrefix=function(n,t){var r=0;return(n=+n)&&(n<0&&(n*=-1),t&&(n=o.round(n,Xt(n,t))),r=1+Math.floor(1e-12+Math.log(n)/Math.LN10),r=Math.max(-24,Math.min(24,3*Math.floor((r-1)/3)))),Wt[8+r/3]};var Qt=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Vt=o.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(n,t){return(n=o.round(n,Xt(n,t))).toFixed(Math.max(0,Math.min(20,Xt(n*(1+1e-15),t))))}});function Gt(n){return n+""}var Bt=o.time={},Kt=Date;function wt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}wt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Pt.setUTCDate.apply(this._,arguments)},setDay:function(){Pt.setUTCDay.apply(this._,arguments)},setFullYear:function(){Pt.setUTCFullYear.apply(this._,arguments)},setHours:function(){Pt.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Pt.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Pt.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Pt.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Pt.setUTCSeconds.apply(this._,arguments)},setTime:function(){Pt.setTime.apply(this._,arguments)}};var Pt=Date.prototype;function _t(n,t,r){function u(t){var r=n(t),u=o(r,1);return t-r<u-t?r:u}function i(r){return t(r=n(new Kt(r-1)),1),r}function o(n,r){return t(n=new Kt(+n),r),n}function e(n,u,o){var e=i(n),l=[];if(o>1)for(;e<u;)r(e)%o||l.push(new Date(+e)),t(e,1);else for(;e<u;)l.push(new Date(+e)),t(e,1);return l}n.floor=n,n.round=u,n.ceil=i,n.offset=o,n.range=e;var l=n.utc=gt(n);return l.floor=l,l.round=gt(u),l.ceil=gt(i),l.offset=gt(o),l.range=function(n,t,r){try{Kt=wt;var u=new wt;return u._=n,e(u,t,r)}finally{Kt=Date}},n}function gt(n){return function(t,r){try{Kt=wt;var u=new wt;return u._=t,n(u,r)._}finally{Kt=Date}}}function Et(n){var t=n.dateTime,r=n.date,u=n.time,i=n.periods,e=n.days,l=n.shortDays,f=n.months,a=n.shortMonths;function h(n){var t=n.length;function r(r){for(var u,i,o,e=[],l=-1,f=0;++l<t;)37===n.charCodeAt(l)&&(e.push(n.slice(f,l)),null!=(i=At[u=n.charAt(++l)])&&(u=n.charAt(++l)),(o=q[u])&&(u=o(r,null==i?"e"===u?" ":"0":i)),e.push(u),f=l+1);return e.push(n.slice(f,l)),e.join("")}return r.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(c(r,n,t,0)!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var u=null!=r.Z&&Kt!==wt,i=new(u?wt:Kt);return"j"in r?i.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),i.setFullYear(r.y,0,1),i.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(i.getDay()+5)%7:r.w+7*r.U-(i.getDay()+6)%7)):i.setFullYear(r.y,r.m,r.d),i.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),u?i._:i},r.toString=function(){return n},r}function c(n,t,r,u){for(var i,o,e,l=0,f=t.length,a=r.length;l<f;){if(u>=a)return-1;if(37===(i=t.charCodeAt(l++))){if(e=t.charAt(l++),!(o=R[e in At?t.charAt(l++):e])||(u=o(n,r,u))<0)return-1}else if(i!=r.charCodeAt(u++))return-1}return u}h.utc=function(n){var t=h(n);function r(n){try{var r=new(Kt=wt);return r._=n,t(r)}finally{Kt=Date}}return r.parse=function(n){try{Kt=wt;var r=t.parse(n);return r&&r._}finally{Kt=Date}},r.toString=t.toString,r},h.multi=h.utc.multi=Mr;var v=o.map(),M=It(e),d=pt(e),y=It(l),m=pt(l),N=It(f),S=pt(f),k=It(a),z=pt(a);i.forEach(function(n,t){v.set(n.toLowerCase(),t)});var q={a:function(n){return l[n.getDay()]},A:function(n){return e[n.getDay()]},b:function(n){return a[n.getMonth()]},B:function(n){return f[n.getMonth()]},c:h(t),d:function(n,t){return Ft(n.getDate(),t,2)},e:function(n,t){return Ft(n.getDate(),t,2)},H:function(n,t){return Ft(n.getHours(),t,2)},I:function(n,t){return Ft(n.getHours()%12||12,t,2)},j:function(n,t){return Ft(1+Bt.dayOfYear(n),t,3)},L:function(n,t){return Ft(n.getMilliseconds(),t,3)},m:function(n,t){return Ft(n.getMonth()+1,t,2)},M:function(n,t){return Ft(n.getMinutes(),t,2)},p:function(n){return i[+(n.getHours()>=12)]},S:function(n,t){return Ft(n.getSeconds(),t,2)},U:function(n,t){return Ft(Bt.sundayOfYear(n),t,2)},w:function(n){return n.getDay()},W:function(n,t){return Ft(Bt.mondayOfYear(n),t,2)},x:h(r),X:h(u),y:function(n,t){return Ft(n.getFullYear()%100,t,2)},Y:function(n,t){return Ft(n.getFullYear()%1e4,t,4)},Z:cr,"%":function(){return"%"}},R={a:function(n,t,r){y.lastIndex=0;var u=y.exec(t.slice(r));return u?(n.w=m.get(u[0].toLowerCase()),r+u[0].length):-1},A:function(n,t,r){M.lastIndex=0;var u=M.exec(t.slice(r));return u?(n.w=d.get(u[0].toLowerCase()),r+u[0].length):-1},b:function(n,t,r){k.lastIndex=0;var u=k.exec(t.slice(r));return u?(n.m=z.get(u[0].toLowerCase()),r+u[0].length):-1},B:function(n,t,r){N.lastIndex=0;var u=N.exec(t.slice(r));return u?(n.m=S.get(u[0].toLowerCase()),r+u[0].length):-1},c:function(n,t,r){return c(n,q.c.toString(),t,r)},d:or,e:or,H:lr,I:lr,j:er,L:hr,m:ir,M:fr,p:function(n,t,r){var u=v.get(t.slice(r,r+=2).toLowerCase());return null==u?-1:(n.p=u,r)},S:ar,U:$t,w:st,W:nr,x:function(n,t,r){return c(n,q.x.toString(),t,r)},X:function(n,t,r){return c(n,q.X.toString(),t,r)},y:rr,Y:tr,Z:ur,"%":vr};return h}Bt.year=_t(function(n){return(n=Bt.day(n)).setMonth(0,1),n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()}),Bt.years=Bt.year.range,Bt.years.utc=Bt.year.utc.range,Bt.day=_t(function(n){var t=new Kt(2e3,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1}),Bt.days=Bt.day.range,Bt.days.utc=Bt.day.utc.range,Bt.dayOfYear=function(n){var t=Bt.year(n);return Math.floor((n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(n,t){t=7-t;var r=Bt[n]=_t(function(n){return(n=Bt.day(n)).setDate(n.getDate()-(n.getDay()+t)%7),n},function(n,t){n.setDate(n.getDate()+7*Math.floor(t))},function(n){var r=Bt.year(n).getDay();return Math.floor((Bt.dayOfYear(n)+(r+t)%7)/7)-(r!==t)});Bt[n+"s"]=r.range,Bt[n+"s"].utc=r.utc.range,Bt[n+"OfYear"]=function(n){var r=Bt.year(n).getDay();return Math.floor((Bt.dayOfYear(n)+(r+t)%7)/7)}}),Bt.week=Bt.sunday,Bt.weeks=Bt.sunday.range,Bt.weeks.utc=Bt.sunday.utc.range,Bt.weekOfYear=Bt.sundayOfYear;var At={"-":"",_:" ",0:"0"},Lt=/^\s*\d+/,Dt=/^%/;function Ft(n,t,r){var u=n<0?"-":"",i=(u?-n:n)+"",o=i.length;return u+(o<r?new Array(r-o+1).join(t)+i:i)}function It(n){return new RegExp("^(?:"+n.map(o.requote).join("|")+")","i")}function pt(n){for(var t=new x,r=-1,u=n.length;++r<u;)t.set(n[r].toLowerCase(),r);return t}function st(n,t,r){Lt.lastIndex=0;var u=Lt.exec(t.slice(r,r+1));return u?(n.w=+u[0],r+u[0].length):-1}function $t(n,t,r){Lt.lastIndex=0;var u=Lt.exec(t.slice(r));return u?(n.U=+u[0],r+u[0].length):-1}function nr(n,t,r){Lt.lastIndex=0;var u=Lt.exec(t.slice(r));return u?(n.W=+u[0],r+u[0].length):-1}function tr(n,t,r){Lt.lastIndex=0;var u=Lt.exec(t.slice(r,r+4));return u?(n.y=+u[0],r+u[0].length):-1}function rr(n,t,r){Lt.lastIndex=0;var u,i=Lt.exec(t.slice(r,r+2));return i?(n.y=(u=+i[0])+(u>68?1900:2e3),r+i[0].length):-1}function ur(n,t,r){return/^[+-]\d{4}$/.test(t=t.slice(r,r+5))?(n.Z=-t,r+5):-1}function ir(n,t,r){Lt.lastIndex=0;var u=Lt.exec(t.slice(r,r+2));return u?(n.m=u[0]-1,r+u[0].length):-1}function or(n,t,r){Lt.lastIndex=0;var u=Lt.exec(t.slice(r,r+2));return u?(n.d=+u[0],r+u[0].length):-1}function er(n,t,r){Lt.lastIndex=0;var u=Lt.exec(t.slice(r,r+3));return u?(n.j=+u[0],r+u[0].length):-1}function lr(n,t,r){Lt.lastIndex=0;var u=Lt.exec(t.slice(r,r+2));return u?(n.H=+u[0],r+u[0].length):-1}function fr(n,t,r){Lt.lastIndex=0;var u=Lt.exec(t.slice(r,r+2));return u?(n.M=+u[0],r+u[0].length):-1}function ar(n,t,r){Lt.lastIndex=0;var u=Lt.exec(t.slice(r,r+2));return u?(n.S=+u[0],r+u[0].length):-1}function hr(n,t,r){Lt.lastIndex=0;var u=Lt.exec(t.slice(r,r+3));return u?(n.L=+u[0],r+u[0].length):-1}function cr(n){var t=n.getTimezoneOffset(),r=t>0?"-":"+",u=R(t)/60|0,i=R(t)%60;return r+Ft(u,"0",2)+Ft(i,"0",2)}function vr(n,t,r){Dt.lastIndex=0;var u=Dt.exec(t.slice(r,r+1));return u?r+u[0].length:-1}function Mr(n){for(var t=n.length,r=-1;++r<t;)n[r][0]=this(n[r][0]);return function(t){for(var r=0,u=n[r];!u[1](t);)u=n[++r];return u[0](t)}}o.locale=function(n){return{numberFormat:Jt(n),timeFormat:Et(n)}};var dr=o.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yr(){}o.format=dr.numberFormat,o.geo={},yr.prototype={s:0,t:0,add:function(n){Nr(n,this.t,mr),Nr(mr.s,this.s,this),this.s?this.t+=mr.t:this.s=mr.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var mr=new yr;function Nr(n,t,r){var u=r.s=n+t,i=u-n,o=u-i;r.t=n-o+(t-i)}function Sr(n,t){n&&zr.hasOwnProperty(n.type)&&zr[n.type](n,t)}o.geo.stream=function(n,t){n&&kr.hasOwnProperty(n.type)?kr[n.type](n,t):Sr(n,t)};var kr={Feature:function(n,t){Sr(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,u=-1,i=r.length;++u<i;)Sr(r[u].geometry,t)}},zr={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,u=-1,i=r.length;++u<i;)n=r[u],t.point(n[0],n[1],n[2])},LineString:function(n,t){qr(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,u=-1,i=r.length;++u<i;)qr(r[u],t,0)},Polygon:function(n,t){Rr(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,u=-1,i=r.length;++u<i;)Rr(r[u],t)},GeometryCollection:function(n,t){for(var r=n.geometries,u=-1,i=r.length;++u<i;)Sr(r[u],t)}};function qr(n,t,r){var u,i=-1,o=n.length-r;for(t.lineStart();++i<o;)u=n[i],t.point(u[0],u[1],u[2]);t.lineEnd()}function Rr(n,t){var r=-1,u=n.length;for(t.polygonStart();++r<u;)qr(n[r],t,1);t.polygonEnd()}o.geo.area=function(n){return Ur=0,o.geo.stream(n,Qr),Ur};var Ur,xr,br,Cr,Or,Hr,Yr,Tr,Zr,jr,Xr,Wr,Jr=new yr,Qr={sphere:function(){Ur+=4*Tn},point:B,lineStart:B,lineEnd:B,polygonStart:function(){Jr.reset(),Qr.lineStart=Vr},polygonEnd:function(){var n=2*Jr;Ur+=n<0?4*Tn+n:n,Qr.lineStart=Qr.lineEnd=Qr.point=B}};function Vr(){var n,t,r,u,i;function o(n,t){t=t*Wn/2+Tn/4;var o=(n*=Wn)-r,e=o>=0?1:-1,l=e*o,f=Math.cos(t),a=Math.sin(t),h=i*a,c=u*f+h*Math.cos(l),v=h*e*Math.sin(l);Jr.add(Math.atan2(v,c)),r=n,u=f,i=a}Qr.point=function(e,l){Qr.point=o,r=(n=e)*Wn,u=Math.cos(l=(t=l)*Wn/2+Tn/4),i=Math.sin(l)},Qr.lineEnd=function(){o(n,t)}}function Gr(n){var t=n[0],r=n[1],u=Math.cos(r);return[u*Math.cos(t),u*Math.sin(t),Math.sin(r)]}function Br(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function Kr(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function wr(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function Pr(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function _r(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function gr(n){return[Math.atan2(n[1],n[0]),Bn(n[2])]}function Er(n,t){return R(n[0]-t[0])<Hn&&R(n[1]-t[1])<Hn}o.geo.bounds=function(){var n,t,r,u,i,e,l,f,a,h,c,v={point:M,lineStart:y,lineEnd:m,polygonStart:function(){v.point=N,v.lineStart=S,v.lineEnd=k,a=0,Qr.polygonStart()},polygonEnd:function(){Qr.polygonEnd(),v.point=M,v.lineStart=y,v.lineEnd=m,Jr<0?(n=-(r=180),t=-(u=90)):a>Hn?u=90:a<-Hn&&(t=-90),c[0]=n,c[1]=r}};function M(i,o){h.push(c=[n=i,r=i]),o<t&&(t=o),o>u&&(u=o)}function d(o,e){var l=Gr([o*Wn,e*Wn]);if(f){var a=Kr(f,l),h=Kr([a[1],-a[0],0],a);_r(h),h=gr(h);var c=o-i,v=c>0?1:-1,d=h[0]*Jn*v,y=R(c)>180;if(y^(v*i<d&&d<v*o))(m=h[1]*Jn)>u&&(u=m);else if(y^(v*i<(d=(d+360)%360-180)&&d<v*o)){var m;(m=-h[1]*Jn)<t&&(t=m)}else e<t&&(t=e),e>u&&(u=e);y?o<i?z(n,o)>z(n,r)&&(r=o):z(o,r)>z(n,r)&&(n=o):r>=n?(o<n&&(n=o),o>r&&(r=o)):o>i?z(n,o)>z(n,r)&&(r=o):z(o,r)>z(n,r)&&(n=o)}else M(o,e);f=l,i=o}function y(){v.point=d}function m(){c[0]=n,c[1]=r,v.point=M,f=null}function N(n,t){if(f){var r=n-i;a+=R(r)>180?r+(r>0?360:-360):r}else e=n,l=t;Qr.point(n,t),d(n,t)}function S(){Qr.lineStart()}function k(){N(e,l),Qr.lineEnd(),R(a)>Hn&&(n=-(r=180)),c[0]=n,c[1]=r,f=null}function z(n,t){return(t-=n)<0?t+360:t}function q(n,t){return n[0]-t[0]}function U(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}return function(i){if(u=r=-(n=t=1/0),h=[],o.geo.stream(i,v),a=h.length){h.sort(q);for(var e=1,l=[y=h[0]];e<a;++e)U((M=h[e])[0],y)||U(M[1],y)?(z(y[0],M[1])>z(y[0],y[1])&&(y[1]=M[1]),z(M[0],y[1])>z(y[0],y[1])&&(y[0]=M[0])):l.push(y=M);for(var f,a,M,d=-1/0,y=(e=0,l[a=l.length-1]);e<=a;y=M,++e)M=l[e],(f=z(y[1],M[0]))>d&&(d=f,n=M[0],r=y[1])}return h=c=null,n===1/0||t===1/0?[[NaN,NaN],[NaN,NaN]]:[[n,t],[r,u]]}}(),o.geo.centroid=function(n){xr=br=Cr=Or=Hr=Yr=Tr=Zr=jr=Xr=Wr=0,o.geo.stream(n,Ar);var t=jr,r=Xr,u=Wr,i=t*t+r*r+u*u;return i<Yn&&(t=Yr,r=Tr,u=Zr,br<Hn&&(t=Cr,r=Or,u=Hr),(i=t*t+r*r+u*u)<Yn)?[NaN,NaN]:[Math.atan2(r,t)*Jn,Bn(u/Math.sqrt(i))*Jn]};var Ar={sphere:B,point:Lr,lineStart:Fr,lineEnd:Ir,polygonStart:function(){Ar.lineStart=pr},polygonEnd:function(){Ar.lineStart=Fr}};function Lr(n,t){n*=Wn;var r=Math.cos(t*=Wn);Dr(r*Math.cos(n),r*Math.sin(n),Math.sin(t))}function Dr(n,t,r){Cr+=(n-Cr)/++xr,Or+=(t-Or)/xr,Hr+=(r-Hr)/xr}function Fr(){var n,t,r;function u(u,i){u*=Wn;var o=Math.cos(i*=Wn),e=o*Math.cos(u),l=o*Math.sin(u),f=Math.sin(i),a=Math.atan2(Math.sqrt((a=t*f-r*l)*a+(a=r*e-n*f)*a+(a=n*l-t*e)*a),n*e+t*l+r*f);br+=a,Yr+=a*(n+(n=e)),Tr+=a*(t+(t=l)),Zr+=a*(r+(r=f)),Dr(n,t,r)}Ar.point=function(i,o){i*=Wn;var e=Math.cos(o*=Wn);n=e*Math.cos(i),t=e*Math.sin(i),r=Math.sin(o),Ar.point=u,Dr(n,t,r)}}function Ir(){Ar.point=Lr}function pr(){var n,t,r,u,i;function o(n,t){n*=Wn;var o=Math.cos(t*=Wn),e=o*Math.cos(n),l=o*Math.sin(n),f=Math.sin(t),a=u*f-i*l,h=i*e-r*f,c=r*l-u*e,v=Math.sqrt(a*a+h*h+c*c),M=r*e+u*l+i*f,d=v&&-Gn(M)/v,y=Math.atan2(v,M);jr+=d*a,Xr+=d*h,Wr+=d*c,br+=y,Yr+=y*(r+(r=e)),Tr+=y*(u+(u=l)),Zr+=y*(i+(i=f)),Dr(r,u,i)}Ar.point=function(e,l){n=e,t=l,Ar.point=o,e*=Wn;var f=Math.cos(l*=Wn);r=f*Math.cos(e),u=f*Math.sin(e),i=Math.sin(l),Dr(r,u,i)},Ar.lineEnd=function(){o(n,t),Ar.lineEnd=Ir,Ar.point=Lr}}function sr(n,t){function r(r,u){return r=n(r,u),t(r[0],r[1])}return n.invert&&t.invert&&(r.invert=function(r,u){return(r=t.invert(r,u))&&n.invert(r[0],r[1])}),r}function $r(){return!0}function nu(n,t,r,u,i){var o=[],e=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,r=n[0],u=n[t];if(Er(r,u)){i.lineStart();for(var l=0;l<t;++l)i.point((r=n[l])[0],r[1]);i.lineEnd()}else{var f=new ru(r,n,null,!0),a=new ru(r,null,f,!1);f.o=a,o.push(f),e.push(a),f=new ru(u,n,null,!1),a=new ru(u,null,f,!0),f.o=a,o.push(f),e.push(a)}}}),e.sort(t),tu(o),tu(e),o.length){for(var l=0,f=r,a=e.length;l<a;++l)e[l].e=f=!f;for(var h,c,v=o[0];;){for(var M=v,d=!0;M.v;)if((M=M.n)===v)return;h=M.z,i.lineStart();do{if(M.v=M.o.v=!0,M.e){if(d)for(l=0,a=h.length;l<a;++l)i.point((c=h[l])[0],c[1]);else u(M.x,M.n.x,1,i);M=M.n}else{if(d)for(l=(h=M.p.z).length-1;l>=0;--l)i.point((c=h[l])[0],c[1]);else u(M.x,M.p.x,-1,i);M=M.p}h=(M=M.o).z,d=!d}while(!M.v);i.lineEnd()}}}function tu(n){if(t=n.length){for(var t,r,u=0,i=n[0];++u<t;)i.n=r=n[u],r.p=i,i=r;i.n=r=n[0],r.p=i}}function ru(n,t,r,u){this.x=n,this.z=t,this.o=r,this.e=u,this.v=!1,this.n=this.p=null}function uu(n,t,r,u){return function(i,e){var l,f=t(e),a=i.invert(u[0],u[1]),h={point:c,lineStart:M,lineEnd:d,polygonStart:function(){h.point=z,h.lineStart=q,h.lineEnd=R,l=[],y=[]},polygonEnd:function(){h.point=c,h.lineStart=M,h.lineEnd=d,l=o.merge(l);var n=function(n,t){var r=n[0],u=n[1],i=[Math.sin(r),-Math.cos(r),0],o=0,e=0;Jr.reset();for(var l=0,f=t.length;l<f;++l){var a=t[l],h=a.length;if(h)for(var c=a[0],v=c[0],M=c[1]/2+Tn/4,d=Math.sin(M),y=Math.cos(M),m=1;;){m===h&&(m=0);var N=(n=a[m])[0],S=n[1]/2+Tn/4,k=Math.sin(S),z=Math.cos(S),q=N-v,R=q>=0?1:-1,U=R*q,x=U>Tn,b=d*k;if(Jr.add(Math.atan2(b*R*Math.sin(U),y*z+b*Math.cos(U))),o+=x?q+R*Zn:q,x^v>=r^N>=r){var C=Kr(Gr(c),Gr(n));_r(C);var O=Kr(i,C);_r(O);var H=(x^q>=0?-1:1)*Bn(O[2]);(u>H||u===H&&(C[0]||C[1]))&&(e+=x^q>=0?1:-1)}if(!m++)break;v=N,d=k,y=z,c=n}}return(o<-Hn||o<Hn&&Jr<-Hn)^1&e}(a,y);l.length?(k||(e.polygonStart(),k=!0),nu(l,eu,n,r,e)):n&&(k||(e.polygonStart(),k=!0),e.lineStart(),r(null,null,1,e),e.lineEnd()),k&&(e.polygonEnd(),k=!1),l=y=null},sphere:function(){e.polygonStart(),e.lineStart(),r(null,null,1,e),e.lineEnd(),e.polygonEnd()}};function c(t,r){var u=i(t,r);n(t=u[0],r=u[1])&&e.point(t,r)}function v(n,t){var r=i(n,t);f.point(r[0],r[1])}function M(){h.point=v,f.lineStart()}function d(){h.point=c,f.lineEnd()}var y,m,N=ou(),S=t(N),k=!1;function z(n,t){m.push([n,t]);var r=i(n,t);S.point(r[0],r[1])}function q(){S.lineStart(),m=[]}function R(){z(m[0][0],m[0][1]),S.lineEnd();var n,t=S.clean(),r=N.buffer(),u=r.length;if(m.pop(),y.push(m),m=null,u)if(1&t){var i,o=-1;if((u=(n=r[0]).length-1)>0){for(k||(e.polygonStart(),k=!0),e.lineStart();++o<u;)e.point((i=n[o])[0],i[1]);e.lineEnd()}}else u>1&&2&t&&r.push(r.pop().concat(r.shift())),l.push(r.filter(iu))}return h}}function iu(n){return n.length>1}function ou(){var n,t=[];return{lineStart:function(){t.push(n=[])},point:function(t,r){n.push([t,r])},lineEnd:B,buffer:function(){var r=t;return t=[],n=null,r},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function eu(n,t){return((n=n.x)[0]<0?n[1]-Xn-Hn:Xn-n[1])-((t=t.x)[0]<0?t[1]-Xn-Hn:Xn-t[1])}var lu=uu($r,function(n){var t,r=NaN,u=NaN,i=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(o,e){var l=o>0?Tn:-Tn,f=R(o-r);R(f-Tn)<Hn?(n.point(r,u=(u+e)/2>0?Xn:-Xn),n.point(i,u),n.lineEnd(),n.lineStart(),n.point(l,u),n.point(o,u),t=0):i!==l&&f>=Tn&&(R(r-i)<Hn&&(r-=i*Hn),R(o-l)<Hn&&(o-=l*Hn),u=function(n,t,r,u){var i,o,e=Math.sin(n-r);return R(e)>Hn?Math.atan((Math.sin(t)*(o=Math.cos(u))*Math.sin(r)-Math.sin(u)*(i=Math.cos(t))*Math.sin(n))/(i*o*e)):(t+u)/2}(r,u,o,e),n.point(i,u),n.lineEnd(),n.lineStart(),n.point(l,u),t=0),n.point(r=o,u=e),i=l},lineEnd:function(){n.lineEnd(),r=u=NaN},clean:function(){return 2-t}}},function(n,t,r,u){var i;if(null==n)i=r*Xn,u.point(-Tn,i),u.point(0,i),u.point(Tn,i),u.point(Tn,0),u.point(Tn,-i),u.point(0,-i),u.point(-Tn,-i),u.point(-Tn,0),u.point(-Tn,i);else if(R(n[0]-t[0])>Hn){var o=n[0]<t[0]?Tn:-Tn;i=r*o/2,u.point(-o,i),u.point(0,i),u.point(o,i)}else u.point(t[0],t[1])},[-Tn,-Tn/2]);function fu(n,t,r,u){return function(i){var o,e=i.a,l=i.b,f=e.x,a=e.y,h=0,c=1,v=l.x-f,M=l.y-a;if(o=n-f,v||!(o>0)){if(o/=v,v<0){if(o<h)return;o<c&&(c=o)}else if(v>0){if(o>c)return;o>h&&(h=o)}if(o=r-f,v||!(o<0)){if(o/=v,v<0){if(o>c)return;o>h&&(h=o)}else if(v>0){if(o<h)return;o<c&&(c=o)}if(o=t-a,M||!(o>0)){if(o/=M,M<0){if(o<h)return;o<c&&(c=o)}else if(M>0){if(o>c)return;o>h&&(h=o)}if(o=u-a,M||!(o<0)){if(o/=M,M<0){if(o>c)return;o>h&&(h=o)}else if(M>0){if(o<h)return;o<c&&(c=o)}return h>0&&(i.a={x:f+h*v,y:a+h*M}),c<1&&(i.b={x:f+c*v,y:a+c*M}),i}}}}}}var au=1e9;function hu(n,t,r,u){return function(f){var a,h,c,v,M,d,y,m,N,S,k,z=f,q=ou(),R=fu(n,t,r,u),U={point:C,lineStart:function(){U.point=O,h&&h.push(c=[]);S=!0,N=!1,y=m=NaN},lineEnd:function(){a&&(O(v,M),d&&N&&q.rejoin(),a.push(q.buffer()));U.point=C,N&&f.lineEnd()},polygonStart:function(){f=q,a=[],h=[],k=!0},polygonEnd:function(){f=z,a=o.merge(a);var t=function(n){for(var t=0,r=h.length,u=n[1],i=0;i<r;++i)for(var o,e=1,l=h[i],f=l.length,a=l[0];e<f;++e)o=l[e],a[1]<=u?o[1]>u&&Vn(a,o,n)>0&&++t:o[1]<=u&&Vn(a,o,n)<0&&--t,a=o;return 0!==t}([n,u]),r=k&&t,i=a.length;(r||i)&&(f.polygonStart(),r&&(f.lineStart(),x(null,null,1,f),f.lineEnd()),i&&nu(a,e,t,x,f),f.polygonEnd()),a=h=c=null}};function x(o,e,f,a){var h=0,c=0;if(null==o||(h=i(o,f))!==(c=i(e,f))||l(o,e)<0^f>0)do{a.point(0===h||3===h?n:r,h>1?u:t)}while((h=(h+f+4)%4)!==c);else a.point(e[0],e[1])}function b(i,o){return n<=i&&i<=r&&t<=o&&o<=u}function C(n,t){b(n,t)&&f.point(n,t)}function O(n,t){var r=b(n=Math.max(-au,Math.min(au,n)),t=Math.max(-au,Math.min(au,t)));if(h&&c.push([n,t]),S)v=n,M=t,d=r,S=!1,r&&(f.lineStart(),f.point(n,t));else if(r&&N)f.point(n,t);else{var u={a:{x:y,y:m},b:{x:n,y:t}};R(u)?(N||(f.lineStart(),f.point(u.a.x,u.a.y)),f.point(u.b.x,u.b.y),r||f.lineEnd(),k=!1):r&&(f.lineStart(),f.point(n,t),k=!1)}y=n,m=t,N=r}return U};function i(u,i){return R(u[0]-n)<Hn?i>0?0:3:R(u[0]-r)<Hn?i>0?2:1:R(u[1]-t)<Hn?i>0?1:0:i>0?3:2}function e(n,t){return l(n.x,t.x)}function l(n,t){var r=i(n,1),u=i(t,1);return r!==u?r-u:0===r?t[1]-n[1]:1===r?n[0]-t[0]:2===r?n[1]-t[1]:t[0]-n[0]}}function cu(n){var t=0,r=Tn/3,u=Ju(n),i=u(t,r);return i.parallels=function(n){return arguments.length?u(t=n[0]*Tn/180,r=n[1]*Tn/180):[t/Tn*180,r/Tn*180]},i}function vu(n,t){var r=Math.sin(n),u=(r+Math.sin(t))/2,i=1+r*(2*u-r),o=Math.sqrt(i)/u;function e(n,t){var r=Math.sqrt(i-2*u*Math.sin(t))/u;return[r*Math.sin(n*=u),o-r*Math.cos(n)]}return e.invert=function(n,t){var r=o-t;return[Math.atan2(n,r)/u,Bn((i-(n*n+r*r)*u*u)/(2*u))]},e}o.geo.clipExtent=function(){var n,t,r,u,i,o,e={stream:function(n){return i&&(i.valid=!1),(i=o(n)).valid=!0,i},extent:function(l){return arguments.length?(o=hu(n=+l[0][0],t=+l[0][1],r=+l[1][0],u=+l[1][1]),i&&(i.valid=!1,i=null),e):[[n,t],[r,u]]}};return e.extent([[0,0],[960,500]])},(o.geo.conicEqualArea=function(){return cu(vu)}).raw=vu,o.geo.albers=function(){return o.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},o.geo.albersUsa=function(){var n,t,r,u,i=o.geo.albers(),e=o.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=o.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(t,r){n=[t,r]}};function a(i){var o=i[0],e=i[1];return n=null,t(o,e),n||(r(o,e),n)||u(o,e),n}return a.invert=function(n){var t=i.scale(),r=i.translate(),u=(n[0]-r[0])/t,o=(n[1]-r[1])/t;return(o>=.12&&o<.234&&u>=-.425&&u<-.214?e:o>=.166&&o<.234&&u>=-.214&&u<-.115?l:i).invert(n)},a.stream=function(n){var t=i.stream(n),r=e.stream(n),u=l.stream(n);return{point:function(n,i){t.point(n,i),r.point(n,i),u.point(n,i)},sphere:function(){t.sphere(),r.sphere(),u.sphere()},lineStart:function(){t.lineStart(),r.lineStart(),u.lineStart()},lineEnd:function(){t.lineEnd(),r.lineEnd(),u.lineEnd()},polygonStart:function(){t.polygonStart(),r.polygonStart(),u.polygonStart()},polygonEnd:function(){t.polygonEnd(),r.polygonEnd(),u.polygonEnd()}}},a.precision=function(n){return arguments.length?(i.precision(n),e.precision(n),l.precision(n),a):i.precision()},a.scale=function(n){return arguments.length?(i.scale(n),e.scale(.35*n),l.scale(n),a.translate(i.translate())):i.scale()},a.translate=function(n){if(!arguments.length)return i.translate();var o=i.scale(),h=+n[0],c=+n[1];return t=i.translate(n).clipExtent([[h-.455*o,c-.238*o],[h+.455*o,c+.238*o]]).stream(f).point,r=e.translate([h-.307*o,c+.201*o]).clipExtent([[h-.425*o+Hn,c+.12*o+Hn],[h-.214*o-Hn,c+.234*o-Hn]]).stream(f).point,u=l.translate([h-.205*o,c+.212*o]).clipExtent([[h-.214*o+Hn,c+.166*o+Hn],[h-.115*o-Hn,c+.234*o-Hn]]).stream(f).point,a},a.scale(1070)};var Mu,du,yu,mu,Nu,Su,ku={point:B,lineStart:B,lineEnd:B,polygonStart:function(){du=0,ku.lineStart=zu},polygonEnd:function(){ku.lineStart=ku.lineEnd=ku.point=B,Mu+=R(du/2)}};function zu(){var n,t,r,u;function i(n,t){du+=u*n-r*t,r=n,u=t}ku.point=function(o,e){ku.point=i,n=r=o,t=u=e},ku.lineEnd=function(){i(n,t)}}var qu={point:function(n,t){n<yu&&(yu=n);n>Nu&&(Nu=n);t<mu&&(mu=t);t>Su&&(Su=t)},lineStart:B,lineEnd:B,polygonStart:B,polygonEnd:B};function Ru(){var n=Uu(4.5),t=[],r={point:u,lineStart:function(){r.point=i},lineEnd:e,polygonStart:function(){r.lineEnd=l},polygonEnd:function(){r.lineEnd=e,r.point=u},pointRadius:function(t){return n=Uu(t),r},result:function(){if(t.length){var n=t.join("");return t=[],n}}};function u(r,u){t.push("M",r,",",u,n)}function i(n,u){t.push("M",n,",",u),r.point=o}function o(n,r){t.push("L",n,",",r)}function e(){r.point=u}function l(){t.push("Z")}return r}function Uu(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}var xu,bu={point:Cu,lineStart:Ou,lineEnd:Hu,polygonStart:function(){bu.lineStart=Yu},polygonEnd:function(){bu.point=Cu,bu.lineStart=Ou,bu.lineEnd=Hu}};function Cu(n,t){Cr+=n,Or+=t,++Hr}function Ou(){var n,t;function r(r,u){var i=r-n,o=u-t,e=Math.sqrt(i*i+o*o);Yr+=e*(n+r)/2,Tr+=e*(t+u)/2,Zr+=e,Cu(n=r,t=u)}bu.point=function(u,i){bu.point=r,Cu(n=u,t=i)}}function Hu(){bu.point=Cu}function Yu(){var n,t,r,u;function i(n,t){var i=n-r,o=t-u,e=Math.sqrt(i*i+o*o);Yr+=e*(r+n)/2,Tr+=e*(u+t)/2,Zr+=e,jr+=(e=u*n-r*t)*(r+n),Xr+=e*(u+t),Wr+=3*e,Cu(r=n,u=t)}bu.point=function(o,e){bu.point=i,Cu(n=r=o,t=u=e)},bu.lineEnd=function(){i(n,t)}}function Tu(n){var t=4.5,r={point:u,lineStart:function(){r.point=i},lineEnd:e,polygonStart:function(){r.lineEnd=l},polygonEnd:function(){r.lineEnd=e,r.point=u},pointRadius:function(n){return t=n,r},result:B};function u(r,u){n.moveTo(r+t,u),n.arc(r,u,t,0,Zn)}function i(t,u){n.moveTo(t,u),r.point=o}function o(t,r){n.lineTo(t,r)}function e(){r.point=u}function l(){n.closePath()}return r}function Zu(n){var t=.5,r=Math.cos(30*Wn),u=16;function i(t){return(u?function(t){var r,i,e,l,f,a,h,c,v,M,d,y,m={point:N,lineStart:S,lineEnd:z,polygonStart:function(){t.polygonStart(),m.lineStart=q},polygonEnd:function(){t.polygonEnd(),m.lineStart=S}};function N(r,u){r=n(r,u),t.point(r[0],r[1])}function S(){c=NaN,m.point=k,t.lineStart()}function k(r,i){var e=Gr([r,i]),l=n(r,i);o(c,v,h,M,d,y,c=l[0],v=l[1],h=r,M=e[0],d=e[1],y=e[2],u,t),t.point(c,v)}function z(){m.point=N,t.lineEnd()}function q(){S(),m.point=R,m.lineEnd=U}function R(n,t){k(r=n,t),i=c,e=v,l=M,f=d,a=y,m.point=k}function U(){o(c,v,h,M,d,y,i,e,r,l,f,a,u,t),m.lineEnd=z,z()}return m}:function(t){return Xu(t,function(r,u){r=n(r,u),t.point(r[0],r[1])})})(t)}function o(u,i,e,l,f,a,h,c,v,M,d,y,m,N){var S=h-u,k=c-i,z=S*S+k*k;if(z>4*t&&m--){var q=l+M,U=f+d,x=a+y,b=Math.sqrt(q*q+U*U+x*x),C=Math.asin(x/=b),O=R(R(x)-1)<Hn||R(e-v)<Hn?(e+v)/2:Math.atan2(U,q),H=n(O,C),Y=H[0],T=H[1],Z=Y-u,j=T-i,X=k*Z-S*j;(X*X/z>t||R((S*Z+k*j)/z-.5)>.3||l*M+f*d+a*y<r)&&(o(u,i,e,l,f,a,Y,T,O,q/=b,U/=b,x,m,N),N.point(Y,T),o(Y,T,O,q,U,x,h,c,v,M,d,y,m,N))}}return i.precision=function(n){return arguments.length?(u=(t=n*n)>0&&16,i):Math.sqrt(t)},i}function ju(n){this.stream=n}function Xu(n,t){return{point:t,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}function Wu(n){return Ju(function(){return n})()}function Ju(n){var t,r,u,i,e,l,f=Zu(function(n,r){return[(n=t(n,r))[0]*a+i,e-n[1]*a]}),a=150,h=480,c=250,v=0,M=0,d=0,y=0,m=0,N=lu,S=J,k=null,z=null;function q(n){return[(n=u(n[0]*Wn,n[1]*Wn))[0]*a+i,e-n[1]*a]}function U(n){return(n=u.invert((n[0]-i)/a,(e-n[1])/a))&&[n[0]*Jn,n[1]*Jn]}function x(){u=sr(r=Bu(d,y,m),t);var n=t(v,M);return i=h-n[0]*a,e=c+n[1]*a,b()}function b(){return l&&(l.valid=!1,l=null),q}return q.stream=function(n){return l&&(l.valid=!1),(l=Qu(N(r,f(S(n))))).valid=!0,l},q.clipAngle=function(n){return arguments.length?(N=null==n?(k=n,lu):function(n){var t=Math.cos(n),r=t>0,u=R(t)>Hn;return uu(i,function(n){var t,l,f,a,h;return{lineStart:function(){a=f=!1,h=1},point:function(c,v){var M,d=[c,v],y=i(c,v),m=r?y?0:e(c,v):y?e(c+(c<0?Tn:-Tn),v):0;if(!t&&(a=f=y)&&n.lineStart(),y!==f&&(M=o(t,d),(Er(t,M)||Er(d,M))&&(d[0]+=Hn,d[1]+=Hn,y=i(d[0],d[1]))),y!==f)h=0,y?(n.lineStart(),M=o(d,t),n.point(M[0],M[1])):(M=o(t,d),n.point(M[0],M[1]),n.lineEnd()),t=M;else if(u&&t&&r^y){var N;m&l||!(N=o(d,t,!0))||(h=0,r?(n.lineStart(),n.point(N[0][0],N[0][1]),n.point(N[1][0],N[1][1]),n.lineEnd()):(n.point(N[1][0],N[1][1]),n.lineEnd(),n.lineStart(),n.point(N[0][0],N[0][1])))}!y||t&&Er(t,d)||n.point(d[0],d[1]),t=d,f=y,l=m},lineEnd:function(){f&&n.lineEnd(),t=null},clean:function(){return h|(a&&f)<<1}}},_u(n,6*Wn),r?[0,-n]:[-Tn,n-Tn]);function i(n,r){return Math.cos(n)*Math.cos(r)>t}function o(n,r,u){var i=[1,0,0],o=Kr(Gr(n),Gr(r)),e=Br(o,o),l=o[0],f=e-l*l;if(!f)return!u&&n;var a=t*e/f,h=-t*l/f,c=Kr(i,o),v=Pr(i,a);wr(v,Pr(o,h));var M=c,d=Br(v,M),y=Br(M,M),m=d*d-y*(Br(v,v)-1);if(!(m<0)){var N=Math.sqrt(m),S=Pr(M,(-d-N)/y);if(wr(S,v),S=gr(S),!u)return S;var k,z=n[0],q=r[0],U=n[1],x=r[1];q<z&&(k=z,z=q,q=k);var b=q-z,C=R(b-Tn)<Hn;if(!C&&x<U&&(k=U,U=x,x=k),C||b<Hn?C?U+x>0^S[1]<(R(S[0]-z)<Hn?U:x):U<=S[1]&&S[1]<=x:b>Tn^(z<=S[0]&&S[0]<=q)){var O=Pr(M,(-d+N)/y);return wr(O,v),[S,gr(O)]}}}function e(t,u){var i=r?n:Tn-n,o=0;return t<-i?o|=1:t>i&&(o|=2),u<-i?o|=4:u>i&&(o|=8),o}}((k=+n)*Wn),b()):k},q.clipExtent=function(n){return arguments.length?(z=n,S=n?hu(n[0][0],n[0][1],n[1][0],n[1][1]):J,b()):z},q.scale=function(n){return arguments.length?(a=+n,x()):a},q.translate=function(n){return arguments.length?(h=+n[0],c=+n[1],x()):[h,c]},q.center=function(n){return arguments.length?(v=n[0]%360*Wn,M=n[1]%360*Wn,x()):[v*Jn,M*Jn]},q.rotate=function(n){return arguments.length?(d=n[0]%360*Wn,y=n[1]%360*Wn,m=n.length>2?n[2]%360*Wn:0,x()):[d*Jn,y*Jn,m*Jn]},o.rebind(q,f,"precision"),function(){return t=n.apply(this,arguments),q.invert=t.invert&&U,x()}}function Qu(n){return Xu(n,function(t,r){n.point(t*Wn,r*Wn)})}function Vu(n,t){return[n,t]}function Gu(n,t){return[n>Tn?n-Zn:n<-Tn?n+Zn:n,t]}function Bu(n,t,r){return n?t||r?sr(wu(n),Pu(t,r)):wu(n):t||r?Pu(t,r):Gu}function Ku(n){return function(t,r){return[(t+=n)>Tn?t-Zn:t<-Tn?t+Zn:t,r]}}function wu(n){var t=Ku(n);return t.invert=Ku(-n),t}function Pu(n,t){var r=Math.cos(n),u=Math.sin(n),i=Math.cos(t),o=Math.sin(t);function e(n,t){var e=Math.cos(t),l=Math.cos(n)*e,f=Math.sin(n)*e,a=Math.sin(t),h=a*r+l*u;return[Math.atan2(f*i-h*o,l*r-a*u),Bn(h*i+f*o)]}return e.invert=function(n,t){var e=Math.cos(t),l=Math.cos(n)*e,f=Math.sin(n)*e,a=Math.sin(t),h=a*i-f*o;return[Math.atan2(f*i+a*o,l*r+h*u),Bn(h*r-l*u)]},e}function _u(n,t){var r=Math.cos(n),u=Math.sin(n);return function(i,o,e,l){var f=e*t;null!=i?(i=gu(r,i),o=gu(r,o),(e>0?i<o:i>o)&&(i+=e*Zn)):(i=n+e*Zn,o=n-.5*f);for(var a,h=i;e>0?h>o:h<o;h-=f)l.point((a=gr([r,-u*Math.cos(h),-u*Math.sin(h)]))[0],a[1])}}function gu(n,t){var r=Gr(t);r[0]-=n,_r(r);var u=Gn(-r[1]);return((-r[2]<0?-u:u)+2*Math.PI-Hn)%(2*Math.PI)}function Eu(n,t,r){var u=o.range(n,t-Hn,r).concat(t);return function(n){return u.map(function(t){return[n,t]})}}function Au(n,t,r){var u=o.range(n,t-Hn,r).concat(t);return function(n){return u.map(function(t){return[t,n]})}}function Lu(n){return n.source}function Du(n){return n.target}o.geo.path=function(){var n,t,r,u,i,e=4.5;function l(n){return n&&("function"==typeof e&&u.pointRadius(+e.apply(this,arguments)),i&&i.valid||(i=r(u)),o.geo.stream(n,i)),u.result()}function f(){return i=null,l}return l.area=function(n){return Mu=0,o.geo.stream(n,r(ku)),Mu},l.centroid=function(n){return Cr=Or=Hr=Yr=Tr=Zr=jr=Xr=Wr=0,o.geo.stream(n,r(bu)),Wr?[jr/Wr,Xr/Wr]:Zr?[Yr/Zr,Tr/Zr]:Hr?[Cr/Hr,Or/Hr]:[NaN,NaN]},l.bounds=function(n){return Nu=Su=-(yu=mu=1/0),o.geo.stream(n,r(qu)),[[yu,mu],[Nu,Su]]},l.projection=function(t){return arguments.length?(r=(n=t)?t.stream||(u=t,i=Zu(function(n,t){return u([n*Jn,t*Jn])}),function(n){return Qu(i(n))}):J,f()):n;var u,i},l.context=function(n){return arguments.length?(u=null==(t=n)?new Ru:new Tu(n),"function"!=typeof e&&u.pointRadius(e),f()):t},l.pointRadius=function(n){return arguments.length?(e="function"==typeof n?n:(u.pointRadius(+n),+n),l):e},l.projection(o.geo.albersUsa()).context(null)},o.geo.transform=function(n){return{stream:function(t){var r=new ju(t);for(var u in n)r[u]=n[u];return r}}},ju.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},o.geo.projection=Wu,o.geo.projectionMutator=Ju,(o.geo.equirectangular=function(){return Wu(Vu)}).raw=Vu.invert=Vu,o.geo.rotation=function(n){function t(t){return(t=n(t[0]*Wn,t[1]*Wn))[0]*=Jn,t[1]*=Jn,t}return n=Bu(n[0]%360*Wn,n[1]*Wn,n.length>2?n[2]*Wn:0),t.invert=function(t){return(t=n.invert(t[0]*Wn,t[1]*Wn))[0]*=Jn,t[1]*=Jn,t},t},Gu.invert=Vu,o.geo.circle=function(){var n,t,r=[0,0],u=6;function i(){var n="function"==typeof r?r.apply(this,arguments):r,u=Bu(-n[0]*Wn,-n[1]*Wn,0).invert,i=[];return t(null,null,1,{point:function(n,t){i.push(n=u(n,t)),n[0]*=Jn,n[1]*=Jn}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(n){return arguments.length?(r=n,i):r},i.angle=function(r){return arguments.length?(t=_u((n=+r)*Wn,u*Wn),i):n},i.precision=function(r){return arguments.length?(t=_u(n*Wn,(u=+r)*Wn),i):u},i.angle(90)},o.geo.distance=function(n,t){var r,u=(t[0]-n[0])*Wn,i=n[1]*Wn,o=t[1]*Wn,e=Math.sin(u),l=Math.cos(u),f=Math.sin(i),a=Math.cos(i),h=Math.sin(o),c=Math.cos(o);return Math.atan2(Math.sqrt((r=c*e)*r+(r=a*h-f*c*l)*r),f*h+a*c*l)},o.geo.graticule=function(){var n,t,r,u,i,e,l,f,a,h,c,v,M=10,d=M,y=90,m=360,N=2.5;function S(){return{type:"MultiLineString",coordinates:k()}}function k(){return o.range(Math.ceil(u/y)*y,r,y).map(c).concat(o.range(Math.ceil(f/m)*m,l,m).map(v)).concat(o.range(Math.ceil(t/M)*M,n,M).filter(function(n){return R(n%y)>Hn}).map(a)).concat(o.range(Math.ceil(e/d)*d,i,d).filter(function(n){return R(n%m)>Hn}).map(h))}return S.lines=function(){return k().map(function(n){return{type:"LineString",coordinates:n}})},S.outline=function(){return{type:"Polygon",coordinates:[c(u).concat(v(l).slice(1),c(r).reverse().slice(1),v(f).reverse().slice(1))]}},S.extent=function(n){return arguments.length?S.majorExtent(n).minorExtent(n):S.minorExtent()},S.majorExtent=function(n){return arguments.length?(u=+n[0][0],r=+n[1][0],f=+n[0][1],l=+n[1][1],u>r&&(n=u,u=r,r=n),f>l&&(n=f,f=l,l=n),S.precision(N)):[[u,f],[r,l]]},S.minorExtent=function(r){return arguments.length?(t=+r[0][0],n=+r[1][0],e=+r[0][1],i=+r[1][1],t>n&&(r=t,t=n,n=r),e>i&&(r=e,e=i,i=r),S.precision(N)):[[t,e],[n,i]]},S.step=function(n){return arguments.length?S.majorStep(n).minorStep(n):S.minorStep()},S.majorStep=function(n){return arguments.length?(y=+n[0],m=+n[1],S):[y,m]},S.minorStep=function(n){return arguments.length?(M=+n[0],d=+n[1],S):[M,d]},S.precision=function(o){return arguments.length?(N=+o,a=Eu(e,i,90),h=Au(t,n,N),c=Eu(f,l,90),v=Au(u,r,N),S):N},S.majorExtent([[-180,-90+Hn],[180,90-Hn]]).minorExtent([[-180,-80-Hn],[180,80+Hn]])},o.geo.greatArc=function(){var n,t,r=Lu,u=Du;function i(){return{type:"LineString",coordinates:[n||r.apply(this,arguments),t||u.apply(this,arguments)]}}return i.distance=function(){return o.geo.distance(n||r.apply(this,arguments),t||u.apply(this,arguments))},i.source=function(t){return arguments.length?(r=t,n="function"==typeof t?null:t,i):r},i.target=function(n){return arguments.length?(u=n,t="function"==typeof n?null:n,i):u},i.precision=function(){return arguments.length?i:0},i},o.geo.interpolate=function(n,t){return r=n[0]*Wn,u=n[1]*Wn,i=t[0]*Wn,o=t[1]*Wn,e=Math.cos(u),l=Math.sin(u),f=Math.cos(o),a=Math.sin(o),h=e*Math.cos(r),c=e*Math.sin(r),v=f*Math.cos(i),M=f*Math.sin(i),d=2*Math.asin(Math.sqrt(wn(o-u)+e*f*wn(i-r))),y=1/Math.sin(d),(m=d?function(n){var t=Math.sin(n*=d)*y,r=Math.sin(d-n)*y,u=r*h+t*v,i=r*c+t*M,o=r*l+t*a;return[Math.atan2(i,u)*Jn,Math.atan2(o,Math.sqrt(u*u+i*i))*Jn]}:function(){return[r*Jn,u*Jn]}).distance=d,m;var r,u,i,o,e,l,f,a,h,c,v,M,d,y,m},o.geo.length=function(n){return xu=0,o.geo.stream(n,Fu),xu};var Fu={sphere:B,point:B,lineStart:function(){var n,t,r;function u(u,i){var o=Math.sin(i*=Wn),e=Math.cos(i),l=R((u*=Wn)-n),f=Math.cos(l);xu+=Math.atan2(Math.sqrt((l=e*Math.sin(l))*l+(l=r*o-t*e*f)*l),t*o+r*e*f),n=u,t=o,r=e}Fu.point=function(i,o){n=i*Wn,t=Math.sin(o*=Wn),r=Math.cos(o),Fu.point=u},Fu.lineEnd=function(){Fu.point=Fu.lineEnd=B}},lineEnd:B,polygonStart:B,polygonEnd:B};function Iu(n,t){function r(t,r){var u=Math.cos(t),i=Math.cos(r),o=n(u*i);return[o*i*Math.sin(t),o*Math.sin(r)]}return r.invert=function(n,r){var u=Math.sqrt(n*n+r*r),i=t(u),o=Math.sin(i),e=Math.cos(i);return[Math.atan2(n*o,u*e),Math.asin(u&&r*o/u)]},r}var pu=Iu(function(n){return Math.sqrt(2/(1+n))},function(n){return 2*Math.asin(n/2)});(o.geo.azimuthalEqualArea=function(){return Wu(pu)}).raw=pu;var su=Iu(function(n){var t=Math.acos(n);return t&&t/Math.sin(t)},J);function $u(n,t){var r=Math.cos(n),u=function(n){return Math.tan(Tn/4+n/2)},i=n===t?Math.sin(n):Math.log(r/Math.cos(t))/Math.log(u(t)/u(n)),o=r*Math.pow(u(n),i)/i;if(!i)return ri;function e(n,t){o>0?t<-Xn+Hn&&(t=-Xn+Hn):t>Xn-Hn&&(t=Xn-Hn);var r=o/Math.pow(u(t),i);return[r*Math.sin(i*n),o-r*Math.cos(i*n)]}return e.invert=function(n,t){var r=o-t,u=Qn(i)*Math.sqrt(n*n+r*r);return[Math.atan2(n,r)/i,2*Math.atan(Math.pow(o/u,1/i))-Xn]},e}function ni(n,t){var r=Math.cos(n),u=n===t?Math.sin(n):(r-Math.cos(t))/(t-n),i=r/u+n;if(R(u)<Hn)return Vu;function o(n,t){var r=i-t;return[r*Math.sin(u*n),i-r*Math.cos(u*n)]}return o.invert=function(n,t){var r=i-t;return[Math.atan2(n,r)/u,i-Qn(u)*Math.sqrt(n*n+r*r)]},o}(o.geo.azimuthalEquidistant=function(){return Wu(su)}).raw=su,(o.geo.conicConformal=function(){return cu($u)}).raw=$u,(o.geo.conicEquidistant=function(){return cu(ni)}).raw=ni;var ti=Iu(function(n){return 1/n},Math.atan);function ri(n,t){return[n,Math.log(Math.tan(Tn/4+t/2))]}function ui(n){var t,r=Wu(n),u=r.scale,i=r.translate,o=r.clipExtent;return r.scale=function(){var n=u.apply(r,arguments);return n===r?t?r.clipExtent(null):r:n},r.translate=function(){var n=i.apply(r,arguments);return n===r?t?r.clipExtent(null):r:n},r.clipExtent=function(n){var e=o.apply(r,arguments);if(e===r){if(t=null==n){var l=Tn*u(),f=i();o([[f[0]-l,f[1]-l],[f[0]+l,f[1]+l]])}}else t&&(e=null);return e},r.clipExtent(null)}(o.geo.gnomonic=function(){return Wu(ti)}).raw=ti,ri.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-Xn]},(o.geo.mercator=function(){return ui(ri)}).raw=ri;var ii=Iu(function(){return 1},Math.asin);(o.geo.orthographic=function(){return Wu(ii)}).raw=ii;var oi=Iu(function(n){return 1/(1+n)},function(n){return 2*Math.atan(n)});function ei(n,t){return[Math.log(Math.tan(Tn/4+t/2)),-n]}function li(n){return n[0]}function fi(n){return n[1]}function ai(n){for(var t=n.length,r=[0,1],u=2,i=2;i<t;i++){for(;u>1&&Vn(n[r[u-2]],n[r[u-1]],n[i])<=0;)--u;r[u++]=i}return r.slice(0,u)}function hi(n,t){return n[0]-t[0]||n[1]-t[1]}(o.geo.stereographic=function(){return Wu(oi)}).raw=oi,ei.invert=function(n,t){return[-t,2*Math.atan(Math.exp(n))-Xn]},(o.geo.transverseMercator=function(){var n=ui(ei),t=n.center,r=n.rotate;return n.center=function(n){return n?t([-n[1],n[0]]):[(n=t())[1],-n[0]]},n.rotate=function(n){return n?r([n[0],n[1],n.length>2?n[2]+90:90]):[(n=r())[0],n[1],n[2]-90]},r([0,0,90])}).raw=ei,o.geom={},o.geom.hull=function(n){var t=li,r=fi;if(arguments.length)return u(n);function u(n){if(n.length<3)return[];var u,i=qt(t),o=qt(r),e=n.length,l=[],f=[];for(u=0;u<e;u++)l.push([+i.call(this,n[u],u),+o.call(this,n[u],u),u]);for(l.sort(hi),u=0;u<e;u++)f.push([l[u][0],-l[u][1]]);var a=ai(l),h=ai(f),c=h[0]===a[0],v=h[h.length-1]===a[a.length-1],M=[];for(u=a.length-1;u>=0;--u)M.push(n[l[a[u]][2]]);for(u=+c;u<h.length-v;++u)M.push(n[l[h[u]][2]]);return M}return u.x=function(n){return arguments.length?(t=n,u):t},u.y=function(n){return arguments.length?(r=n,u):r},u},o.geom.polygon=function(n){return A(n,ci),n};var ci=o.geom.polygon.prototype=[];function vi(n,t,r){return(r[0]-t[0])*(n[1]-t[1])<(r[1]-t[1])*(n[0]-t[0])}function Mi(n,t,r,u){var i=n[0],o=r[0],e=t[0]-i,l=u[0]-o,f=n[1],a=r[1],h=t[1]-f,c=u[1]-a,v=(l*(f-a)-c*(i-o))/(c*e-l*h);return[i+v*e,f+v*h]}function di(n){var t=n[0],r=n[n.length-1];return!(t[0]-r[0]||t[1]-r[1])}ci.area=function(){for(var n,t=-1,r=this.length,u=this[r-1],i=0;++t<r;)n=u,u=this[t],i+=n[1]*u[0]-n[0]*u[1];return.5*i},ci.centroid=function(n){var t,r,u=-1,i=this.length,o=0,e=0,l=this[i-1];for(arguments.length||(n=-1/(6*this.area()));++u<i;)t=l,l=this[u],r=t[0]*l[1]-l[0]*t[1],o+=(t[0]+l[0])*r,e+=(t[1]+l[1])*r;return[o*n,e*n]},ci.clip=function(n){for(var t,r,u,i,o,e,l=di(n),f=-1,a=this.length-di(this),h=this[a-1];++f<a;){for(t=n.slice(),n.length=0,i=this[f],o=t[(u=t.length-l)-1],r=-1;++r<u;)vi(e=t[r],h,i)?(vi(o,h,i)||n.push(Mi(o,e,h,i)),n.push(e)):vi(o,h,i)&&n.push(Mi(o,e,h,i)),o=e;l&&n.push(n[0]),h=i}return n};var yi,mi,Ni,Si,ki,zi=[],qi=[];function Ri(){Ki(this),this.edge=this.site=this.circle=null}function Ui(n){var t=zi.pop()||new Ri;return t.site=n,t}function xi(n){Xi(n),Ni.remove(n),zi.push(n),Ki(n)}function bi(n){var t=n.circle,r=t.x,u=t.cy,i={x:r,y:u},o=n.P,e=n.N,l=[n];xi(n);for(var f=o;f.circle&&R(r-f.circle.x)<Hn&&R(u-f.circle.cy)<Hn;)o=f.P,l.unshift(f),xi(f),f=o;l.unshift(f),Xi(f);for(var a=e;a.circle&&R(r-a.circle.x)<Hn&&R(u-a.circle.cy)<Hn;)e=a.N,l.push(a),xi(a),a=e;l.push(a),Xi(a);var h,c=l.length;for(h=1;h<c;++h)a=l[h],f=l[h-1],Vi(a.edge,f.site,a.site,i);f=l[0],(a=l[c-1]).edge=Qi(f.site,a.site,null,i),ji(f),ji(a)}function Ci(n){for(var t,r,u,i,o=n.x,e=n.y,l=Ni._;l;)if((u=Oi(l,e)-o)>Hn)l=l.L;else{if(!((i=o-Hi(l,e))>Hn)){u>-Hn?(t=l.P,r=l):i>-Hn?(t=l,r=l.N):t=r=l;break}if(!l.R){t=l;break}l=l.R}var f=Ui(n);if(Ni.insert(t,f),t||r){if(t===r)return Xi(t),r=Ui(t.site),Ni.insert(f,r),f.edge=r.edge=Qi(t.site,f.site),ji(t),void ji(r);if(r){Xi(t),Xi(r);var a=t.site,h=a.x,c=a.y,v=n.x-h,M=n.y-c,d=r.site,y=d.x-h,m=d.y-c,N=2*(v*m-M*y),S=v*v+M*M,k=y*y+m*m,z={x:(m*S-M*k)/N+h,y:(v*k-y*S)/N+c};Vi(r.edge,a,d,z),f.edge=Qi(a,n,null,z),r.edge=Qi(n,d,null,z),ji(t),ji(r)}else f.edge=Qi(t.site,f.site)}}function Oi(n,t){var r=n.site,u=r.x,i=r.y,o=i-t;if(!o)return u;var e=n.P;if(!e)return-1/0;var l=(r=e.site).x,f=r.y,a=f-t;if(!a)return l;var h=l-u,c=1/o-1/a,v=h/a;return c?(-v+Math.sqrt(v*v-2*c*(h*h/(-2*a)-f+a/2+i-o/2)))/c+u:(u+l)/2}function Hi(n,t){var r=n.N;if(r)return Oi(r,t);var u=n.site;return u.y===t?u.x:1/0}function Yi(n){this.site=n,this.edges=[]}function Ti(n,t){return t.angle-n.angle}function Zi(){Ki(this),this.x=this.y=this.arc=this.site=this.cy=null}function ji(n){var t=n.P,r=n.N;if(t&&r){var u=t.site,i=n.site,o=r.site;if(u!==o){var e=i.x,l=i.y,f=u.x-e,a=u.y-l,h=o.x-e,c=2*(f*(m=o.y-l)-a*h);if(!(c>=-Yn)){var v=f*f+a*a,M=h*h+m*m,d=(m*v-a*M)/c,y=(f*M-h*v)/c,m=y+l,N=qi.pop()||new Zi;N.arc=n,N.site=i,N.x=d+e,N.y=m+Math.sqrt(d*d+y*y),N.cy=m,n.circle=N;for(var S=null,k=ki._;k;)if(N.y<k.y||N.y===k.y&&N.x<=k.x){if(!k.L){S=k.P;break}k=k.L}else{if(!k.R){S=k;break}k=k.R}ki.insert(S,N),S||(Si=N)}}}}function Xi(n){var t=n.circle;t&&(t.P||(Si=t.N),ki.remove(t),qi.push(t),Ki(t),n.circle=null)}function Wi(n,t){var r=n.b;if(r)return!0;var u,i,o=n.a,e=t[0][0],l=t[1][0],f=t[0][1],a=t[1][1],h=n.l,c=n.r,v=h.x,M=h.y,d=c.x,y=c.y,m=(v+d)/2,N=(M+y)/2;if(y===M){if(m<e||m>=l)return;if(v>d){if(o){if(o.y>=a)return}else o={x:m,y:f};r={x:m,y:a}}else{if(o){if(o.y<f)return}else o={x:m,y:a};r={x:m,y:f}}}else if(i=N-(u=(v-d)/(y-M))*m,u<-1||u>1)if(v>d){if(o){if(o.y>=a)return}else o={x:(f-i)/u,y:f};r={x:(a-i)/u,y:a}}else{if(o){if(o.y<f)return}else o={x:(a-i)/u,y:a};r={x:(f-i)/u,y:f}}else if(M<y){if(o){if(o.x>=l)return}else o={x:e,y:u*e+i};r={x:l,y:u*l+i}}else{if(o){if(o.x<e)return}else o={x:l,y:u*l+i};r={x:e,y:u*e+i}}return n.a=o,n.b=r,!0}function Ji(n,t){this.l=n,this.r=t,this.a=this.b=null}function Qi(n,t,r,u){var i=new Ji(n,t);return yi.push(i),r&&Vi(i,n,t,r),u&&Vi(i,t,n,u),mi[n.i].edges.push(new Gi(i,n,t)),mi[t.i].edges.push(new Gi(i,t,n)),i}function Vi(n,t,r,u){n.a||n.b?n.l===r?n.b=u:n.a=u:(n.a=u,n.l=t,n.r=r)}function Gi(n,t,r){var u=n.a,i=n.b;this.edge=n,this.site=t,this.angle=r?Math.atan2(r.y-t.y,r.x-t.x):n.l===t?Math.atan2(i.x-u.x,u.y-i.y):Math.atan2(u.x-i.x,i.y-u.y)}function Bi(){this._=null}function Ki(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function wi(n,t){var r=t,u=t.R,i=r.U;i?i.L===r?i.L=u:i.R=u:n._=u,u.U=i,r.U=u,r.R=u.L,r.R&&(r.R.U=r),u.L=r}function Pi(n,t){var r=t,u=t.L,i=r.U;i?i.L===r?i.L=u:i.R=u:n._=u,u.U=i,r.U=u,r.L=u.R,r.L&&(r.L.U=r),u.R=r}function _i(n){for(;n.L;)n=n.L;return n}function gi(n,t){var r,u,i,o=n.sort(Ei).pop();for(yi=[],mi=new Array(n.length),Ni=new Bi,ki=new Bi;;)if(i=Si,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===r&&o.y===u||(mi[o.i]=new Yi(o),Ci(o),r=o.x,u=o.y),o=n.pop();else{if(!i)break;bi(i.arc)}t&&(function(n){for(var t,r=yi,u=fu(n[0][0],n[0][1],n[1][0],n[1][1]),i=r.length;i--;)(!Wi(t=r[i],n)||!u(t)||R(t.a.x-t.b.x)<Hn&&R(t.a.y-t.b.y)<Hn)&&(t.a=t.b=null,r.splice(i,1))}(t),function(n){for(var t,r,u,i,o,e,l,f,a,h,c=n[0][0],v=n[1][0],M=n[0][1],d=n[1][1],y=mi,m=y.length;m--;)if((o=y[m])&&o.prepare())for(f=(l=o.edges).length,e=0;e<f;)u=(h=l[e].end()).x,i=h.y,t=(a=l[++e%f].start()).x,r=a.y,(R(u-t)>Hn||R(i-r)>Hn)&&(l.splice(e,0,new Gi((N=o.site,S=h,k=R(u-c)<Hn&&d-i>Hn?{x:c,y:R(t-c)<Hn?r:d}:R(i-d)<Hn&&v-u>Hn?{x:R(r-d)<Hn?t:v,y:d}:R(u-v)<Hn&&i-M>Hn?{x:v,y:R(t-v)<Hn?r:M}:R(i-M)<Hn&&u-c>Hn?{x:R(r-M)<Hn?t:c,y:M}:null,z=void 0,z=new Ji(N,null),z.a=S,z.b=k,yi.push(z),z),o.site,null)),++f);var N,S,k,z}(t));var e={cells:mi,edges:yi};return Ni=ki=yi=mi=null,e}function Ei(n,t){return t.y-n.y||t.x-n.x}Yi.prototype.prepare=function(){for(var n,t=this.edges,r=t.length;r--;)(n=t[r].edge).b&&n.a||t.splice(r,1);return t.sort(Ti),t.length},Gi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Bi.prototype={insert:function(n,t){var r,u,i;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;r=n}else this._?(n=_i(this._),t.P=null,t.N=n,n.P=n.L=t,r=n):(t.P=t.N=null,this._=t,r=null);for(t.L=t.R=null,t.U=r,t.C=!0,n=t;r&&r.C;)r===(u=r.U).L?(i=u.R)&&i.C?(r.C=i.C=!1,u.C=!0,n=u):(n===r.R&&(wi(this,r),r=(n=r).U),r.C=!1,u.C=!0,Pi(this,u)):(i=u.L)&&i.C?(r.C=i.C=!1,u.C=!0,n=u):(n===r.L&&(Pi(this,r),r=(n=r).U),r.C=!1,u.C=!0,wi(this,u)),r=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,r,u,i=n.U,o=n.L,e=n.R;if(r=o?e?_i(e):o:e,i?i.L===n?i.L=r:i.R=r:this._=r,o&&e?(u=r.C,r.C=n.C,r.L=o,o.U=r,r!==e?(i=r.U,r.U=n.U,n=r.R,i.L=n,r.R=e,e.U=r):(r.U=i,i=r,n=r.R)):(u=n.C,n=r),n&&(n.U=i),!u)if(n&&n.C)n.C=!1;else{do{if(n===this._)break;if(n===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,wi(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Pi(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,wi(this,i),n=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,Pi(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,wi(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,Pi(this,i),n=this._;break}t.C=!0,n=i,i=i.U}while(!n.C);n&&(n.C=!1)}}},o.geom.voronoi=function(n){var t=li,r=fi,u=t,i=r,o=Ai;if(n)return e(n);function e(n){var t=new Array(n.length),r=o[0][0],u=o[0][1],i=o[1][0],e=o[1][1];return gi(l(n),o).cells.forEach(function(o,l){var f=o.edges,a=o.site;(t[l]=f.length?f.map(function(n){var t=n.start();return[t.x,t.y]}):a.x>=r&&a.x<=i&&a.y>=u&&a.y<=e?[[r,e],[i,e],[i,u],[r,u]]:[]).point=n[l]}),t}function l(n){return n.map(function(n,t){return{x:Math.round(u(n,t)/Hn)*Hn,y:Math.round(i(n,t)/Hn)*Hn,i:t}})}return e.links=function(n){return gi(l(n)).edges.filter(function(n){return n.l&&n.r}).map(function(t){return{source:n[t.l.i],target:n[t.r.i]}})},e.triangles=function(n){var t=[];return gi(l(n)).cells.forEach(function(r,u){for(var i,o,e,l,f=r.site,a=r.edges.sort(Ti),h=-1,c=a.length,v=a[c-1].edge,M=v.l===f?v.r:v.l;++h<c;)v,i=M,M=(v=a[h].edge).l===f?v.r:v.l,u<i.i&&u<M.i&&(e=i,l=M,((o=f).x-l.x)*(e.y-o.y)-(o.x-e.x)*(l.y-o.y)<0)&&t.push([n[u],n[i.i],n[M.i]])}),t},e.x=function(n){return arguments.length?(u=qt(t=n),e):t},e.y=function(n){return arguments.length?(i=qt(r=n),e):r},e.clipExtent=function(n){return arguments.length?(o=null==n?Ai:n,e):o===Ai?null:o},e.size=function(n){return arguments.length?e.clipExtent(n&&[[0,0],n]):o===Ai?null:o&&o[1]},e};var Ai=[[-1e6,-1e6],[1e6,1e6]];function Li(n){return n.x}function Di(n){return n.y}function Fi(n,t){n=o.rgb(n),t=o.rgb(t);var r=n.r,u=n.g,i=n.b,e=t.r-r,l=t.g-u,f=t.b-i;return function(n){return"#"+dt(Math.round(r+e*n))+dt(Math.round(u+l*n))+dt(Math.round(i+f*n))}}function Ii(n,t){var r,u={},i={};for(r in n)r in t?u[r]=to(n[r],t[r]):i[r]=n[r];for(r in t)r in n||(i[r]=t[r]);return function(n){for(r in u)i[r]=u[r](n);return i}}function pi(n,t){return n=+n,t=+t,function(r){return n*(1-r)+t*r}}function si(n,t){var r,u,i,o=$i.lastIndex=no.lastIndex=0,e=-1,l=[],f=[];for(n+="",t+="";(r=$i.exec(n))&&(u=no.exec(t));)(i=u.index)>o&&(i=t.slice(o,i),l[e]?l[e]+=i:l[++e]=i),(r=r[0])===(u=u[0])?l[e]?l[e]+=u:l[++e]=u:(l[++e]=null,f.push({i:e,x:pi(r,u)})),o=no.lastIndex;return o<t.length&&(i=t.slice(o),l[e]?l[e]+=i:l[++e]=i),l.length<2?f[0]?(t=f[0].x,function(n){return t(n)+""}):function(){return t}:(t=f.length,function(n){for(var r,u=0;u<t;++u)l[(r=f[u]).i]=r.x(n);return l.join("")})}o.geom.delaunay=function(n){return o.geom.voronoi().triangles(n)},o.geom.quadtree=function(n,t,r,u,i){var o,e=li,l=fi;if(o=arguments.length)return e=Li,l=Di,3===o&&(i=r,u=t,r=t=0),f(n);function f(n){var f,a,h,c,v,M,d,y,m,N=qt(e),S=qt(l);if(null!=t)M=t,d=r,y=u,m=i;else if(y=m=-(M=d=1/0),a=[],h=[],v=n.length,o)for(c=0;c<v;++c)(f=n[c]).x<M&&(M=f.x),f.y<d&&(d=f.y),f.x>y&&(y=f.x),f.y>m&&(m=f.y),a.push(f.x),h.push(f.y);else for(c=0;c<v;++c){var k=+N(f=n[c],c),z=+S(f,c);k<M&&(M=k),z<d&&(d=z),k>y&&(y=k),z>m&&(m=z),a.push(k),h.push(z)}var q=y-M,U=m-d;function x(n,t,r,u,i,o,e,l){if(!isNaN(r)&&!isNaN(u))if(n.leaf){var f=n.x,a=n.y;if(null!=f)if(R(f-r)+R(a-u)<.01)b(n,t,r,u,i,o,e,l);else{var h=n.point;n.x=n.y=n.point=null,b(n,h,f,a,i,o,e,l),b(n,t,r,u,i,o,e,l)}else n.x=r,n.y=u,n.point=t}else b(n,t,r,u,i,o,e,l)}function b(n,t,r,u,i,o,e,l){var f=.5*(i+e),a=.5*(o+l),h=r>=f,c=u>=a,v=c<<1|h;n.leaf=!1,h?i=f:e=f,c?o=a:l=a,x(n=n.nodes[v]||(n.nodes[v]={leaf:!0,nodes:[],point:null,x:null,y:null}),t,r,u,i,o,e,l)}q>U?m=d+q:y=M+U;var C={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(n){x(C,n,+N(n,++c),+S(n,c),M,d,y,m)}};if(C.visit=function(n){!function n(t,r,u,i,o,e){if(!t(r,u,i,o,e)){var l=.5*(u+o),f=.5*(i+e),a=r.nodes;a[0]&&n(t,a[0],u,i,l,f),a[1]&&n(t,a[1],l,i,o,f),a[2]&&n(t,a[2],u,f,l,e),a[3]&&n(t,a[3],l,f,o,e)}}(n,C,M,d,y,m)},C.find=function(n){return function(n,t,r,u,i,o,e){var l,f=1/0;return function n(a,h,c,v,M){if(!(h>o||c>e||v<u||M<i)){if(d=a.point){var d,y=t-a.x,m=r-a.y,N=y*y+m*m;if(N<f){var S=Math.sqrt(f=N);u=t-S,i=r-S,o=t+S,e=r+S,l=d}}for(var k=a.nodes,z=.5*(h+v),q=.5*(c+M),R=(r>=q)<<1|t>=z,U=R+4;R<U;++R)if(a=k[3&R])switch(3&R){case 0:n(a,h,c,z,q);break;case 1:n(a,z,c,v,q);break;case 2:n(a,h,q,z,M);break;case 3:n(a,z,q,v,M)}}}(n,u,i,o,e),l}(C,n[0],n[1],M,d,y,m)},c=-1,null==t){for(;++c<v;)x(C,n[c],a[c],h[c],M,d,y,m);--c}else n.forEach(C.add);return a=h=n=f=null,C}return f.x=function(n){return arguments.length?(e=n,f):e},f.y=function(n){return arguments.length?(l=n,f):l},f.extent=function(n){return arguments.length?(null==n?t=r=u=i=null:(t=+n[0][0],r=+n[0][1],u=+n[1][0],i=+n[1][1]),f):null==t?null:[[t,r],[u,i]]},f.size=function(n){return arguments.length?(null==n?t=r=u=i=null:(t=r=0,u=+n[0],i=+n[1]),f):null==t?null:[u-t,i-r]},f},o.interpolateRgb=Fi,o.interpolateObject=Ii,o.interpolateNumber=pi,o.interpolateString=si;var $i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,no=new RegExp($i.source,"g");function to(n,t){for(var r,u=o.interpolators.length;--u>=0&&!(r=o.interpolators[u](n,t)););return r}function ro(n,t){var r,u=[],i=[],o=n.length,e=t.length,l=Math.min(n.length,t.length);for(r=0;r<l;++r)u.push(to(n[r],t[r]));for(;r<o;++r)i[r]=n[r];for(;r<e;++r)i[r]=t[r];return function(n){for(r=0;r<l;++r)i[r]=u[r](n);return i}}o.interpolate=to,o.interpolators=[function(n,t){var r=typeof t;return("string"===r?zt.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?Fi:si:t instanceof An?Fi:Array.isArray(t)?ro:"object"===r&&isNaN(t)?Ii:pi)(n,t)}],o.interpolateArray=ro;var uo=function(){return J},io=o.map({linear:uo,poly:function(n){return function(t){return Math.pow(t,n)}},quad:function(){return fo},cubic:function(){return ao},sin:function(){return co},exp:function(){return vo},circle:function(){return Mo},elastic:function(n,t){var r;arguments.length<2&&(t=.45);arguments.length?r=t/Zn*Math.asin(1/n):(n=1,r=t/4);return function(u){return 1+n*Math.pow(2,-10*u)*Math.sin((u-r)*Zn/t)}},back:function(n){n||(n=1.70158);return function(t){return t*t*((n+1)*t-n)}},bounce:function(){return yo}}),oo=o.map({in:J,out:eo,"in-out":lo,"out-in":function(n){return lo(eo(n))}});function eo(n){return function(t){return 1-n(1-t)}}function lo(n){return function(t){return.5*(t<.5?n(2*t):2-n(2-2*t))}}function fo(n){return n*n}function ao(n){return n*n*n}function ho(n){if(n<=0)return 0;if(n>=1)return 1;var t=n*n,r=t*n;return 4*(n<.5?r:3*(n-t)+r-.75)}function co(n){return 1-Math.cos(n*Xn)}function vo(n){return Math.pow(2,10*(n-1))}function Mo(n){return 1-Math.sqrt(1-n*n)}function yo(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function mo(n,t){return t-=n,function(r){return Math.round(n+t*r)}}function No(n){var t,r,u,i=[n.a,n.b],o=[n.c,n.d],e=ko(i),l=So(i,o),f=ko(((t=o)[0]+=(u=-l)*(r=i)[0],t[1]+=u*r[1],t))||0;i[0]*o[1]<o[0]*i[1]&&(i[0]*=-1,i[1]*=-1,e*=-1,l*=-1),this.rotate=(e?Math.atan2(i[1],i[0]):Math.atan2(-o[0],o[1]))*Jn,this.translate=[n.e,n.f],this.scale=[e,f],this.skew=f?Math.atan2(l,f)*Jn:0}function So(n,t){return n[0]*t[0]+n[1]*t[1]}function ko(n){var t=Math.sqrt(So(n,n));return t&&(n[0]/=t,n[1]/=t),t}o.ease=function(n){var t,r=n.indexOf("-"),u=r>=0?n.slice(0,r):n,i=r>=0?n.slice(r+1):"in";return u=io.get(u)||uo,i=oo.get(i)||J,t=i(u.apply(null,e.call(arguments,1))),function(n){return n<=0?0:n>=1?1:t(n)}},o.interpolateHcl=function(n,t){n=o.hcl(n),t=o.hcl(t);var r=n.h,u=n.c,i=n.l,e=t.h-r,l=t.c-u,f=t.l-i;isNaN(l)&&(l=0,u=isNaN(u)?t.c:u);isNaN(e)?(e=0,r=isNaN(r)?t.h:r):e>180?e-=360:e<-180&&(e+=360);return function(n){return sn(r+e*n,u+l*n,i+f*n)+""}},o.interpolateHsl=function(n,t){n=o.hsl(n),t=o.hsl(t);var r=n.h,u=n.s,i=n.l,e=t.h-r,l=t.s-u,f=t.l-i;isNaN(l)&&(l=0,u=isNaN(u)?t.s:u);isNaN(e)?(e=0,r=isNaN(r)?t.h:r):e>180?e-=360:e<-180&&(e+=360);return function(n){return Fn(r+e*n,u+l*n,i+f*n)+""}},o.interpolateLab=function(n,t){n=o.lab(n),t=o.lab(t);var r=n.l,u=n.a,i=n.b,e=t.l-r,l=t.a-u,f=t.b-i;return function(n){return ot(r+e*n,u+l*n,i+f*n)+""}},o.interpolateRound=mo,o.transform=function(n){var t=f.createElementNS(o.ns.prefix.svg,"g");return(o.transform=function(n){if(null!=n){t.setAttribute("transform",n);var r=t.transform.baseVal.consolidate()}return new No(r?r.matrix:zo)})(n)},No.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var zo={a:1,b:0,c:0,d:1,e:0,f:0};function qo(n){return n.length?n.pop()+",":""}function Ro(n,t){var r=[],u=[];return n=o.transform(n),t=o.transform(t),function(n,t,r,u){if(n[0]!==t[0]||n[1]!==t[1]){var i=r.push("translate(",null,",",null,")");u.push({i:i-4,x:pi(n[0],t[0])},{i:i-2,x:pi(n[1],t[1])})}else(t[0]||t[1])&&r.push("translate("+t+")")}(n.translate,t.translate,r,u),function(n,t,r,u){n!==t?(n-t>180?t+=360:t-n>180&&(n+=360),u.push({i:r.push(qo(r)+"rotate(",null,")")-2,x:pi(n,t)})):t&&r.push(qo(r)+"rotate("+t+")")}(n.rotate,t.rotate,r,u),function(n,t,r,u){n!==t?u.push({i:r.push(qo(r)+"skewX(",null,")")-2,x:pi(n,t)}):t&&r.push(qo(r)+"skewX("+t+")")}(n.skew,t.skew,r,u),function(n,t,r,u){if(n[0]!==t[0]||n[1]!==t[1]){var i=r.push(qo(r)+"scale(",null,",",null,")");u.push({i:i-4,x:pi(n[0],t[0])},{i:i-2,x:pi(n[1],t[1])})}else 1===t[0]&&1===t[1]||r.push(qo(r)+"scale("+t+")")}(n.scale,t.scale,r,u),n=t=null,function(n){for(var t,i=-1,o=u.length;++i<o;)r[(t=u[i]).i]=t.x(n);return r.join("")}}function Uo(n,t){return t=(t-=n=+n)||1/t,function(r){return(r-n)/t}}function xo(n,t){return t=(t-=n=+n)||1/t,function(r){return Math.max(0,Math.min(1,(r-n)/t))}}function bo(n){for(var t=n.source,r=n.target,u=function(n,t){if(n===t)return n;var r=Co(n),u=Co(t),i=r.pop(),o=u.pop(),e=null;for(;i===o;)e=i,i=r.pop(),o=u.pop();return e}(t,r),i=[t];t!==u;)t=t.parent,i.push(t);for(var o=i.length;r!==u;)i.splice(o,0,r),r=r.parent;return i}function Co(n){for(var t=[],r=n.parent;null!=r;)t.push(n),n=r,r=r.parent;return t.push(n),t}function Oo(n){n.fixed|=2}function Ho(n){n.fixed&=-7}function Yo(n){n.fixed|=4,n.px=n.x,n.py=n.y}function To(n){n.fixed&=-5}o.interpolateTransform=Ro,o.layout={},o.layout.bundle=function(){return function(n){for(var t=[],r=-1,u=n.length;++r<u;)t.push(bo(n[r]));return t}},o.layout.chord=function(){var n,t,r,u,i,e,l,f={},a=0;function h(){var f,h,v,M,d,y={},m=[],N=o.range(u),S=[];for(n=[],t=[],f=0,M=-1;++M<u;){for(h=0,d=-1;++d<u;)h+=r[M][d];m.push(h),S.push(o.range(u)),f+=h}for(i&&N.sort(function(n,t){return i(m[n],m[t])}),e&&S.forEach(function(n,t){n.sort(function(n,u){return e(r[t][n],r[t][u])})}),f=(Zn-a*u)/f,h=0,M=-1;++M<u;){for(v=h,d=-1;++d<u;){var k=N[M],z=S[k][d],q=r[k][z],R=h,U=h+=q*f;y[k+"-"+z]={index:k,subindex:z,startAngle:R,endAngle:U,value:q}}t[k]={index:k,startAngle:v,endAngle:h,value:m[k]},h+=a}for(M=-1;++M<u;)for(d=M-1;++d<u;){var x=y[M+"-"+d],b=y[d+"-"+M];(x.value||b.value)&&n.push(x.value<b.value?{source:b,target:x}:{source:x,target:b})}l&&c()}function c(){n.sort(function(n,t){return l((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}return f.matrix=function(i){return arguments.length?(u=(r=i)&&r.length,n=t=null,f):r},f.padding=function(r){return arguments.length?(a=r,n=t=null,f):a},f.sortGroups=function(r){return arguments.length?(i=r,n=t=null,f):i},f.sortSubgroups=function(t){return arguments.length?(e=t,n=null,f):e},f.sortChords=function(t){return arguments.length?(l=t,n&&c(),f):l},f.chords=function(){return n||h(),n},f.groups=function(){return t||h(),t},f},o.layout.force=function(){var n,t,r,u,i,e,l={},f=o.dispatch("start","tick","end"),a=[1,1],h=.9,c=Zo,v=jo,M=-30,d=Xo,y=.1,m=.64,N=[],S=[];function k(n){return function(t,r,u,i){if(t.point!==n){var o=t.cx-n.x,e=t.cy-n.y,l=i-r,f=o*o+e*e;if(l*l/m<f){if(f<d){var a=t.charge/f;n.px-=o*a,n.py-=e*a}return!0}if(t.point&&f&&f<d){a=t.pointCharge/f;n.px-=o*a,n.py-=e*a}}return!t.charge}}function z(n){n.px=o.event.x,n.py=o.event.y,l.resume()}return l.tick=function(){if((r*=.99)<.005)return n=null,f.end({type:"end",alpha:r=0}),!0;var t,l,c,v,d,m,z,q,R,U=N.length,x=S.length;for(l=0;l<x;++l)v=(c=S[l]).source,(m=(q=(d=c.target).x-v.x)*q+(R=d.y-v.y)*R)&&(q*=m=r*i[l]*((m=Math.sqrt(m))-u[l])/m,R*=m,d.x-=q*(z=v.weight+d.weight?v.weight/(v.weight+d.weight):.5),d.y-=R*z,v.x+=q*(z=1-z),v.y+=R*z);if((z=r*y)&&(q=a[0]/2,R=a[1]/2,l=-1,z))for(;++l<U;)(c=N[l]).x+=(q-c.x)*z,c.y+=(R-c.y)*z;if(M)for(!function n(t,r,u){var i=0,o=0;t.charge=0;if(!t.leaf)for(var e,l=t.nodes,f=l.length,a=-1;++a<f;)null!=(e=l[a])&&(n(e,r,u),t.charge+=e.charge,i+=e.charge*e.cx,o+=e.charge*e.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var h=r*u[t.point.index];t.charge+=t.pointCharge=h,i+=h*t.point.x,o+=h*t.point.y}t.cx=i/t.charge;t.cy=o/t.charge}(t=o.geom.quadtree(N),r,e),l=-1;++l<U;)(c=N[l]).fixed||t.visit(k(c));for(l=-1;++l<U;)(c=N[l]).fixed?(c.x=c.px,c.y=c.py):(c.x-=(c.px-(c.px=c.x))*h,c.y-=(c.py-(c.py=c.y))*h);f.tick({type:"tick",alpha:r})},l.nodes=function(n){return arguments.length?(N=n,l):N},l.links=function(n){return arguments.length?(S=n,l):S},l.size=function(n){return arguments.length?(a=n,l):a},l.linkDistance=function(n){return arguments.length?(c="function"==typeof n?n:+n,l):c},l.distance=l.linkDistance,l.linkStrength=function(n){return arguments.length?(v="function"==typeof n?n:+n,l):v},l.friction=function(n){return arguments.length?(h=+n,l):h},l.charge=function(n){return arguments.length?(M="function"==typeof n?n:+n,l):M},l.chargeDistance=function(n){return arguments.length?(d=n*n,l):Math.sqrt(d)},l.gravity=function(n){return arguments.length?(y=+n,l):y},l.theta=function(n){return arguments.length?(m=n*n,l):Math.sqrt(m)},l.alpha=function(t){return arguments.length?(t=+t,r?t>0?r=t:(n.c=null,n.t=NaN,n=null,f.end({type:"end",alpha:r=0})):t>0&&(f.start({type:"start",alpha:r=t}),n=Yt(l.tick)),l):r},l.start=function(){var n,t,r,o=N.length,f=S.length,h=a[0],d=a[1];for(n=0;n<o;++n)(r=N[n]).index=n,r.weight=0;for(n=0;n<f;++n)"number"==typeof(r=S[n]).source&&(r.source=N[r.source]),"number"==typeof r.target&&(r.target=N[r.target]),++r.source.weight,++r.target.weight;for(n=0;n<o;++n)r=N[n],isNaN(r.x)&&(r.x=y("x",h)),isNaN(r.y)&&(r.y=y("y",d)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(u=[],"function"==typeof c)for(n=0;n<f;++n)u[n]=+c.call(this,S[n],n);else for(n=0;n<f;++n)u[n]=c;if(i=[],"function"==typeof v)for(n=0;n<f;++n)i[n]=+v.call(this,S[n],n);else for(n=0;n<f;++n)i[n]=v;if(e=[],"function"==typeof M)for(n=0;n<o;++n)e[n]=+M.call(this,N[n],n);else for(n=0;n<o;++n)e[n]=M;function y(r,u){if(!t){for(t=new Array(o),a=0;a<o;++a)t[a]=[];for(a=0;a<f;++a){var i=S[a];t[i.source.index].push(i.target),t[i.target.index].push(i.source)}}for(var e,l=t[n],a=-1,h=l.length;++a<h;)if(!isNaN(e=l[a][r]))return e;return Math.random()*u}return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){if(t||(t=o.behavior.drag().origin(J).on("dragstart.force",Oo).on("drag.force",z).on("dragend.force",Ho)),!arguments.length)return t;this.on("mouseover.force",Yo).on("mouseout.force",To).call(t)},o.rebind(l,f,"on")};var Zo=20,jo=1,Xo=1/0;function Wo(n,t){return o.rebind(n,t,"sort","children","value"),n.nodes=n,n.links=Ko,n}function Jo(n,t){for(var r=[n];null!=(n=r.pop());)if(t(n),(i=n.children)&&(u=i.length))for(var u,i;--u>=0;)r.push(i[u])}function Qo(n,t){for(var r=[n],u=[];null!=(n=r.pop());)if(u.push(n),(o=n.children)&&(i=o.length))for(var i,o,e=-1;++e<i;)r.push(o[e]);for(;null!=(n=u.pop());)t(n)}function Vo(n){return n.children}function Go(n){return n.value}function Bo(n,t){return t.value-n.value}function Ko(n){return o.merge(n.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}o.layout.hierarchy=function(){var n=Bo,t=Vo,r=Go;function u(i){var o,e=[i],l=[];for(i.depth=0;null!=(o=e.pop());)if(l.push(o),(a=t.call(u,o,o.depth))&&(f=a.length)){for(var f,a,h;--f>=0;)e.push(h=a[f]),h.parent=o,h.depth=o.depth+1;r&&(o.value=0),o.children=a}else r&&(o.value=+r.call(u,o,o.depth)||0),delete o.children;return Qo(i,function(t){var u,i;n&&(u=t.children)&&u.sort(n),r&&(i=t.parent)&&(i.value+=t.value)}),l}return u.sort=function(t){return arguments.length?(n=t,u):n},u.children=function(n){return arguments.length?(t=n,u):t},u.value=function(n){return arguments.length?(r=n,u):r},u.revalue=function(n){return r&&(Jo(n,function(n){n.children&&(n.value=0)}),Qo(n,function(n){var t;n.children||(n.value=+r.call(u,n,n.depth)||0),(t=n.parent)&&(t.value+=n.value)})),n},u},o.layout.partition=function(){var n=o.layout.hierarchy(),t=[1,1];function r(r,u){var i=n.call(this,r,u);return function n(t,r,u,i){var o=t.children;if(t.x=r,t.y=t.depth*i,t.dx=u,t.dy=i,o&&(e=o.length)){var e,l,f,a=-1;for(u=t.value?u/t.value:0;++a<e;)n(l=o[a],r,f=l.value*u,i),r+=f}}(i[0],0,t[0],t[1]/function n(t){var r=t.children,u=0;if(r&&(i=r.length))for(var i,o=-1;++o<i;)u=Math.max(u,n(r[o]));return 1+u}(i[0])),i}return r.size=function(n){return arguments.length?(t=n,r):t},Wo(r,n)},o.layout.pie=function(){var n=Number,t=wo,r=0,u=Zn,i=0;function e(l){var f,a=l.length,h=l.map(function(t,r){return+n.call(e,t,r)}),c=+("function"==typeof r?r.apply(this,arguments):r),v=("function"==typeof u?u.apply(this,arguments):u)-c,M=Math.min(Math.abs(v)/a,+("function"==typeof i?i.apply(this,arguments):i)),d=M*(v<0?-1:1),y=o.sum(h),m=y?(v-a*d)/y:0,N=o.range(a),S=[];return null!=t&&N.sort(t===wo?function(n,t){return h[t]-h[n]}:function(n,r){return t(l[n],l[r])}),N.forEach(function(n){S[n]={data:l[n],value:f=h[n],startAngle:c,endAngle:c+=f*m+d,padAngle:M}}),S}return e.value=function(t){return arguments.length?(n=t,e):n},e.sort=function(n){return arguments.length?(t=n,e):t},e.startAngle=function(n){return arguments.length?(r=n,e):r},e.endAngle=function(n){return arguments.length?(u=n,e):u},e.padAngle=function(n){return arguments.length?(i=n,e):i},e};var wo={};function Po(n){return n.x}function _o(n){return n.y}function go(n,t,r){n.y0=t,n.y=r}o.layout.stack=function(){var n=J,t=Lo,r=Do,u=go,i=Po,e=_o;function l(f,a){if(!(M=f.length))return f;var h=f.map(function(t,r){return n.call(l,t,r)}),c=h.map(function(n){return n.map(function(n,t){return[i.call(l,n,t),e.call(l,n,t)]})}),v=t.call(l,c,a);h=o.permute(h,v),c=o.permute(c,v);var M,d,y,m,N=r.call(l,c,a),S=h[0].length;for(y=0;y<S;++y)for(u.call(l,h[0][y],m=N[y],c[0][y][1]),d=1;d<M;++d)u.call(l,h[d][y],m+=c[d-1][y][1],c[d][y][1]);return f}return l.values=function(t){return arguments.length?(n=t,l):n},l.order=function(n){return arguments.length?(t="function"==typeof n?n:Eo.get(n)||Lo,l):t},l.offset=function(n){return arguments.length?(r="function"==typeof n?n:Ao.get(n)||Do,l):r},l.x=function(n){return arguments.length?(i=n,l):i},l.y=function(n){return arguments.length?(e=n,l):e},l.out=function(n){return arguments.length?(u=n,l):u},l};var Eo=o.map({"inside-out":function(n){var t,r,u=n.length,i=n.map(Fo),e=n.map(Io),l=o.range(u).sort(function(n,t){return i[n]-i[t]}),f=0,a=0,h=[],c=[];for(t=0;t<u;++t)r=l[t],f<a?(f+=e[r],h.push(r)):(a+=e[r],c.push(r));return c.reverse().concat(h)},reverse:function(n){return o.range(n.length).reverse()},default:Lo}),Ao=o.map({silhouette:function(n){var t,r,u,i=n.length,o=n[0].length,e=[],l=0,f=[];for(r=0;r<o;++r){for(t=0,u=0;t<i;t++)u+=n[t][r][1];u>l&&(l=u),e.push(u)}for(r=0;r<o;++r)f[r]=(l-e[r])/2;return f},wiggle:function(n){var t,r,u,i,o,e,l,f,a,h=n.length,c=n[0],v=c.length,M=[];for(M[0]=f=a=0,r=1;r<v;++r){for(t=0,i=0;t<h;++t)i+=n[t][r][1];for(t=0,o=0,l=c[r][0]-c[r-1][0];t<h;++t){for(u=0,e=(n[t][r][1]-n[t][r-1][1])/(2*l);u<t;++u)e+=(n[u][r][1]-n[u][r-1][1])/l;o+=e*n[t][r][1]}M[r]=f-=i?o/i*l:0,f<a&&(a=f)}for(r=0;r<v;++r)M[r]-=a;return M},expand:function(n){var t,r,u,i=n.length,o=n[0].length,e=1/i,l=[];for(r=0;r<o;++r){for(t=0,u=0;t<i;t++)u+=n[t][r][1];if(u)for(t=0;t<i;t++)n[t][r][1]/=u;else for(t=0;t<i;t++)n[t][r][1]=e}for(r=0;r<o;++r)l[r]=0;return l},zero:Do});function Lo(n){return o.range(n.length)}function Do(n){for(var t=-1,r=n[0].length,u=[];++t<r;)u[t]=0;return u}function Fo(n){for(var t,r=1,u=0,i=n[0][1],o=n.length;r<o;++r)(t=n[r][1])>i&&(u=r,i=t);return u}function Io(n){return n.reduce(po,0)}function po(n,t){return n+t[1]}function so(n,t){return $o(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}function $o(n,t){for(var r=-1,u=+n[0],i=(n[1]-u)/t,o=[];++r<=t;)o[r]=i*r+u;return o}function ne(n){return[o.min(n),o.max(n)]}function te(n,t){return n.value-t.value}function re(n,t){var r=n._pack_next;n._pack_next=t,t._pack_prev=n,t._pack_next=r,r._pack_prev=t}function ue(n,t){n._pack_next=t,t._pack_prev=n}function ie(n,t){var r=t.x-n.x,u=t.y-n.y,i=n.r+t.r;return.999*i*i>r*r+u*u}function oe(n){if((t=n.children)&&(f=t.length)){var t,r,u,i,o,e,l,f,a=1/0,h=-1/0,c=1/0,v=-1/0;if(t.forEach(ee),(r=t[0]).x=-r.r,r.y=0,k(r),f>1&&((u=t[1]).x=u.r,u.y=0,k(u),f>2))for(fe(r,u,i=t[2]),k(i),re(r,i),r._pack_prev=i,re(i,u),u=r._pack_next,o=3;o<f;o++){fe(r,u,i=t[o]);var M=0,d=1,y=1;for(e=u._pack_next;e!==u;e=e._pack_next,d++)if(ie(e,i)){M=1;break}if(1==M)for(l=r._pack_prev;l!==e._pack_prev&&!ie(l,i);l=l._pack_prev,y++);M?(d<y||d==y&&u.r<r.r?ue(r,u=e):ue(r=l,u),o--):(re(r,i),u=i,k(i))}var m=(a+h)/2,N=(c+v)/2,S=0;for(o=0;o<f;o++)(i=t[o]).x-=m,i.y-=N,S=Math.max(S,i.r+Math.sqrt(i.x*i.x+i.y*i.y));n.r=S,t.forEach(le)}function k(n){a=Math.min(n.x-n.r,a),h=Math.max(n.x+n.r,h),c=Math.min(n.y-n.r,c),v=Math.max(n.y+n.r,v)}}function ee(n){n._pack_next=n._pack_prev=n}function le(n){delete n._pack_next,delete n._pack_prev}function fe(n,t,r){var u=n.r+r.r,i=t.x-n.x,o=t.y-n.y;if(u&&(i||o)){var e=t.r+r.r,l=i*i+o*o,f=.5+((u*=u)-(e*=e))/(2*l),a=Math.sqrt(Math.max(0,2*e*(u+l)-(u-=l)*u-e*e))/(2*l);r.x=n.x+f*i+a*o,r.y=n.y+f*o-a*i}else r.x=n.x+u,r.y=n.y}function ae(n,t){return n.parent==t.parent?1:2}function he(n){var t=n.children;return t.length?t[0]:n.t}function ce(n){var t,r=n.children;return(t=r.length)?r[t-1]:n.t}function ve(n,t,r){var u=r/(t.i-n.i);t.c-=u,t.s+=r,n.c+=u,t.z+=r,t.m+=r}function Me(n,t,r){return n.a.parent===t.parent?n.a:r}function de(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function ye(n,t){var r=n.x+t[3],u=n.y+t[0],i=n.dx-t[1]-t[3],o=n.dy-t[0]-t[2];return i<0&&(r+=i/2,i=0),o<0&&(u+=o/2,o=0),{x:r,y:u,dx:i,dy:o}}function me(n){var t=n[0],r=n[n.length-1];return t<r?[t,r]:[r,t]}function Ne(n){return n.rangeExtent?n.rangeExtent():me(n.range())}function Se(n,t,r,u){var i=r(n[0],n[1]),o=u(t[0],t[1]);return function(n){return o(i(n))}}function ke(n,t){var r,u=0,i=n.length-1,o=n[u],e=n[i];return e<o&&(r=u,u=i,i=r,r=o,o=e,e=r),n[u]=t.floor(o),n[i]=t.ceil(e),n}function ze(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:qe}o.layout.histogram=function(){var n=!0,t=Number,r=ne,u=so;function i(i,e){for(var l,f,a=[],h=i.map(t,this),c=r.call(this,h,e),v=u.call(this,c,h,e),M=(e=-1,h.length),d=v.length-1,y=n?1:1/M;++e<d;)(l=a[e]=[]).dx=v[e+1]-(l.x=v[e]),l.y=0;if(d>0)for(e=-1;++e<M;)(f=h[e])>=c[0]&&f<=c[1]&&((l=a[o.bisect(v,f,1,d)-1]).y+=y,l.push(i[e]));return a}return i.value=function(n){return arguments.length?(t=n,i):t},i.range=function(n){return arguments.length?(r=qt(n),i):r},i.bins=function(n){return arguments.length?(u="number"==typeof n?function(t){return $o(t,n)}:qt(n),i):u},i.frequency=function(t){return arguments.length?(n=!!t,i):n},i},o.layout.pack=function(){var n,t=o.layout.hierarchy().sort(te),r=0,u=[1,1];function i(i,o){var e=t.call(this,i,o),l=e[0],f=u[0],a=u[1],h=null==n?Math.sqrt:"function"==typeof n?n:function(){return n};if(l.x=l.y=0,Qo(l,function(n){n.r=+h(n.value)}),Qo(l,oe),r){var c=r*(n?1:Math.max(2*l.r/f,2*l.r/a))/2;Qo(l,function(n){n.r+=c}),Qo(l,oe),Qo(l,function(n){n.r-=c})}return function n(t,r,u,i){var o=t.children;t.x=r+=i*t.x;t.y=u+=i*t.y;t.r*=i;if(o)for(var e=-1,l=o.length;++e<l;)n(o[e],r,u,i)}(l,f/2,a/2,n?1:1/Math.max(2*l.r/f,2*l.r/a)),e}return i.size=function(n){return arguments.length?(u=n,i):u},i.radius=function(t){return arguments.length?(n=null==t||"function"==typeof t?t:+t,i):n},i.padding=function(n){return arguments.length?(r=+n,i):r},Wo(i,t)},o.layout.tree=function(){var n=o.layout.hierarchy().sort(null).value(null),t=ae,r=[1,1],u=null;function i(i,o){var a=n.call(this,i,o),h=a[0],c=function(n){var t,r={A:null,children:[n]},u=[r];for(;null!=(t=u.pop());)for(var i,o=t.children,e=0,l=o.length;e<l;++e)u.push((o[e]=i={_:o[e],parent:t,children:(i=o[e].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:e}).a=i);return r.children[0]}(h);if(Qo(c,e),c.parent.m=-c.z,Jo(c,l),u)Jo(h,f);else{var v=h,M=h,d=h;Jo(h,function(n){n.x<v.x&&(v=n),n.x>M.x&&(M=n),n.depth>d.depth&&(d=n)});var y=t(v,M)/2-v.x,m=r[0]/(M.x+t(M,v)/2+y),N=r[1]/(d.depth||1);Jo(h,function(n){n.x=(n.x+y)*m,n.y=n.depth*N})}return a}function e(n){var r=n.children,u=n.parent.children,i=n.i?u[n.i-1]:null;if(r.length){!function(n){var t,r=0,u=0,i=n.children,o=i.length;for(;--o>=0;)(t=i[o]).z+=r,t.m+=r,r+=t.s+(u+=t.c)}(n);var o=(r[0].z+r[r.length-1].z)/2;i?(n.z=i.z+t(n._,i._),n.m=n.z-o):n.z=o}else i&&(n.z=i.z+t(n._,i._));n.parent.A=function(n,r,u){if(r){for(var i,o=n,e=n,l=r,f=o.parent.children[0],a=o.m,h=e.m,c=l.m,v=f.m;l=ce(l),o=he(o),l&&o;)f=he(f),(e=ce(e)).a=n,(i=l.z+c-o.z-a+t(l._,o._))>0&&(ve(Me(l,n,u),n,i),a+=i,h+=i),c+=l.m,a+=o.m,v+=f.m,h+=e.m;l&&!ce(e)&&(e.t=l,e.m+=c-h),o&&!he(f)&&(f.t=o,f.m+=a-v,u=n)}return u}(n,i,n.parent.A||u[0])}function l(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}function f(n){n.x*=r[0],n.y=n.depth*r[1]}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(n){return arguments.length?(u=null==(r=n)?f:null,i):u?null:r},i.nodeSize=function(n){return arguments.length?(u=null==(r=n)?null:f,i):u?r:null},Wo(i,n)},o.layout.cluster=function(){var n=o.layout.hierarchy().sort(null).value(null),t=ae,r=[1,1],u=!1;function i(i,e){var l,f=n.call(this,i,e),a=f[0],h=0;Qo(a,function(n){var r=n.children;r&&r.length?(n.x=function(n){return n.reduce(function(n,t){return n+t.x},0)/n.length}(r),n.y=function(n){return 1+o.max(n,function(n){return n.y})}(r)):(n.x=l?h+=t(n,l):0,n.y=0,l=n)});var c=function n(t){var r=t.children;return r&&r.length?n(r[0]):t}(a),v=function n(t){var r,u=t.children;return u&&(r=u.length)?n(u[r-1]):t}(a),M=c.x-t(c,v)/2,d=v.x+t(v,c)/2;return Qo(a,u?function(n){n.x=(n.x-a.x)*r[0],n.y=(a.y-n.y)*r[1]}:function(n){n.x=(n.x-M)/(d-M)*r[0],n.y=(1-(a.y?n.y/a.y:1))*r[1]}),f}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(n){return arguments.length?(u=null==(r=n),i):u?null:r},i.nodeSize=function(n){return arguments.length?(u=null!=(r=n),i):u?r:null},Wo(i,n)},o.layout.treemap=function(){var n,t=o.layout.hierarchy(),r=Math.round,u=[1,1],i=null,e=de,l=!1,f="squarify",a=.5*(1+Math.sqrt(5));function h(n,t){for(var r,u,i=-1,o=n.length;++i<o;)u=(r=n[i]).value*(t<0?0:t),r.area=isNaN(u)||u<=0?0:u}function c(n){var t=n.children;if(t&&t.length){var r,u,i,o=e(n),l=[],a=t.slice(),v=1/0,y="slice"===f?o.dx:"dice"===f?o.dy:"slice-dice"===f?1&n.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(h(a,o.dx*o.dy/n.value),l.area=0;(i=a.length)>0;)l.push(r=a[i-1]),l.area+=r.area,"squarify"!==f||(u=M(l,y))<=v?(a.pop(),v=u):(l.area-=l.pop().area,d(l,y,o,!1),y=Math.min(o.dx,o.dy),l.length=l.area=0,v=1/0);l.length&&(d(l,y,o,!0),l.length=l.area=0),t.forEach(c)}}function v(n){var t=n.children;if(t&&t.length){var r,u=e(n),i=t.slice(),o=[];for(h(i,u.dx*u.dy/n.value),o.area=0;r=i.pop();)o.push(r),o.area+=r.area,null!=r.z&&(d(o,r.z?u.dx:u.dy,u,!i.length),o.length=o.area=0);t.forEach(v)}}function M(n,t){for(var r,u=n.area,i=0,o=1/0,e=-1,l=n.length;++e<l;)(r=n[e].area)&&(r<o&&(o=r),r>i&&(i=r));return t*=t,(u*=u)?Math.max(t*i*a/u,u/(t*o*a)):1/0}function d(n,t,u,i){var o,e=-1,l=n.length,f=u.x,a=u.y,h=t?r(n.area/t):0;if(t==u.dx){for((i||h>u.dy)&&(h=u.dy);++e<l;)(o=n[e]).x=f,o.y=a,o.dy=h,f+=o.dx=Math.min(u.x+u.dx-f,h?r(o.area/h):0);o.z=!0,o.dx+=u.x+u.dx-f,u.y+=h,u.dy-=h}else{for((i||h>u.dx)&&(h=u.dx);++e<l;)(o=n[e]).x=f,o.y=a,o.dx=h,a+=o.dy=Math.min(u.y+u.dy-a,h?r(o.area/h):0);o.z=!1,o.dy+=u.y+u.dy-a,u.x+=h,u.dx-=h}}function y(r){var i=n||t(r),o=i[0];return o.x=o.y=0,o.value?(o.dx=u[0],o.dy=u[1]):o.dx=o.dy=0,n&&t.revalue(o),h([o],o.dx*o.dy/o.value),(n?v:c)(o),l&&(n=i),i}return y.size=function(n){return arguments.length?(u=n,y):u},y.padding=function(n){if(!arguments.length)return i;function t(t){return ye(t,n)}var r;return e=null==(i=n)?de:"function"==(r=typeof n)?function(t){var r=n.call(y,t,t.depth);return null==r?de(t):ye(t,"number"==typeof r?[r,r,r,r]:r)}:"number"===r?(n=[n,n,n,n],t):t,y},y.round=function(n){return arguments.length?(r=n?Math.round:Number,y):r!=Number},y.sticky=function(t){return arguments.length?(l=t,n=null,y):l},y.ratio=function(n){return arguments.length?(a=n,y):a},y.mode=function(n){return arguments.length?(f=n+"",y):f},Wo(y,t)},o.random={normal:function(n,t){var r=arguments.length;return r<2&&(t=1),r<1&&(n=0),function(){var r,u,i;do{i=(r=2*Math.random()-1)*r+(u=2*Math.random()-1)*u}while(!i||i>1);return n+t*r*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var n=o.random.normal.apply(o,arguments);return function(){return Math.exp(n())}},bates:function(n){var t=o.random.irwinHall(n);return function(){return t()/n}},irwinHall:function(n){return function(){for(var t=0,r=0;r<n;r++)t+=Math.random();return t}}},o.scale={};var qe={floor:J,ceil:J};function Re(n,t,r,u){var i=[],e=[],l=0,f=Math.min(n.length,t.length)-1;for(n[f]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++l<=f;)i.push(r(n[l-1],n[l])),e.push(u(t[l-1],t[l]));return function(t){var r=o.bisect(n,t,1,f)-1;return e[r](i[r](t))}}function Ue(n,t){return o.rebind(n,t,"range","rangeRound","interpolate","clamp")}function xe(n,t){return ke(n,ze(be(n,t)[2])),ke(n,ze(be(n,t)[2])),n}function be(n,t){null==t&&(t=10);var r=me(n),u=r[1]-r[0],i=Math.pow(10,Math.floor(Math.log(u/t)/Math.LN10)),o=t/u*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),r[0]=Math.ceil(r[0]/i)*i,r[1]=Math.floor(r[1]/i)*i+.5*i,r[2]=i,r}function Ce(n,t){return o.range.apply(o,be(n,t))}function Oe(n,t,r){var u=be(n,t);if(r){var i=Qt.exec(r);if(i.shift(),"s"===i[8]){var e=o.formatPrefix(Math.max(R(u[0]),R(u[1])));return i[7]||(i[7]="."+Ye(e.scale(u[2]))),i[8]="f",r=o.format(i.join("")),function(n){return r(e.scale(n))+e.symbol}}i[7]||(i[7]="."+function(n,t){var r=Ye(t[2]);return n in He?Math.abs(r-Ye(Math.max(R(t[0]),R(t[1]))))+ +("e"!==n):r-2*("%"===n)}(i[8],u)),r=i.join("")}else r=",."+Ye(u[2])+"f";return o.format(r)}o.scale.linear=function(){return function n(t,r,u,i){var o,e;function l(){var n=Math.min(t.length,r.length)>2?Re:Se,l=i?xo:Uo;return o=n(t,r,l,u),e=n(r,t,l,to),f}function f(n){return o(n)}f.invert=function(n){return e(n)};f.domain=function(n){return arguments.length?(t=n.map(Number),l()):t};f.range=function(n){return arguments.length?(r=n,l()):r};f.rangeRound=function(n){return f.range(n).interpolate(mo)};f.clamp=function(n){return arguments.length?(i=n,l()):i};f.interpolate=function(n){return arguments.length?(u=n,l()):u};f.ticks=function(n){return Ce(t,n)};f.tickFormat=function(n,r){return Oe(t,n,r)};f.nice=function(n){return xe(t,n),l()};f.copy=function(){return n(t,r,u,i)};return l()}([0,1],[0,1],to,!1)};var He={s:1,g:1,p:1,r:1,e:1};function Ye(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}o.scale.log=function(){return function n(t,r,u,i){function e(n){return(u?Math.log(n<0?0:n):-Math.log(n>0?0:-n))/Math.log(r)}function l(n){return u?Math.pow(r,n):-Math.pow(r,-n)}function f(n){return t(e(n))}f.invert=function(n){return l(t.invert(n))};f.domain=function(n){return arguments.length?(u=n[0]>=0,t.domain((i=n.map(Number)).map(e)),f):i};f.base=function(n){return arguments.length?(r=+n,t.domain(i.map(e)),f):r};f.nice=function(){var n=ke(i.map(e),u?Math:Ze);return t.domain(n),i=n.map(l),f};f.ticks=function(){var n=me(i),t=[],o=n[0],f=n[1],a=Math.floor(e(o)),h=Math.ceil(e(f)),c=r%1?2:r;if(isFinite(h-a)){if(u){for(;a<h;a++)for(var v=1;v<c;v++)t.push(l(a)*v);t.push(l(a))}else for(t.push(l(a));a++<h;)for(var v=c-1;v>0;v--)t.push(l(a)*v);for(a=0;t[a]<o;a++);for(h=t.length;t[h-1]>f;h--);t=t.slice(a,h)}return t};f.tickFormat=function(n,t){if(!arguments.length)return Te;arguments.length<2?t=Te:"function"!=typeof t&&(t=o.format(t));var u=Math.max(1,r*n/f.ticks().length);return function(n){var i=n/l(Math.round(e(n)));return i*r<r-.5&&(i*=r),i<=u?t(n):""}};f.copy=function(){return n(t.copy(),r,u,i)};return Ue(f,t)}(o.scale.linear().domain([0,1]),10,!0,[1,10])};var Te=o.format(".0e"),Ze={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};function je(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}o.scale.pow=function(){return function n(t,r,u){var i=je(r),o=je(1/r);function e(n){return t(i(n))}e.invert=function(n){return o(t.invert(n))};e.domain=function(n){return arguments.length?(t.domain((u=n.map(Number)).map(i)),e):u};e.ticks=function(n){return Ce(u,n)};e.tickFormat=function(n,t){return Oe(u,n,t)};e.nice=function(n){return e.domain(xe(u,n))};e.exponent=function(n){return arguments.length?(i=je(r=n),o=je(1/r),t.domain(u.map(i)),e):r};e.copy=function(){return n(t.copy(),r,u)};return Ue(e,t)}(o.scale.linear(),1,[0,1])},o.scale.sqrt=function(){return o.scale.pow().exponent(.5)},o.scale.ordinal=function(){return function n(t,r){var u,i,e;function l(n){return i[((u.get(n)||("range"===r.t?u.set(n,t.push(n)):NaN))-1)%i.length]}function f(n,r){return o.range(t.length).map(function(t){return n+r*t})}l.domain=function(n){if(!arguments.length)return t;t=[],u=new x;for(var i,o=-1,e=n.length;++o<e;)u.has(i=n[o])||u.set(i,t.push(i));return l[r.t].apply(l,r.a)};l.range=function(n){return arguments.length?(i=n,e=0,r={t:"range",a:arguments},l):i};l.rangePoints=function(n,u){arguments.length<2&&(u=0);var o=n[0],a=n[1],h=t.length<2?(o=(o+a)/2,0):(a-o)/(t.length-1+u);return i=f(o+h*u/2,h),e=0,r={t:"rangePoints",a:arguments},l};l.rangeRoundPoints=function(n,u){arguments.length<2&&(u=0);var o=n[0],a=n[1],h=t.length<2?(o=a=Math.round((o+a)/2),0):(a-o)/(t.length-1+u)|0;return i=f(o+Math.round(h*u/2+(a-o-(t.length-1+u)*h)/2),h),e=0,r={t:"rangeRoundPoints",a:arguments},l};l.rangeBands=function(n,u,o){arguments.length<2&&(u=0),arguments.length<3&&(o=u);var a=n[1]<n[0],h=n[a-0],c=n[1-a],v=(c-h)/(t.length-u+2*o);return i=f(h+v*o,v),a&&i.reverse(),e=v*(1-u),r={t:"rangeBands",a:arguments},l};l.rangeRoundBands=function(n,u,o){arguments.length<2&&(u=0),arguments.length<3&&(o=u);var a=n[1]<n[0],h=n[a-0],c=n[1-a],v=Math.floor((c-h)/(t.length-u+2*o));return i=f(h+Math.round((c-h-(t.length-u)*v)/2),v),a&&i.reverse(),e=Math.round(v*(1-u)),r={t:"rangeRoundBands",a:arguments},l};l.rangeBand=function(){return e};l.rangeExtent=function(){return me(r.a[0])};l.copy=function(){return n(t,r)};return l.domain(t)}([],{t:"range",a:[[]]})},o.scale.category10=function(){return o.scale.ordinal().range(Xe)},o.scale.category20=function(){return o.scale.ordinal().range(We)},o.scale.category20b=function(){return o.scale.ordinal().range(Je)},o.scale.category20c=function(){return o.scale.ordinal().range(Qe)};var Xe=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(vt),We=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(vt),Je=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(vt),Qe=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(vt);function Ve(){return 0}o.scale.quantile=function(){return function n(t,r){var u;function i(){var n=0,i=r.length;for(u=[];++n<i;)u[n-1]=o.quantile(t,n/i);return e}function e(n){if(!isNaN(n=+n))return r[o.bisect(u,n)]}e.domain=function(n){return arguments.length?(t=n.map(N).filter(S).sort(m),i()):t};e.range=function(n){return arguments.length?(r=n,i()):r};e.quantiles=function(){return u};e.invertExtent=function(n){return(n=r.indexOf(n))<0?[NaN,NaN]:[n>0?u[n-1]:t[0],n<u.length?u[n]:t[t.length-1]]};e.copy=function(){return n(t,r)};return i()}([],[])},o.scale.quantize=function(){return function n(t,r,u){var i,o;function e(n){return u[Math.max(0,Math.min(o,Math.floor(i*(n-t))))]}function l(){return i=u.length/(r-t),o=u.length-1,e}e.domain=function(n){return arguments.length?(t=+n[0],r=+n[n.length-1],l()):[t,r]};e.range=function(n){return arguments.length?(u=n,l()):u};e.invertExtent=function(n){return[n=(n=u.indexOf(n))<0?NaN:n/i+t,n+1/i]};e.copy=function(){return n(t,r,u)};return l()}(0,1,[0,1])},o.scale.threshold=function(){return function n(t,r){function u(n){if(n<=n)return r[o.bisect(t,n)]}u.domain=function(n){return arguments.length?(t=n,u):t};u.range=function(n){return arguments.length?(r=n,u):r};u.invertExtent=function(n){return n=r.indexOf(n),[t[n-1],t[n]]};u.copy=function(){return n(t,r)};return u}([.5],[0,1])},o.scale.identity=function(){return function n(t){function r(n){return+n}r.invert=r;r.domain=r.range=function(n){return arguments.length?(t=n.map(r),r):t};r.ticks=function(n){return Ce(t,n)};r.tickFormat=function(n,r){return Oe(t,n,r)};r.copy=function(){return n(t)};return r}([0,1])},o.svg={},o.svg.arc=function(){var n=Be,t=Ke,r=Ve,u=Ge,i=we,o=Pe,e=_e;function l(){var l=Math.max(0,+n.apply(this,arguments)),a=Math.max(0,+t.apply(this,arguments)),h=i.apply(this,arguments)-Xn,c=o.apply(this,arguments)-Xn,v=Math.abs(c-h),M=h>c?0:1;if(a<l&&(d=a,a=l,l=d),v>=jn)return f(a,M)+(l?f(l,1-M):"")+"Z";var d,y,m,N,S,k,z,q,R,U,x,b,C=0,O=0,H=[];if((N=(+e.apply(this,arguments)||0)/2)&&(m=u===Ge?Math.sqrt(l*l+a*a):+u.apply(this,arguments),M||(O*=-1),a&&(O=Bn(m/a*Math.sin(N))),l&&(C=Bn(m/l*Math.sin(N)))),a){S=a*Math.cos(h+O),k=a*Math.sin(h+O),z=a*Math.cos(c-O),q=a*Math.sin(c-O);var Y=Math.abs(c-h-2*O)<=Tn?0:1;if(O&&ge(S,k,z,q)===M^Y){var T=(h+c)/2;S=a*Math.cos(T),k=a*Math.sin(T),z=q=null}}else S=k=0;if(l){R=l*Math.cos(c-C),U=l*Math.sin(c-C),x=l*Math.cos(h+C),b=l*Math.sin(h+C);var Z=Math.abs(h-c+2*C)<=Tn?0:1;if(C&&ge(R,U,x,b)===1-M^Z){var j=(h+c)/2;R=l*Math.cos(j),U=l*Math.sin(j),x=b=null}}else R=U=0;if(v>Hn&&(d=Math.min(Math.abs(a-l)/2,+r.apply(this,arguments)))>.001){y=l<a^M?0:1;var X=d,W=d;if(v<Tn){var J=null==x?[R,U]:null==z?[S,k]:Mi([S,k],[x,b],[z,q],[R,U]),Q=S-J[0],V=k-J[1],G=z-J[0],B=q-J[1],K=1/Math.sin(Math.acos((Q*G+V*B)/(Math.sqrt(Q*Q+V*V)*Math.sqrt(G*G+B*B)))/2),w=Math.sqrt(J[0]*J[0]+J[1]*J[1]);W=Math.min(d,(l-w)/(K-1)),X=Math.min(d,(a-w)/(K+1))}if(null!=z){var P=Ee(null==x?[R,U]:[x,b],[S,k],a,X,M),_=Ee([z,q],[R,U],a,X,M);d===X?H.push("M",P[0],"A",X,",",X," 0 0,",y," ",P[1],"A",a,",",a," 0 ",1-M^ge(P[1][0],P[1][1],_[1][0],_[1][1]),",",M," ",_[1],"A",X,",",X," 0 0,",y," ",_[0]):H.push("M",P[0],"A",X,",",X," 0 1,",y," ",_[0])}else H.push("M",S,",",k);if(null!=x){var g=Ee([S,k],[x,b],l,-W,M),E=Ee([R,U],null==z?[S,k]:[z,q],l,-W,M);d===W?H.push("L",E[0],"A",W,",",W," 0 0,",y," ",E[1],"A",l,",",l," 0 ",M^ge(E[1][0],E[1][1],g[1][0],g[1][1]),",",1-M," ",g[1],"A",W,",",W," 0 0,",y," ",g[0]):H.push("L",E[0],"A",W,",",W," 0 0,",y," ",g[0])}else H.push("L",R,",",U)}else H.push("M",S,",",k),null!=z&&H.push("A",a,",",a," 0 ",Y,",",M," ",z,",",q),H.push("L",R,",",U),null!=x&&H.push("A",l,",",l," 0 ",Z,",",1-M," ",x,",",b);return H.push("Z"),H.join("")}function f(n,t){return"M0,"+n+"A"+n+","+n+" 0 1,"+t+" 0,"+-n+"A"+n+","+n+" 0 1,"+t+" 0,"+n}return l.innerRadius=function(t){return arguments.length?(n=qt(t),l):n},l.outerRadius=function(n){return arguments.length?(t=qt(n),l):t},l.cornerRadius=function(n){return arguments.length?(r=qt(n),l):r},l.padRadius=function(n){return arguments.length?(u=n==Ge?Ge:qt(n),l):u},l.startAngle=function(n){return arguments.length?(i=qt(n),l):i},l.endAngle=function(n){return arguments.length?(o=qt(n),l):o},l.padAngle=function(n){return arguments.length?(e=qt(n),l):e},l.centroid=function(){var r=(+n.apply(this,arguments)+ +t.apply(this,arguments))/2,u=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Xn;return[Math.cos(u)*r,Math.sin(u)*r]},l};var Ge="auto";function Be(n){return n.innerRadius}function Ke(n){return n.outerRadius}function we(n){return n.startAngle}function Pe(n){return n.endAngle}function _e(n){return n&&n.padAngle}function ge(n,t,r,u){return(n-r)*t-(t-u)*n>0?0:1}function Ee(n,t,r,u,i){var o=n[0]-t[0],e=n[1]-t[1],l=(i?u:-u)/Math.sqrt(o*o+e*e),f=l*e,a=-l*o,h=n[0]+f,c=n[1]+a,v=t[0]+f,M=t[1]+a,d=(h+v)/2,y=(c+M)/2,m=v-h,N=M-c,S=m*m+N*N,k=r-u,z=h*M-v*c,q=(N<0?-1:1)*Math.sqrt(Math.max(0,k*k*S-z*z)),R=(z*N-m*q)/S,U=(-z*m-N*q)/S,x=(z*N+m*q)/S,b=(-z*m+N*q)/S,C=R-d,O=U-y,H=x-d,Y=b-y;return C*C+O*O>H*H+Y*Y&&(R=x,U=b),[[R-f,U-a],[R*r/k,U*r/k]]}function Ae(n){var t=li,r=fi,u=$r,i=De,o=i.key,e=.7;function l(o){var l,f=[],a=[],h=-1,c=o.length,v=qt(t),M=qt(r);function d(){f.push("M",i(n(a),e))}for(;++h<c;)u.call(this,l=o[h],h)?a.push([+v.call(this,l,h),+M.call(this,l,h)]):a.length&&(d(),a=[]);return a.length&&d(),f.length?f.join(""):null}return l.x=function(n){return arguments.length?(t=n,l):t},l.y=function(n){return arguments.length?(r=n,l):r},l.defined=function(n){return arguments.length?(u=n,l):u},l.interpolate=function(n){return arguments.length?(o="function"==typeof n?i=n:(i=Le.get(n)||De).key,l):o},l.tension=function(n){return arguments.length?(e=n,l):e},l}o.svg.line=function(){return Ae(J)};var Le=o.map({linear:De,"linear-closed":Fe,step:function(n){var t=0,r=n.length,u=n[0],i=[u[0],",",u[1]];for(;++t<r;)i.push("H",(u[0]+(u=n[t])[0])/2,"V",u[1]);r>1&&i.push("H",u[0]);return i.join("")},"step-before":Ie,"step-after":pe,basis:nl,"basis-open":function(n){if(n.length<4)return De(n);var t,r=[],u=-1,i=n.length,o=[0],e=[0];for(;++u<3;)t=n[u],o.push(t[0]),e.push(t[1]);r.push(tl(il,o)+","+tl(il,e)),--u;for(;++u<i;)t=n[u],o.shift(),o.push(t[0]),e.shift(),e.push(t[1]),ol(r,o,e);return r.join("")},"basis-closed":function(n){var t,r,u=-1,i=n.length,o=i+4,e=[],l=[];for(;++u<4;)r=n[u%i],e.push(r[0]),l.push(r[1]);t=[tl(il,e),",",tl(il,l)],--u;for(;++u<o;)r=n[u%i],e.shift(),e.push(r[0]),l.shift(),l.push(r[1]),ol(t,e,l);return t.join("")},bundle:function(n,t){var r=n.length-1;if(r)for(var u,i,o=n[0][0],e=n[0][1],l=n[r][0]-o,f=n[r][1]-e,a=-1;++a<=r;)u=n[a],i=a/r,u[0]=t*u[0]+(1-t)*(o+i*l),u[1]=t*u[1]+(1-t)*(e+i*f);return nl(n)},cardinal:function(n,t){return n.length<3?De(n):n[0]+se(n,$e(n,t))},"cardinal-open":function(n,t){return n.length<4?De(n):n[1]+se(n.slice(1,-1),$e(n,t))},"cardinal-closed":function(n,t){return n.length<3?Fe(n):n[0]+se((n.push(n[0]),n),$e([n[n.length-2]].concat(n,[n[1]]),t))},monotone:function(n){return n.length<3?De(n):n[0]+se(n,function(n){var t,r,u,i,o=[],e=function(n){var t=0,r=n.length-1,u=[],i=n[0],o=n[1],e=u[0]=el(i,o);for(;++t<r;)u[t]=(e+(e=el(i=o,o=n[t+1])))/2;return u[t]=e,u}(n),l=-1,f=n.length-1;for(;++l<f;)t=el(n[l],n[l+1]),R(t)<Hn?e[l]=e[l+1]=0:(r=e[l]/t,u=e[l+1]/t,(i=r*r+u*u)>9&&(i=3*t/Math.sqrt(i),e[l]=i*r,e[l+1]=i*u));l=-1;for(;++l<=f;)i=(n[Math.min(f,l+1)][0]-n[Math.max(0,l-1)][0])/(6*(1+e[l]*e[l])),o.push([i||0,e[l]*i||0]);return o}(n))}});function De(n){return n.length>1?n.join("L"):n+"Z"}function Fe(n){return n.join("L")+"Z"}function Ie(n){for(var t=0,r=n.length,u=n[0],i=[u[0],",",u[1]];++t<r;)i.push("V",(u=n[t])[1],"H",u[0]);return i.join("")}function pe(n){for(var t=0,r=n.length,u=n[0],i=[u[0],",",u[1]];++t<r;)i.push("H",(u=n[t])[0],"V",u[1]);return i.join("")}function se(n,t){if(t.length<1||n.length!=t.length&&n.length!=t.length+2)return De(n);var r=n.length!=t.length,u="",i=n[0],o=n[1],e=t[0],l=e,f=1;if(r&&(u+="Q"+(o[0]-2*e[0]/3)+","+(o[1]-2*e[1]/3)+","+o[0]+","+o[1],i=n[1],f=2),t.length>1){l=t[1],o=n[f],f++,u+="C"+(i[0]+e[0])+","+(i[1]+e[1])+","+(o[0]-l[0])+","+(o[1]-l[1])+","+o[0]+","+o[1];for(var a=2;a<t.length;a++,f++)o=n[f],l=t[a],u+="S"+(o[0]-l[0])+","+(o[1]-l[1])+","+o[0]+","+o[1]}if(r){var h=n[f];u+="Q"+(o[0]+2*l[0]/3)+","+(o[1]+2*l[1]/3)+","+h[0]+","+h[1]}return u}function $e(n,t){for(var r,u=[],i=(1-t)/2,o=n[0],e=n[1],l=1,f=n.length;++l<f;)r=o,o=e,e=n[l],u.push([i*(e[0]-r[0]),i*(e[1]-r[1])]);return u}function nl(n){if(n.length<3)return De(n);var t=1,r=n.length,u=n[0],i=u[0],o=u[1],e=[i,i,i,(u=n[1])[0]],l=[o,o,o,u[1]],f=[i,",",o,"L",tl(il,e),",",tl(il,l)];for(n.push(n[r-1]);++t<=r;)u=n[t],e.shift(),e.push(u[0]),l.shift(),l.push(u[1]),ol(f,e,l);return n.pop(),f.push("L",u),f.join("")}function tl(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}Le.forEach(function(n,t){t.key=n,t.closed=/-closed$/.test(n)});var rl=[0,2/3,1/3,0],ul=[0,1/3,2/3,0],il=[0,1/6,2/3,1/6];function ol(n,t,r){n.push("C",tl(rl,t),",",tl(rl,r),",",tl(ul,t),",",tl(ul,r),",",tl(il,t),",",tl(il,r))}function el(n,t){return(t[1]-n[1])/(t[0]-n[0])}function ll(n){for(var t,r,u,i=-1,o=n.length;++i<o;)r=(t=n[i])[0],u=t[1]-Xn,t[0]=r*Math.cos(u),t[1]=r*Math.sin(u);return n}function fl(n){var t=li,r=li,u=0,i=fi,o=$r,e=De,l=e.key,f=e,a="L",h=.7;function c(l){var c,v,M,d=[],y=[],m=[],N=-1,S=l.length,k=qt(t),z=qt(u),q=t===r?function(){return v}:qt(r),R=u===i?function(){return M}:qt(i);function U(){d.push("M",e(n(m),h),a,f(n(y.reverse()),h),"Z")}for(;++N<S;)o.call(this,c=l[N],N)?(y.push([v=+k.call(this,c,N),M=+z.call(this,c,N)]),m.push([+q.call(this,c,N),+R.call(this,c,N)])):y.length&&(U(),y=[],m=[]);return y.length&&U(),d.length?d.join(""):null}return c.x=function(n){return arguments.length?(t=r=n,c):r},c.x0=function(n){return arguments.length?(t=n,c):t},c.x1=function(n){return arguments.length?(r=n,c):r},c.y=function(n){return arguments.length?(u=i=n,c):i},c.y0=function(n){return arguments.length?(u=n,c):u},c.y1=function(n){return arguments.length?(i=n,c):i},c.defined=function(n){return arguments.length?(o=n,c):o},c.interpolate=function(n){return arguments.length?(l="function"==typeof n?e=n:(e=Le.get(n)||De).key,f=e.reverse||e,a=e.closed?"M":"L",c):l},c.tension=function(n){return arguments.length?(h=n,c):h},c}function al(n){return n.radius}function hl(n){return[n.x,n.y]}function cl(){return 64}function vl(){return"circle"}function Ml(n){var t=Math.sqrt(n/Tn);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}o.svg.line.radial=function(){var n=Ae(ll);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n},Ie.reverse=pe,pe.reverse=Ie,o.svg.area=function(){return fl(J)},o.svg.area.radial=function(){var n=fl(ll);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n},o.svg.chord=function(){var n=Lu,t=Du,r=al,u=we,i=Pe;function o(r,u){var i,o,a=e(this,n,r,u),h=e(this,t,r,u);return"M"+a.p0+l(a.r,a.p1,a.a1-a.a0)+(o=h,(i=a).a0==o.a0&&i.a1==o.a1?f(a.r,a.p1,a.r,a.p0):f(a.r,a.p1,h.r,h.p0)+l(h.r,h.p1,h.a1-h.a0)+f(h.r,h.p1,a.r,a.p0))+"Z"}function e(n,t,o,e){var l=t.call(n,o,e),f=r.call(n,l,e),a=u.call(n,l,e)-Xn,h=i.call(n,l,e)-Xn;return{r:f,a0:a,a1:h,p0:[f*Math.cos(a),f*Math.sin(a)],p1:[f*Math.cos(h),f*Math.sin(h)]}}function l(n,t,r){return"A"+n+","+n+" 0 "+ +(r>Tn)+",1 "+t}function f(n,t,r,u){return"Q 0,0 "+u}return o.radius=function(n){return arguments.length?(r=qt(n),o):r},o.source=function(t){return arguments.length?(n=qt(t),o):n},o.target=function(n){return arguments.length?(t=qt(n),o):t},o.startAngle=function(n){return arguments.length?(u=qt(n),o):u},o.endAngle=function(n){return arguments.length?(i=qt(n),o):i},o},o.svg.diagonal=function(){var n=Lu,t=Du,r=hl;function u(u,i){var o=n.call(this,u,i),e=t.call(this,u,i),l=(o.y+e.y)/2,f=[o,{x:o.x,y:l},{x:e.x,y:l},e];return"M"+(f=f.map(r))[0]+"C"+f[1]+" "+f[2]+" "+f[3]}return u.source=function(t){return arguments.length?(n=qt(t),u):n},u.target=function(n){return arguments.length?(t=qt(n),u):t},u.projection=function(n){return arguments.length?(r=n,u):r},u},o.svg.diagonal.radial=function(){var n=o.svg.diagonal(),t=hl,r=n.projection;return n.projection=function(n){return arguments.length?r(function(n){return function(){var t=n.apply(this,arguments),r=t[0],u=t[1]-Xn;return[r*Math.cos(u),r*Math.sin(u)]}}(t=n)):t},n},o.svg.symbol=function(){var n=vl,t=cl;function r(r,u){return(dl.get(n.call(this,r,u))||Ml)(t.call(this,r,u))}return r.type=function(t){return arguments.length?(n=qt(t),r):n},r.size=function(n){return arguments.length?(t=qt(n),r):t},r};var dl=o.map({circle:Ml,cross:function(n){var t=Math.sqrt(n/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(n){var t=Math.sqrt(n/(2*ml)),r=t*ml;return"M0,"+-t+"L"+r+",0 0,"+t+" "+-r+",0Z"},square:function(n){var t=Math.sqrt(n)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(n){var t=Math.sqrt(n/yl),r=t*yl/2;return"M0,"+r+"L"+t+","+-r+" "+-t+","+-r+"Z"},"triangle-up":function(n){var t=Math.sqrt(n/yl),r=t*yl/2;return"M0,"+-r+"L"+t+","+r+" "+-t+","+r+"Z"}});o.svg.symbolTypes=dl.keys();var yl=Math.sqrt(3),ml=Math.tan(30*Wn);p.transition=function(n){for(var t,r,u=zl||++Ul,i=Cl(n),o=[],e=ql||{time:Date.now(),ease:ho,delay:0,duration:250},l=-1,f=this.length;++l<f;){o.push(t=[]);for(var a=this[l],h=-1,c=a.length;++h<c;)(r=a[h])&&Ol(r,h,i,u,e),t.push(r)}return kl(o,i,u)},p.interrupt=function(n){return this.each(null==n?Nl:Sl(Cl(n)))};var Nl=Sl(Cl());function Sl(n){return function(){var t,r,u;(t=this[n])&&(u=t[r=t.active])&&(u.timer.c=null,u.timer.t=NaN,--t.count?delete t[r]:delete this[n],t.active+=.5,u.event&&u.event.interrupt.call(this,this.__data__,u.index))}}function kl(n,t,r){return A(n,Rl),n.namespace=t,n.id=r,n}var zl,ql,Rl=[],Ul=0;function xl(n,t,r,u){var i=n.id,o=n.namespace;return yn(n,"function"==typeof r?function(n,e,l){n[o][i].tween.set(t,u(r.call(n,n.__data__,e,l)))}:(r=u(r),function(n){n[o][i].tween.set(t,r)}))}function bl(n){return null==n&&(n=""),function(){this.textContent=n}}function Cl(n){return null==n?"__transition__":"__transition_"+n+"__"}function Ol(n,t,r,u,i){var o,e,l,f,a,h=n[r]||(n[r]={active:0,count:0}),c=h[u];function v(r){var i=h.active,v=h[i];for(var d in v&&(v.timer.c=null,v.timer.t=NaN,--h.count,delete h[i],v.event&&v.event.interrupt.call(n,n.__data__,v.index)),h)if(+d<u){var y=h[d];y.timer.c=null,y.timer.t=NaN,--h.count,delete h[d]}e.c=M,Yt(function(){return e.c&&M(r||1)&&(e.c=null,e.t=NaN),1},0,o),h.active=u,c.event&&c.event.start.call(n,n.__data__,t),a=[],c.tween.forEach(function(r,u){(u=u.call(n,n.__data__,t))&&a.push(u)}),f=c.ease,l=c.duration}function M(i){for(var o=i/l,e=f(o),v=a.length;v>0;)a[--v].call(n,e);if(o>=1)return c.event&&c.event.end.call(n,n.__data__,t),--h.count?delete h[u]:delete n[r],1}c||(o=i.time,e=Yt(function(n){var t=c.delay;if(e.t=t+o,t<=n)return v(n-t);e.c=v},0,o),c=h[u]={tween:new x,time:o,timer:e,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++h.count)}Rl.call=p.call,Rl.empty=p.empty,Rl.node=p.node,Rl.size=p.size,o.transition=function(n,t){return n&&n.transition?zl?n.transition(t):n:o.selection().transition(n)},o.transition.prototype=Rl,Rl.select=function(n){var t,r,u,i=this.id,o=this.namespace,e=[];n=s(n);for(var l=-1,f=this.length;++l<f;){e.push(t=[]);for(var a=this[l],h=-1,c=a.length;++h<c;)(u=a[h])&&(r=n.call(u,u.__data__,h,l))?("__data__"in u&&(r.__data__=u.__data__),Ol(r,h,o,i,u[o][i]),t.push(r)):t.push(null)}return kl(e,o,i)},Rl.selectAll=function(n){var t,r,u,i,o,e=this.id,l=this.namespace,f=[];n=$(n);for(var a=-1,h=this.length;++a<h;)for(var c=this[a],v=-1,M=c.length;++v<M;)if(u=c[v]){o=u[l][e],r=n.call(u,u.__data__,v,a),f.push(t=[]);for(var d=-1,y=r.length;++d<y;)(i=r[d])&&Ol(i,d,l,e,o),t.push(i)}return kl(f,l,e)},Rl.filter=function(n){var t,r,u=[];"function"!=typeof n&&(n=dn(n));for(var i=0,o=this.length;i<o;i++){u.push(t=[]);for(var e,l=0,f=(e=this[i]).length;l<f;l++)(r=e[l])&&n.call(r,r.__data__,l,i)&&t.push(r)}return kl(u,this.namespace,this.id)},Rl.tween=function(n,t){var r=this.id,u=this.namespace;return arguments.length<2?this.node()[u][r].tween.get(n):yn(this,null==t?function(t){t[u][r].tween.remove(n)}:function(i){i[u][r].tween.set(n,t)})},Rl.attr=function(n,t){if(arguments.length<2){for(t in n)this.attr(t,n[t]);return this}var r="transform"==n?Ro:to,u=o.ns.qualify(n);function i(){this.removeAttribute(u)}function e(){this.removeAttributeNS(u.space,u.local)}return xl(this,"attr."+n,t,u.local?function(n){return null==n?e:(n+="",function(){var t,i=this.getAttributeNS(u.space,u.local);return i!==n&&(t=r(i,n),function(n){this.setAttributeNS(u.space,u.local,t(n))})})}:function(n){return null==n?i:(n+="",function(){var t,i=this.getAttribute(u);return i!==n&&(t=r(i,n),function(n){this.setAttribute(u,t(n))})})})},Rl.attrTween=function(n,t){var r=o.ns.qualify(n);return this.tween("attr."+n,r.local?function(n,u){var i=t.call(this,n,u,this.getAttributeNS(r.space,r.local));return i&&function(n){this.setAttributeNS(r.space,r.local,i(n))}}:function(n,u){var i=t.call(this,n,u,this.getAttribute(r));return i&&function(n){this.setAttribute(r,i(n))}})},Rl.style=function(n,t,r){var u=arguments.length;if(u<3){if("string"!=typeof n){for(r in u<2&&(t=""),n)this.style(r,n[r],t);return this}r=""}function i(){this.style.removeProperty(n)}return xl(this,"style."+n,t,function(t){return null==t?i:(t+="",function(){var u,i=h(this).getComputedStyle(this,null).getPropertyValue(n);return i!==t&&(u=to(i,t),function(t){this.style.setProperty(n,u(t),r)})})})},Rl.styleTween=function(n,t,r){return arguments.length<3&&(r=""),this.tween("style."+n,function(u,i){var o=t.call(this,u,i,h(this).getComputedStyle(this,null).getPropertyValue(n));return o&&function(t){this.style.setProperty(n,o(t),r)}})},Rl.text=function(n){return xl(this,"text",n,bl)},Rl.remove=function(){var n=this.namespace;return this.each("end.transition",function(){var t;this[n].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Rl.ease=function(n){var t=this.id,r=this.namespace;return arguments.length<1?this.node()[r][t].ease:("function"!=typeof n&&(n=o.ease.apply(o,arguments)),yn(this,function(u){u[r][t].ease=n}))},Rl.delay=function(n){var t=this.id,r=this.namespace;return arguments.length<1?this.node()[r][t].delay:yn(this,"function"==typeof n?function(u,i,o){u[r][t].delay=+n.call(u,u.__data__,i,o)}:(n=+n,function(u){u[r][t].delay=n}))},Rl.duration=function(n){var t=this.id,r=this.namespace;return arguments.length<1?this.node()[r][t].duration:yn(this,"function"==typeof n?function(u,i,o){u[r][t].duration=Math.max(1,n.call(u,u.__data__,i,o))}:(n=Math.max(1,n),function(u){u[r][t].duration=n}))},Rl.each=function(n,t){var r=this.id,u=this.namespace;if(arguments.length<2){var i=ql,e=zl;try{zl=r,yn(this,function(t,i,o){ql=t[u][r],n.call(t,t.__data__,i,o)})}finally{ql=i,zl=e}}else yn(this,function(i){var e=i[u][r];(e.event||(e.event=o.dispatch("start","end","interrupt"))).on(n,t)});return this},Rl.transition=function(){for(var n,t,r,u=this.id,i=++Ul,o=this.namespace,e=[],l=0,f=this.length;l<f;l++){e.push(n=[]);for(var a,h=0,c=(a=this[l]).length;h<c;h++)(t=a[h])&&Ol(t,h,o,i,{time:(r=t[o][u]).time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration}),n.push(t)}return kl(e,o,i)},o.svg.axis=function(){var n,t=o.scale.linear(),r=Hl,u=6,i=6,e=3,f=[10],a=null;function h(l){l.each(function(){var l,h=o.select(this),c=this.__chart__||t,v=this.__chart__=t.copy(),M=null==a?v.ticks?v.ticks.apply(v,f):v.domain():a,d=null==n?v.tickFormat?v.tickFormat.apply(v,f):J:n,y=h.selectAll(".tick").data(M,v),m=y.enter().insert("g",".domain").attr("class","tick").style("opacity",Hn),N=o.transition(y.exit()).style("opacity",Hn).remove(),S=o.transition(y.order()).style("opacity",1),k=Math.max(u,0)+e,z=Ne(v),q=h.selectAll(".domain").data([0]),R=(q.enter().append("path").attr("class","domain"),o.transition(q));m.append("line"),m.append("text");var U,x,b,C,O=m.select("line"),H=S.select("line"),Y=y.select("text").text(d),T=m.select("text"),Z=S.select("text"),j="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(l=Tl,U="x",b="y",x="x2",C="y2",Y.attr("dy",j<0?"0em":".71em").style("text-anchor","middle"),R.attr("d","M"+z[0]+","+j*i+"V0H"+z[1]+"V"+j*i)):(l=Zl,U="y",b="x",x="y2",C="x2",Y.attr("dy",".32em").style("text-anchor",j<0?"end":"start"),R.attr("d","M"+j*i+","+z[0]+"H0V"+z[1]+"H"+j*i)),O.attr(C,j*u),T.attr(b,j*k),H.attr(x,0).attr(C,j*u),Z.attr(U,0).attr(b,j*k),v.rangeBand){var X=v,W=X.rangeBand()/2;c=v=function(n){return X(n)+W}}else c.rangeBand?c=v:N.call(l,v,c);m.call(l,c,v),S.call(l,v,v)})}return h.scale=function(n){return arguments.length?(t=n,h):t},h.orient=function(n){return arguments.length?(r=n in Yl?n+"":Hl,h):r},h.ticks=function(){return arguments.length?(f=l(arguments),h):f},h.tickValues=function(n){return arguments.length?(a=n,h):a},h.tickFormat=function(t){return arguments.length?(n=t,h):n},h.tickSize=function(n){var t=arguments.length;return t?(u=+n,i=+arguments[t-1],h):u},h.innerTickSize=function(n){return arguments.length?(u=+n,h):u},h.outerTickSize=function(n){return arguments.length?(i=+n,h):i},h.tickPadding=function(n){return arguments.length?(e=+n,h):e},h.tickSubdivide=function(){return arguments.length&&h},h};var Hl="bottom",Yl={top:1,right:1,bottom:1,left:1};function Tl(n,t,r){n.attr("transform",function(n){var u=t(n);return"translate("+(isFinite(u)?u:r(n))+",0)"})}function Zl(n,t,r){n.attr("transform",function(n){var u=t(n);return"translate(0,"+(isFinite(u)?u:r(n))+")"})}o.svg.brush=function(){var n,t,r=g(v,"brushstart","brush","brushend"),u=null,i=null,e=[0,0],l=[0,0],f=!0,a=!0,c=Xl[0];function v(n){n.each(function(){var n=o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",m).on("touchstart.brush",m),t=n.selectAll(".background").data([0]);t.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),n.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var r=n.selectAll(".resize").data(c,J);r.exit().remove(),r.enter().append("g").attr("class",function(n){return"resize "+n}).style("cursor",function(n){return jl[n]}).append("rect").attr("x",function(n){return/[ew]$/.test(n)?-3:null}).attr("y",function(n){return/^[ns]/.test(n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),r.style("display",v.empty()?"none":null);var e,l=o.transition(n),f=o.transition(t);u&&(e=Ne(u),f.attr("x",e[0]).attr("width",e[1]-e[0]),d(l)),i&&(e=Ne(i),f.attr("y",e[0]).attr("height",e[1]-e[0]),y(l)),M(l)})}function M(n){n.selectAll(".resize").attr("transform",function(n){return"translate("+e[+/e$/.test(n)]+","+l[+/^s/.test(n)]+")"})}function d(n){n.select(".extent").attr("x",e[0]),n.selectAll(".extent,.n>rect,.s>rect").attr("width",e[1]-e[0])}function y(n){n.select(".extent").attr("y",l[0]),n.selectAll(".extent,.e>rect,.w>rect").attr("height",l[1]-l[0])}function m(){var c,m,N=this,S=o.select(o.event.target),k=r.of(N,arguments),z=o.select(N),q=S.datum(),R=!/^(n|s)$/.test(q)&&u,U=!/^(e|w)$/.test(q)&&i,x=S.classed("extent"),b=xn(N),C=o.mouse(N),O=o.select(h(N)).on("keydown.brush",function(){32==o.event.keyCode&&(x||(c=null,C[0]-=e[1],C[1]-=l[1],x=2),P())}).on("keyup.brush",function(){32==o.event.keyCode&&2==x&&(C[0]+=e[1],C[1]+=l[1],x=0,P())});if(o.event.changedTouches?O.on("touchmove.brush",T).on("touchend.brush",j):O.on("mousemove.brush",T).on("mouseup.brush",j),z.interrupt().selectAll("*").interrupt(),x)C[0]=e[0]-C[0],C[1]=l[0]-C[1];else if(q){var H=+/w$/.test(q),Y=+/^n/.test(q);m=[e[1-H]-C[0],l[1-Y]-C[1]],C[0]=e[H],C[1]=l[Y]}else o.event.altKey&&(c=C.slice());function T(){var n=o.mouse(N),t=!1;m&&(n[0]+=m[0],n[1]+=m[1]),x||(o.event.altKey?(c||(c=[(e[0]+e[1])/2,(l[0]+l[1])/2]),C[0]=e[+(n[0]<c[0])],C[1]=l[+(n[1]<c[1])]):c=null),R&&Z(n,u,0)&&(d(z),t=!0),U&&Z(n,i,1)&&(y(z),t=!0),t&&(M(z),k({type:"brush",mode:x?"move":"resize"}))}function Z(r,u,i){var o,h,v=Ne(u),M=v[0],d=v[1],y=C[i],m=i?l:e,N=m[1]-m[0];if(x&&(M-=y,d-=N+y),o=(i?a:f)?Math.max(M,Math.min(d,r[i])):r[i],x?h=(o+=y)+N:(c&&(y=Math.max(M,Math.min(d,2*c[i]-o))),y<o?(h=o,o=y):h=y),m[0]!=o||m[1]!=h)return i?t=null:n=null,m[0]=o,m[1]=h,!0}function j(){T(),z.style("pointer-events","all").selectAll(".resize").style("display",v.empty()?"none":null),o.select("body").style("cursor",null),O.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),b(),k({type:"brushend"})}z.style("pointer-events","none").selectAll(".resize").style("display",null),o.select("body").style("cursor",S.style("cursor")),k({type:"brushstart"}),T()}return v.event=function(u){u.each(function(){var u=r.of(this,arguments),i={x:e,y:l,i:n,j:t},f=this.__chart__||i;this.__chart__=i,zl?o.select(this).transition().each("start.brush",function(){n=f.i,t=f.j,e=f.x,l=f.y,u({type:"brushstart"})}).tween("brush:brush",function(){var r=ro(e,i.x),o=ro(l,i.y);return n=t=null,function(n){e=i.x=r(n),l=i.y=o(n),u({type:"brush",mode:"resize"})}}).each("end.brush",function(){n=i.i,t=i.j,u({type:"brush",mode:"resize"}),u({type:"brushend"})}):(u({type:"brushstart"}),u({type:"brush",mode:"resize"}),u({type:"brushend"}))})},v.x=function(n){return arguments.length?(c=Xl[!(u=n)<<1|!i],v):u},v.y=function(n){return arguments.length?(c=Xl[!u<<1|!(i=n)],v):i},v.clamp=function(n){return arguments.length?(u&&i?(f=!!n[0],a=!!n[1]):u?f=!!n:i&&(a=!!n),v):u&&i?[f,a]:u?f:i?a:null},v.extent=function(r){var o,f,a,h,c;return arguments.length?(u&&(o=r[0],f=r[1],i&&(o=o[0],f=f[0]),n=[o,f],u.invert&&(o=u(o),f=u(f)),f<o&&(c=o,o=f,f=c),o==e[0]&&f==e[1]||(e=[o,f])),i&&(a=r[0],h=r[1],u&&(a=a[1],h=h[1]),t=[a,h],i.invert&&(a=i(a),h=i(h)),h<a&&(c=a,a=h,h=c),a==l[0]&&h==l[1]||(l=[a,h])),v):(u&&(n?(o=n[0],f=n[1]):(o=e[0],f=e[1],u.invert&&(o=u.invert(o),f=u.invert(f)),f<o&&(c=o,o=f,f=c))),i&&(t?(a=t[0],h=t[1]):(a=l[0],h=l[1],i.invert&&(a=i.invert(a),h=i.invert(h)),h<a&&(c=a,a=h,h=c))),u&&i?[[o,a],[f,h]]:u?[o,f]:i&&[a,h])},v.clear=function(){return v.empty()||(e=[0,0],l=[0,0],n=t=null),v},v.empty=function(){return!!u&&e[0]==e[1]||!!i&&l[0]==l[1]},o.rebind(v,r,"on")};var jl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Xl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Wl=Bt.format=dr.timeFormat,Jl=Wl.utc,Ql=Jl("%Y-%m-%dT%H:%M:%S.%LZ");function Vl(n){return n.toISOString()}function Gl(n,t,r){function u(t){return n(t)}function i(n,r){var u=(n[1]-n[0])/r,i=o.bisect(Kl,u);return i==Kl.length?[t.year,be(n.map(function(n){return n/31536e6}),r)[2]]:i?t[u/Kl[i-1]<Kl[i]/u?i-1:i]:[_l,be(n,r)[2]]}return u.invert=function(t){return Bl(n.invert(t))},u.domain=function(t){return arguments.length?(n.domain(t),u):n.domain().map(Bl)},u.nice=function(n,t){var r=u.domain(),o=me(r),e=null==n?i(o,10):"number"==typeof n&&i(o,n);function l(r){return!isNaN(r)&&!n.range(r,Bl(+r+1),t).length}return e&&(n=e[0],t=e[1]),u.domain(ke(r,t>1?{floor:function(t){for(;l(t=n.floor(t));)t=Bl(t-1);return t},ceil:function(t){for(;l(t=n.ceil(t));)t=Bl(+t+1);return t}}:n))},u.ticks=function(n,t){var r=me(u.domain()),o=null==n?i(r,10):"number"==typeof n?i(r,n):!n.range&&[{range:n},t];return o&&(n=o[0],t=o[1]),n.range(r[0],Bl(+r[1]+1),t<1?1:t)},u.tickFormat=function(){return r},u.copy=function(){return Gl(n.copy(),t,r)},Ue(u,n)}function Bl(n){return new Date(n)}Wl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Vl:Ql,Vl.parse=function(n){var t=new Date(n);return isNaN(t)?null:t},Vl.toString=Ql.toString,Bt.second=_t(function(n){return new Kt(1e3*Math.floor(n/1e3))},function(n,t){n.setTime(n.getTime()+1e3*Math.floor(t))},function(n){return n.getSeconds()}),Bt.seconds=Bt.second.range,Bt.seconds.utc=Bt.second.utc.range,Bt.minute=_t(function(n){return new Kt(6e4*Math.floor(n/6e4))},function(n,t){n.setTime(n.getTime()+6e4*Math.floor(t))},function(n){return n.getMinutes()}),Bt.minutes=Bt.minute.range,Bt.minutes.utc=Bt.minute.utc.range,Bt.hour=_t(function(n){var t=n.getTimezoneOffset()/60;return new Kt(36e5*(Math.floor(n/36e5-t)+t))},function(n,t){n.setTime(n.getTime()+36e5*Math.floor(t))},function(n){return n.getHours()}),Bt.hours=Bt.hour.range,Bt.hours.utc=Bt.hour.utc.range,Bt.month=_t(function(n){return(n=Bt.day(n)).setDate(1),n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()}),Bt.months=Bt.month.range,Bt.months.utc=Bt.month.utc.range;var Kl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],wl=[[Bt.second,1],[Bt.second,5],[Bt.second,15],[Bt.second,30],[Bt.minute,1],[Bt.minute,5],[Bt.minute,15],[Bt.minute,30],[Bt.hour,1],[Bt.hour,3],[Bt.hour,6],[Bt.hour,12],[Bt.day,1],[Bt.day,2],[Bt.week,1],[Bt.month,1],[Bt.month,3],[Bt.year,1]],Pl=Wl.multi([[".%L",function(n){return n.getMilliseconds()}],[":%S",function(n){return n.getSeconds()}],["%I:%M",function(n){return n.getMinutes()}],["%I %p",function(n){return n.getHours()}],["%a %d",function(n){return n.getDay()&&1!=n.getDate()}],["%b %d",function(n){return 1!=n.getDate()}],["%B",function(n){return n.getMonth()}],["%Y",$r]]),_l={range:function(n,t,r){return o.range(Math.ceil(n/r)*r,+t,r).map(Bl)},floor:J,ceil:J};wl.year=Bt.year,Bt.scale=function(){return Gl(o.scale.linear(),wl,Pl)};var gl=wl.map(function(n){return[n[0].utc,n[1]]}),El=Jl.multi([[".%L",function(n){return n.getUTCMilliseconds()}],[":%S",function(n){return n.getUTCSeconds()}],["%I:%M",function(n){return n.getUTCMinutes()}],["%I %p",function(n){return n.getUTCHours()}],["%a %d",function(n){return n.getUTCDay()&&1!=n.getUTCDate()}],["%b %d",function(n){return 1!=n.getUTCDate()}],["%B",function(n){return n.getUTCMonth()}],["%Y",$r]]);function Al(n){return JSON.parse(n.responseText)}function Ll(n){var t=f.createRange();return t.selectNode(f.body),t.createContextualFragment(n.responseText)}gl.year=Bt.year.utc,Bt.scale.utc=function(){return Gl(o.scale.linear(),gl,El)},o.text=Rt(function(n){return n.responseText}),o.json=function(n,t){return Ut(n,"application/json",Al,t)},o.html=function(n,t){return Ut(n,"text/html",Ll,t)},o.xml=Rt(function(n){return n.responseXML}),this.d3=o,void 0===(i="function"==typeof(u=o)?u.call(t,r,t,n):u)||(n.exports=i)}()},function(n,t,r){var u=r(2).parse;u.parseSVG=u,u.makeAbsolute=function(n){var t,r={x:0,y:0},u={x:"x0",y:"y0",x1:"x0",y1:"y0",x2:"x0",y2:"y0"};return n.forEach(function(n){for(var i in"moveto"===n.command&&(t=n),n.x0=r.x,n.y0=r.y,u)i in n&&(n[i]+=n.relative?n[u[i]]:0);"x"in n||(n.x=r.x),"y"in n||(n.y=r.y),n.relative=!1,n.code=n.code.toUpperCase(),"closepath"==n.command&&(n.x=t.x,n.y=t.y),r=n}),n},n.exports=u},function(n,t,r){"use strict";function u(n,t,r,i){this.message=n,this.expected=t,this.found=r,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,u)}!function(n,t){function r(){this.constructor=n}r.prototype=t.prototype,n.prototype=new r}(u,Error),u.buildMessage=function(n,t){var r={literal:function(n){return'"'+i(n.text)+'"'},class:function(n){var t,r="";for(t=0;t<n.parts.length;t++)r+=n.parts[t]instanceof Array?o(n.parts[t][0])+"-"+o(n.parts[t][1]):o(n.parts[t]);return"["+(n.inverted?"^":"")+r+"]"},any:function(n){return"any character"},end:function(n){return"end of input"},other:function(n){return n.description}};function u(n){return n.charCodeAt(0).toString(16).toUpperCase()}function i(n){return n.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(n){return"\\x0"+u(n)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(n){return"\\x"+u(n)})}function o(n){return n.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(n){return"\\x0"+u(n)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(n){return"\\x"+u(n)})}return"Expected "+function(n){var t,u,i,o=new Array(n.length);for(t=0;t<n.length;t++)o[t]=(i=n[t],r[i.type](i));if(o.sort(),o.length>0){for(t=1,u=1;t<o.length;t++)o[t-1]!==o[t]&&(o[u]=o[t],u++);o.length=u}switch(o.length){case 1:return o[0];case 2:return o[0]+" or "+o[1];default:return o.slice(0,-1).join(", ")+", or "+o[o.length-1]}}(n)+" but "+function(n){return n?'"'+i(n)+'"':"end of input"}(t)+" found."},n.exports={SyntaxError:u,parse:function(n,t){t=void 0!==t?t:{};var r,i={},o={svg_path:Nn},e=Nn,l=function(n){if(!n)return[];for(var t=[],r=0;r<n.length;r++)t=t.concat.apply(t,n[r]);var u=t[0];return u&&"m"==u.code&&(delete u.relative,u.code="M"),t},f=function(n,t){return function(n,t){if(!t)return[n];for(var r=[n],u=0,i=t.length;u<i;u++)r[u+1]=t[u][1];return r}(n,t)},a=/^[Mm]/,h=vn(["M","m"],!1,!1),c=function(n,t,r){var u=Bn(n,[t]);return r&&(u=u.concat(Bn("M"==n?"L":"l",r[1]))),u},v=/^[Zz]/,M=vn(["Z","z"],!1,!1),d=function(){return Bn("Z")},y=/^[Ll]/,m=vn(["L","l"],!1,!1),N=function(n,t){return Bn(n,t)},S=/^[Hh]/,k=vn(["H","h"],!1,!1),z=function(n,t){return Bn(n,t.map(function(n){return{x:n}}))},q=/^[Vv]/,R=vn(["V","v"],!1,!1),U=function(n,t){return Bn(n,t.map(function(n){return{y:n}}))},x=/^[Cc]/,b=vn(["C","c"],!1,!1),C=function(n,t,r){return{x1:n.x,y1:n.y,x2:t.x,y2:t.y,x:r.x,y:r.y}},O=/^[Ss]/,H=vn(["S","s"],!1,!1),Y=function(n,t){return{x2:n.x,y2:n.y,x:t.x,y:t.y}},T=/^[Qq]/,Z=vn(["Q","q"],!1,!1),j=function(n,t){return{x1:n.x,y1:n.y,x:t.x,y:t.y}},X=/^[Tt]/,W=vn(["T","t"],!1,!1),J=/^[Aa]/,Q=vn(["A","a"],!1,!1),V=function(n,t,r,u,i,o){return{rx:n,ry:t,xAxisRotation:r,largeArc:u,sweep:i,x:o.x,y:o.y}},G=function(n,t){return{x:n,y:t}},B=function(n){return 1*n},K=function(n){return 1*n.join("")},w=/^[01]/,P=vn(["0","1"],!1,!1),_=function(n){return"1"==n},g=function(){return""},E=",",A=cn(",",!1),L=function(n){return n.join("")},D=".",F=cn(".",!1),I=/^[eE]/,p=vn(["e","E"],!1,!1),s=/^[+\-]/,$=vn(["+","-"],!1,!1),nn=/^[0-9]/,tn=vn([["0","9"]],!1,!1),rn=function(n){return n.join("")},un=/^[ \t\n\r]/,on=vn([" ","\t","\n","\r"],!1,!1),en=0,ln=[{line:1,column:1}],fn=0,an=[],hn=0;if("startRule"in t){if(!(t.startRule in o))throw new Error("Can't start parsing from rule \""+t.startRule+'".');e=o[t.startRule]}function cn(n,t){return{type:"literal",text:n,ignoreCase:t}}function vn(n,t,r){return{type:"class",parts:n,inverted:t,ignoreCase:r}}function Mn(t){var r,u=ln[t];if(u)return u;for(r=t-1;!ln[r];)r--;for(u={line:(u=ln[r]).line,column:u.column};r<t;)10===n.charCodeAt(r)?(u.line++,u.column=1):u.column++,r++;return ln[t]=u,u}function dn(n,t){var r=Mn(n),u=Mn(t);return{start:{offset:n,line:r.line,column:r.column},end:{offset:t,line:u.line,column:u.column}}}function yn(n){en<fn||(en>fn&&(fn=en,an=[]),an.push(n))}function mn(n,t,r){return new u(u.buildMessage(n,t),n,t,r)}function Nn(){var n,t,r,u,o;for(n=en,t=[],r=Qn();r!==i;)t.push(r),r=Qn();if(t!==i)if((r=function(){var n,t,r,u,o,e;if(n=en,(t=Sn())!==i){for(r=[],u=en,o=[],e=Qn();e!==i;)o.push(e),e=Qn();for(o!==i&&(e=Sn())!==i?u=o=[o,e]:(en=u,u=i);u!==i;){for(r.push(u),u=en,o=[],e=Qn();e!==i;)o.push(e),e=Qn();o!==i&&(e=Sn())!==i?u=o=[o,e]:(en=u,u=i)}r!==i?(t=f(t,r),n=t):(en=n,n=i)}else en=n,n=i;return n}())===i&&(r=null),r!==i){for(u=[],o=Qn();o!==i;)u.push(o),o=Qn();u!==i?n=t=l(r):(en=n,n=i)}else en=n,n=i;else en=n,n=i;return n}function Sn(){var t,r,u,o,e,l;if(t=en,(r=function(){var t,r,u,o,e,l,f;if(t=en,a.test(n.charAt(en))?(r=n.charAt(en),en++):(r=i,0===hn&&yn(h)),r!==i){for(u=[],o=Qn();o!==i;)u.push(o),o=Qn();u!==i&&(o=Cn())!==i?(e=en,(l=Tn())===i&&(l=null),l!==i&&(f=zn())!==i?e=l=[l,f]:(en=e,e=i),e===i&&(e=null),e!==i?(r=c(r,o,e),t=r):(en=t,t=i)):(en=t,t=i)}else en=t,t=i;return t}())!==i){for(u=[],o=en,e=[],l=Qn();l!==i;)e.push(l),l=Qn();for(e!==i&&(l=kn())!==i?o=e=[e,l]:(en=o,o=i);o!==i;){for(u.push(o),o=en,e=[],l=Qn();l!==i;)e.push(l),l=Qn();e!==i&&(l=kn())!==i?o=e=[e,l]:(en=o,o=i)}u!==i?t=r=f(r,u):(en=t,t=i)}else en=t,t=i;return t}function kn(){var t,r;return v.test(n.charAt(en))?(r=n.charAt(en),en++):(r=i,0===hn&&yn(M)),r!==i&&(r=d()),(t=r)===i&&(t=function(){var t,r,u,o;if(t=en,y.test(n.charAt(en))?(r=n.charAt(en),en++):(r=i,0===hn&&yn(m)),r!==i){for(u=[],o=Qn();o!==i;)u.push(o),o=Qn();u!==i&&(o=zn())!==i?(r=N(r,o),t=r):(en=t,t=i)}else en=t,t=i;return t}())===i&&(t=function(){var t,r,u,o;if(t=en,S.test(n.charAt(en))?(r=n.charAt(en),en++):(r=i,0===hn&&yn(k)),r!==i){for(u=[],o=Qn();o!==i;)u.push(o),o=Qn();u!==i&&(o=qn())!==i?(r=z(r,o),t=r):(en=t,t=i)}else en=t,t=i;return t}())===i&&(t=function(){var t,r,u,o;if(t=en,q.test(n.charAt(en))?(r=n.charAt(en),en++):(r=i,0===hn&&yn(R)),r!==i){for(u=[],o=Qn();o!==i;)u.push(o),o=Qn();u!==i&&(o=qn())!==i?(r=U(r,o),t=r):(en=t,t=i)}else en=t,t=i;return t}())===i&&(t=function(){var t,r,u,o;if(t=en,x.test(n.charAt(en))?(r=n.charAt(en),en++):(r=i,0===hn&&yn(b)),r!==i){for(u=[],o=Qn();o!==i;)u.push(o),o=Qn();u!==i&&(o=function(){var n,t,r,u,o,e;if(n=en,(t=Rn())!==i){for(r=[],u=en,(o=Tn())===i&&(o=null),o!==i&&(e=Rn())!==i?u=o=[o,e]:(en=u,u=i);u!==i;)r.push(u),u=en,(o=Tn())===i&&(o=null),o!==i&&(e=Rn())!==i?u=o=[o,e]:(en=u,u=i);r!==i?(t=f(t,r),n=t):(en=n,n=i)}else en=n,n=i;return n}())!==i?(r=N(r,o),t=r):(en=t,t=i)}else en=t,t=i;return t}())===i&&(t=function(){var t,r,u,o;if(t=en,O.test(n.charAt(en))?(r=n.charAt(en),en++):(r=i,0===hn&&yn(H)),r!==i){for(u=[],o=Qn();o!==i;)u.push(o),o=Qn();u!==i&&(o=function(){var n,t,r,u,o,e;if(n=en,(t=Un())!==i){for(r=[],u=en,(o=Tn())===i&&(o=null),o!==i&&(e=Un())!==i?u=o=[o,e]:(en=u,u=i);u!==i;)r.push(u),u=en,(o=Tn())===i&&(o=null),o!==i&&(e=Un())!==i?u=o=[o,e]:(en=u,u=i);r!==i?(t=f(t,r),n=t):(en=n,n=i)}else en=n,n=i;return n}())!==i?(r=N(r,o),t=r):(en=t,t=i)}else en=t,t=i;return t}())===i&&(t=function(){var t,r,u,o;if(t=en,T.test(n.charAt(en))?(r=n.charAt(en),en++):(r=i,0===hn&&yn(Z)),r!==i){for(u=[],o=Qn();o!==i;)u.push(o),o=Qn();u!==i&&(o=function(){var n,t,r,u,o,e;if(n=en,(t=xn())!==i){for(r=[],u=en,(o=Tn())===i&&(o=null),o!==i&&(e=xn())!==i?u=o=[o,e]:(en=u,u=i);u!==i;)r.push(u),u=en,(o=Tn())===i&&(o=null),o!==i&&(e=xn())!==i?u=o=[o,e]:(en=u,u=i);r!==i?(t=f(t,r),n=t):(en=n,n=i)}else en=n,n=i;return n}())!==i?(r=N(r,o),t=r):(en=t,t=i)}else en=t,t=i;return t}())===i&&(t=function(){var t,r,u,o;if(t=en,X.test(n.charAt(en))?(r=n.charAt(en),en++):(r=i,0===hn&&yn(W)),r!==i){for(u=[],o=Qn();o!==i;)u.push(o),o=Qn();u!==i&&(o=function(){var n,t,r,u,o,e;if(n=en,(t=Cn())!==i){for(r=[],u=en,(o=Tn())===i&&(o=null),o!==i&&(e=Cn())!==i?u=o=[o,e]:(en=u,u=i);u!==i;)r.push(u),u=en,(o=Tn())===i&&(o=null),o!==i&&(e=Cn())!==i?u=o=[o,e]:(en=u,u=i);r!==i?(t=f(t,r),n=t):(en=n,n=i)}else en=n,n=i;return n}())!==i?(r=N(r,o),t=r):(en=t,t=i)}else en=t,t=i;return t}())===i&&(t=function(){var t,r,u,o;if(t=en,J.test(n.charAt(en))?(r=n.charAt(en),en++):(r=i,0===hn&&yn(Q)),r!==i){for(u=[],o=Qn();o!==i;)u.push(o),o=Qn();u!==i&&(o=function(){var n,t,r,u,o,e;if(n=en,(t=bn())!==i){for(r=[],u=en,(o=Tn())===i&&(o=null),o!==i&&(e=bn())!==i?u=o=[o,e]:(en=u,u=i);u!==i;)r.push(u),u=en,(o=Tn())===i&&(o=null),o!==i&&(e=bn())!==i?u=o=[o,e]:(en=u,u=i);r!==i?(t=f(t,r),n=t):(en=n,n=i)}else en=n,n=i;return n}())!==i?(r=N(r,o),t=r):(en=t,t=i)}else en=t,t=i;return t}()),t}function zn(){var n,t,r,u,o,e;if(n=en,(t=Cn())!==i){for(r=[],u=en,(o=Tn())===i&&(o=null),o!==i&&(e=Cn())!==i?u=o=[o,e]:(en=u,u=i);u!==i;)r.push(u),u=en,(o=Tn())===i&&(o=null),o!==i&&(e=Cn())!==i?u=o=[o,e]:(en=u,u=i);r!==i?n=t=f(t,r):(en=n,n=i)}else en=n,n=i;return n}function qn(){var n,t,r,u,o,e;if(n=en,(t=Hn())!==i){for(r=[],u=en,(o=Tn())===i&&(o=null),o!==i&&(e=Hn())!==i?u=o=[o,e]:(en=u,u=i);u!==i;)r.push(u),u=en,(o=Tn())===i&&(o=null),o!==i&&(e=Hn())!==i?u=o=[o,e]:(en=u,u=i);r!==i?n=t=f(t,r):(en=n,n=i)}else en=n,n=i;return n}function Rn(){var n,t,r,u,o,e;return n=en,(t=Cn())!==i?((r=Tn())===i&&(r=null),r!==i&&(u=Cn())!==i?((o=Tn())===i&&(o=null),o!==i&&(e=Cn())!==i?n=t=C(t,u,e):(en=n,n=i)):(en=n,n=i)):(en=n,n=i),n}function Un(){var n,t,r,u;return n=en,(t=Cn())!==i?((r=Tn())===i&&(r=null),r!==i&&(u=Cn())!==i?n=t=Y(t,u):(en=n,n=i)):(en=n,n=i),n}function xn(){var n,t,r,u;return n=en,(t=Cn())!==i?((r=Tn())===i&&(r=null),r!==i&&(u=Cn())!==i?n=t=j(t,u):(en=n,n=i)):(en=n,n=i),n}function bn(){var n,t,r,u,o,e,l,f,a,h,c;return n=en,(t=On())!==i?((r=Tn())===i&&(r=null),r!==i&&(u=On())!==i?((o=Tn())===i&&(o=null),o!==i&&(e=Hn())!==i&&Tn()!==i&&(l=Yn())!==i?((f=Tn())===i&&(f=null),f!==i&&(a=Yn())!==i?((h=Tn())===i&&(h=null),h!==i&&(c=Cn())!==i?n=t=V(t,u,e,l,a,c):(en=n,n=i)):(en=n,n=i)):(en=n,n=i)):(en=n,n=i)):(en=n,n=i),n}function Cn(){var n,t,r,u;return n=en,(t=Hn())!==i?((r=Tn())===i&&(r=null),r!==i&&(u=Hn())!==i?n=t=G(t,u):(en=n,n=i)):(en=n,n=i),n}function On(){var n;return en,(n=jn())===i&&(n=Jn()),n!==i&&(n=B(n)),n}function Hn(){var n,t,r;return en,n=en,(t=Wn())===i&&(t=null),t!==i&&(r=jn())!==i?n=t=[t,r]:(en=n,n=i),n===i&&(n=en,(t=Wn())===i&&(t=null),t!==i&&(r=Jn())!==i?n=t=[t,r]:(en=n,n=i)),n!==i&&(n=K(n)),n}function Yn(){var t;return en,w.test(n.charAt(en))?(t=n.charAt(en),en++):(t=i,0===hn&&yn(P)),t!==i&&(t=_(t)),t}function Tn(){var n,t,r,u,o;if(n=en,t=[],(r=Qn())!==i)for(;r!==i;)t.push(r),r=Qn();else t=i;if(t!==i)if((r=Zn())===i&&(r=null),r!==i){for(u=[],o=Qn();o!==i;)u.push(o),o=Qn();u!==i?n=t=[t,r,u]:(en=n,n=i)}else en=n,n=i;else en=n,n=i;if(n===i){if(n=en,t=en,(r=Zn())!==i){for(u=[],o=Qn();o!==i;)u.push(o),o=Qn();u!==i?t=r=[r,u]:(en=t,t=i)}else en=t,t=i;t!==i&&(t=g()),n=t}return n}function Zn(){var t;return 44===n.charCodeAt(en)?(t=E,en++):(t=i,0===hn&&yn(A)),t}function jn(){var t,r,u;return en,t=en,(r=function(){var t,r,u,o;return en,t=en,(r=Jn())===i&&(r=null),r!==i?(46===n.charCodeAt(en)?(u=D,en++):(u=i,0===hn&&yn(F)),u!==i&&(o=Jn())!==i?t=r=[r,u,o]:(en=t,t=i)):(en=t,t=i),t===i&&(t=en,(r=Jn())!==i?(46===n.charCodeAt(en)?(u=D,en++):(u=i,0===hn&&yn(F)),u!==i?t=r=[r,u]:(en=t,t=i)):(en=t,t=i)),t!==i&&(t=L(t)),t}())!==i?((u=Xn())===i&&(u=null),u!==i?t=r=[r,u]:(en=t,t=i)):(en=t,t=i),t===i&&(t=en,(r=Jn())!==i&&(u=Xn())!==i?t=r=[r,u]:(en=t,t=i)),t!==i&&(t=L(t)),t}function Xn(){var t,r,u,o;return en,t=en,I.test(n.charAt(en))?(r=n.charAt(en),en++):(r=i,0===hn&&yn(p)),r!==i?((u=Wn())===i&&(u=null),u!==i&&(o=Jn())!==i?t=r=[r,u,o]:(en=t,t=i)):(en=t,t=i),t!==i&&(t=L(t)),t}function Wn(){var t;return s.test(n.charAt(en))?(t=n.charAt(en),en++):(t=i,0===hn&&yn($)),t}function Jn(){var t,r;if(en,t=[],nn.test(n.charAt(en))?(r=n.charAt(en),en++):(r=i,0===hn&&yn(tn)),r!==i)for(;r!==i;)t.push(r),nn.test(n.charAt(en))?(r=n.charAt(en),en++):(r=i,0===hn&&yn(tn));else t=i;return t!==i&&(t=rn(t)),t}function Qn(){var t;return en,un.test(n.charAt(en))?(t=n.charAt(en),en++):(t=i,0===hn&&yn(on)),t!==i&&(t=g()),t}var Vn={m:"moveto",l:"lineto",h:"horizontal lineto",v:"vertical lineto",c:"curveto",s:"smooth curveto",q:"quadratic curveto",t:"smooth quadratic curveto",a:"elliptical arc",z:"closepath"};for(var Gn in Vn)Vn[Gn.toUpperCase()]=Vn[Gn];function Bn(n,t){t||(t=[{}]);for(var r=t.length;r--;){var u={code:n,command:Vn[n]};for(var i in n==n.toLowerCase()&&(u.relative=!0),t[r])u[i]=t[r][i];t[r]=u}return t}if((r=e())!==i&&en===n.length)return r;throw r!==i&&en<n.length&&yn({type:"end"}),mn(an,fn<n.length?n.charAt(fn):null,fn<n.length?dn(fn,fn+1):dn(fn,fn))}}},,function(n,t,r){"use strict";r.r(t);var u=r(1),i=r(0);window.animateSVGPath=function({selector:n,path:t,gravity:r=.05,pointsGravity:o=-30,cursorGravity:e=-3e3,offsetX:l=0,offsetY:f=0,scale:a=1,lineColor:h="#dbdbdb",lineWidth:c=1,pointBorderWidth:v=0,pointBordeColor:M="#fff",pointColor:d="#0c95ed",pointRadius:y=3,timeout:m=3e3}){const N=Object(i.select)(n);if(!N.node())return void console.error("AnimateSVGPath. Error. Element "+n+" not found.");let S;try{S=Object(u.parseSVG)(t)}catch(n){return n.message="AnimateSVGPath. Error parsing SVG path d string. "+n.message,void console.error(n)}let k=[],z={},q=[],R={};S.forEach(function({code:n,x:t,y:r,command:u},i,o){"H"===n&&(r=o[i-1].y),"V"===n&&(t=o[i-1].x),-1===["H","M","L","V"].indexOf(n)&&console.error('AnimateSVGPath. Error. Unexpected SVG path d string: "'+u+'" (remove "'+n+'" from path d string)');const e=t+"_"+r,l=z[e]||{x:t,y:r,index:k.length};"M"===n?R.source=l.index:null==R.source?R.source=l.index:(R.target=l.index,R.target!==R.source&&q.push(R),R={source:l.index}),z[e]||(k.push(l),z[e]=l)}),k=k.map(({x:n,y:t})=>({x:n*a+l,y:t*a+f})).map(({x:n,y:t})=>({x:n,y:t,cx:n,cy:t})),k=[{x:0,y:0}].concat(k);const U=2*Math.PI,x="ontouchstart"in document,{width:b,height:C}=N.node().getBoundingClientRect(),O=N.append("canvas").attr("width",b).attr("height",C).on(x?"touchmove":"mousemove",function(){const n=Object(i.mouse)(this);T.px=n[0],T.py=n[1],H.resume(),Y&&clearTimeout(Y),Y=setTimeout(()=>H.stop(),m)}).on(x?"touchend":"mouseout",function(){T.px=-9999999,T.py=-9999999}).on("click",onclick).node().getContext("2d"),H=i.layout.force().size([b,C]).nodes(k.slice()).gravity(0).charge((n,t)=>t?o:e).on("tick",function(){H.resume();for(let n=0,t=k.length;n<t;++n){const t=k[n];t.y+=(t.cy-t.y)*r,t.x+=(t.cx-t.x)*r}O.clearRect(0,0,b,C),O.beginPath();for(let n=0,t=q.length;n<t;++n){const t=q[n];O.moveTo(t.source.x,t.source.y),O.lineTo(t.target.x,t.target.y)}O.lineWidth=c,O.strokeStyle=h,O.stroke(),O.beginPath();for(let t=0,r=k.length;t<r;++t){var n=k[t];O.moveTo(n.x,n.y),O.arc(n.x,n.y,y,0,U)}O.lineWidth=v,O.strokeStyle=M,O.stroke(),O.fillStyle=d,O.fill()}).start();let Y=setTimeout(()=>H.stop(),m);const T=k.shift();T.fixed=!0,T.px=-9999999,T.py=-9999999,q=q.map(({source:n,target:t})=>({source:k[n],target:k[t]}))}}]);