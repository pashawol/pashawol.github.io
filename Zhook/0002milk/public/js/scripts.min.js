function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var Util=function(e){function t(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function n(){return{bindType:a.end,delegateType:a.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}}}function i(){return("undefined"==typeof window||!window.QUnit)&&{end:"transitionend"}}function r(t){var n=this,i=!1;return e(this).one(s.TRANSITION_END,function(){i=!0}),setTimeout(function(){i||s.triggerTransitionEnd(n)},t),this}function o(t){return t="function"==typeof e.escapeSelector?e.escapeSelector(t).substr(1):t.replace(/(:|\.|\[|\]|,|=|@)/g,"\\$1")}var a=!1,s={TRANSITION_END:"bsTransitionEnd",getUID:function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},getSelectorFromElement:function(t){var n=t.getAttribute("data-target");n&&"#"!==n||(n=t.getAttribute("href")||""),"#"===n.charAt(0)&&(n=o(n));try{return e(document).find(n).length>0?n:null}catch(e){return null}},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(t){e(t).trigger(a.end)},supportsTransitionEnd:function(){return Boolean(a)},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,n,i){for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){var o=i[r],a=n[r],l=a&&s.isElement(a)?"element":t(a);if(!new RegExp(o).test(l))throw new Error(e.toUpperCase()+': Option "'+r+'" provided type "'+l+'" but expected type "'+o+'".')}}};return function(){a=i(),e.fn.emulateTransitionEnd=r,s.supportsTransitionEnd()&&(e.event.special[s.TRANSITION_END]=n())}(),s}($),Carousel=function(e){var t="carousel",n="bs.carousel",i="."+n,r=e.fn[t],o={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},a={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},s={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"},l={SLIDE:"slide"+i,SLID:"slid"+i,KEYDOWN:"keydown"+i,MOUSEENTER:"mouseenter"+i,MOUSELEAVE:"mouseleave"+i,TOUCHEND:"touchend"+i,LOAD_DATA_API:"load.bs.carousel.data-api",CLICK_DATA_API:"click.bs.carousel.data-api"},u={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item"},c={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},p=function(){function r(t,n){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(n),this._element=e(t)[0],this._indicatorsElement=e(this._element).find(c.INDICATORS)[0],this._addEventListeners()}var p=r.prototype;return p.next=function(){this._isSliding||this._slide(s.NEXT)},p.nextWhenVisible=function(){!document.hidden&&e(this._element).is(":visible")&&"hidden"!==e(this._element).css("visibility")&&this.next()},p.prev=function(){this._isSliding||this._slide(s.PREV)},p.pause=function(t){t||(this._isPaused=!0),e(this._element).find(c.NEXT_PREV)[0]&&Util.supportsTransitionEnd()&&(Util.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},p.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},p.to=function(t){var n=this;this._activeElement=e(this._element).find(c.ACTIVE_ITEM)[0];var i=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)e(this._element).one(l.SLID,function(){return n.to(t)});else{if(i===t)return this.pause(),void this.cycle();var r=t>i?s.NEXT:s.PREV;this._slide(r,this._items[t])}},p.dispose=function(){e(this._element).off(i),e.removeData(this._element,n),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},p._getConfig=function(e){return e=_extends({},o,e),Util.typeCheckConfig(t,e,a),e},p._addEventListeners=function(){var t=this;this._config.keyboard&&e(this._element).on(l.KEYDOWN,function(e){return t._keydown(e)}),"hover"===this._config.pause&&(e(this._element).on(l.MOUSEENTER,function(e){return t.pause(e)}).on(l.MOUSELEAVE,function(e){return t.cycle(e)}),"ontouchstart"in document.documentElement&&e(this._element).on(l.TOUCHEND,function(){t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout(function(e){return t.cycle(e)},500+t._config.interval)}))},p._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next()}},p._getItemIndex=function(t){return this._items=e.makeArray(e(t).parent().find(c.ITEM)),this._items.indexOf(t)},p._getItemByDirection=function(e,t){var n=e===s.NEXT,i=e===s.PREV,r=this._getItemIndex(t),o=this._items.length-1;if((i&&0===r||n&&r===o)&&!this._config.wrap)return t;var a=(r+(e===s.PREV?-1:1))%this._items.length;return-1===a?this._items[this._items.length-1]:this._items[a]},p._triggerSlideEvent=function(t,n){var i=this._getItemIndex(t),r=this._getItemIndex(e(this._element).find(c.ACTIVE_ITEM)[0]),o=e.Event(l.SLIDE,{relatedTarget:t,direction:n,from:r,to:i});return e(this._element).trigger(o),o},p._setActiveIndicatorElement=function(t){if(this._indicatorsElement){e(this._indicatorsElement).find(c.ACTIVE).removeClass(u.ACTIVE);var n=this._indicatorsElement.children[this._getItemIndex(t)];n&&e(n).addClass(u.ACTIVE)}},p._slide=function(t,n){var i,r,o,a=this,p=e(this._element).find(c.ACTIVE_ITEM)[0],d=this._getItemIndex(p),f=n||p&&this._getItemByDirection(t,p),h=this._getItemIndex(f),m=Boolean(this._interval);if(t===s.NEXT?(i=u.LEFT,r=u.NEXT,o=s.LEFT):(i=u.RIGHT,r=u.PREV,o=s.RIGHT),f&&e(f).hasClass(u.ACTIVE))this._isSliding=!1;else if(!this._triggerSlideEvent(f,o).isDefaultPrevented()&&p&&f){this._isSliding=!0,m&&this.pause(),this._setActiveIndicatorElement(f);var g=e.Event(l.SLID,{relatedTarget:f,direction:o,from:d,to:h});Util.supportsTransitionEnd()&&e(this._element).hasClass(u.SLIDE)?(e(f).addClass(r),Util.reflow(f),e(p).addClass(i),e(f).addClass(i),e(p).one(Util.TRANSITION_END,function(){e(f).removeClass(i+" "+r).addClass(u.ACTIVE),e(p).removeClass(u.ACTIVE+" "+r+" "+i),a._isSliding=!1,setTimeout(function(){return e(a._element).trigger(g)},0)}).emulateTransitionEnd(600)):(e(p).removeClass(u.ACTIVE),e(f).addClass(u.ACTIVE),this._isSliding=!1,e(this._element).trigger(g)),m&&this.cycle()}},r._jQueryInterface=function(t){return this.each(function(){var i=e(this).data(n),a=_extends({},o,e(this).data());"object"==typeof t&&(a=_extends({},a,t));var s="string"==typeof t?t:a.slide;if(i||(i=new r(this,a),e(this).data(n,i)),"number"==typeof t)i.to(t);else if("string"==typeof s){if(void 0===i[s])throw new TypeError('No method named "'+s+'"');i[s]()}else a.interval&&(i.pause(),i.cycle())})},r._dataApiClickHandler=function(t){var i=Util.getSelectorFromElement(this);if(i){var o=e(i)[0];if(o&&e(o).hasClass(u.CAROUSEL)){var a=_extends({},e(o).data(),e(this).data()),s=this.getAttribute("data-slide-to");s&&(a.interval=!1),r._jQueryInterface.call(e(o),a),s&&e(o).data(n).to(s),t.preventDefault()}}},_createClass(r,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return o}}]),r}();return e(document).on(l.CLICK_DATA_API,c.DATA_SLIDE,p._dataApiClickHandler),e(window).on(l.LOAD_DATA_API,function(){e(c.DATA_RIDE).each(function(){var t=e(this);p._jQueryInterface.call(t,t.data())})}),e.fn[t]=p._jQueryInterface,e.fn[t].Constructor=p,e.fn[t].noConflict=function(){return e.fn[t]=r,p._jQueryInterface},p}($);!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(e){var t,n,i,r,o,a,s="Close",l="BeforeClose",u="MarkupParse",c="Open",p="Change",d="mfp",f="."+d,h="mfp-ready",m="mfp-removing",g="mfp-prevent-close",v=function(){},y=!!window.jQuery,k=e(window),b=function(e,n){t.ev.on(d+e+f,n)},x=function(t,n,i,r){var o=document.createElement("div");return o.className="mfp-"+t,i&&(o.innerHTML=i),r?n&&n.appendChild(o):(o=e(o),n&&o.appendTo(n)),o},C=function(n,i){t.ev.triggerHandler(d+n,i),t.st.callbacks&&(n=n.charAt(0).toLowerCase()+n.slice(1),t.st.callbacks[n]&&t.st.callbacks[n].apply(t,e.isArray(i)?i:[i]))},w=function(n){return n===a&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),a=n),t.currTemplate.closeBtn},_=function(){e.magnificPopup.instance||((t=new v).init(),e.magnificPopup.instance=t)},S=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};v.prototype={constructor:v,init:function(){var n=navigator.appVersion;t.isIE7=-1!==n.indexOf("MSIE 7."),t.isIE8=-1!==n.indexOf("MSIE 8."),t.isLowIE=t.isIE7||t.isIE8,t.isAndroid=/android/gi.test(n),t.isIOS=/iphone|ipad|ipod/gi.test(n),t.supportsTransition=S(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),i=e(document),t.popupsCache={}},open:function(n){var r;if(!1===n.isObj){t.items=n.items.toArray(),t.index=0;var a,s=n.items;for(r=0;r<s.length;r++)if((a=s[r]).parsed&&(a=a.el[0]),a===n.el[0]){t.index=r;break}}else t.items=e.isArray(n.items)?n.items:[n.items],t.index=n.index||0;{if(!t.isOpen){t.types=[],o="",n.mainEl&&n.mainEl.length?t.ev=n.mainEl.eq(0):t.ev=i,n.key?(t.popupsCache[n.key]||(t.popupsCache[n.key]={}),t.currTemplate=t.popupsCache[n.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,n),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=x("bg").on("click"+f,function(){t.close()}),t.wrap=x("wrap").attr("tabindex",-1).on("click"+f,function(e){t._checkIfClose(e.target)&&t.close()}),t.container=x("container",t.wrap)),t.contentContainer=x("content"),t.st.preloader&&(t.preloader=x("preloader",t.container,t.st.tLoading));var l=e.magnificPopup.modules;for(r=0;r<l.length;r++){var p=l[r];p=p.charAt(0).toUpperCase()+p.slice(1),t["init"+p].call(t)}C("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(b(u,function(e,t,n,i){n.close_replaceWith=w(i.type)}),o+=" mfp-close-btn-in"):t.wrap.append(w())),t.st.alignTop&&(o+=" mfp-align-top"),t.fixedContentPos?t.wrap.css({overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}):t.wrap.css({top:k.scrollTop(),position:"absolute"}),(!1===t.st.fixedBgPos||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:i.height(),position:"absolute"}),t.st.enableEscapeKey&&i.on("keyup"+f,function(e){27===e.keyCode&&t.close()}),k.on("resize"+f,function(){t.updateSize()}),t.st.closeOnContentClick||(o+=" mfp-auto-cursor"),o&&t.wrap.addClass(o);var d=t.wH=k.height(),m={};if(t.fixedContentPos&&t._hasScrollBar(d)){var g=t._getScrollbarSize();g&&(m.marginRight=g)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):m.overflow="hidden");var v=t.st.mainClass;return t.isIE7&&(v+=" mfp-ie7"),v&&t._addClassToMFP(v),t.updateItemHTML(),C("BuildControls"),e("html").css(m),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||e(document.body)),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP(h),t._setFocus()):t.bgOverlay.addClass(h),i.on("focusin"+f,t._onFocusIn)},16),t.isOpen=!0,t.updateSize(d),C(c),n}t.updateItemHTML()}},close:function(){t.isOpen&&(C(l),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP(m),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){C(s);var n=m+" "+h+" ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(n+=t.st.mainClass+" "),t._removeClassFromMFP(n),t.fixedContentPos){var r={marginRight:""};t.isIE7?e("body, html").css("overflow",""):r.overflow="",e("html").css(r)}i.off("keyup.mfp focusin"+f),t.ev.off(f),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),!t.st.showCloseBtn||t.st.closeBtnInside&&!0!==t.currTemplate[t.currItem.type]||t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t.st.autoFocusLast&&t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,C("AfterClose")},updateSize:function(e){if(t.isIOS){var n=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*n;t.wrap.css("height",i),t.wH=i}else t.wH=e||k.height();t.fixedContentPos||t.wrap.css("height",t.wH),C("Resize")},updateItemHTML:function(){var n=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),n.parsed||(n=t.parseEl(t.index));var i=n.type;if(C("BeforeChange",[t.currItem?t.currItem.type:"",i]),t.currItem=n,!t.currTemplate[i]){var o=!!t.st[i]&&t.st[i].markup;C("FirstMarkupParse",o),t.currTemplate[i]=!o||e(o)}r&&r!==n.type&&t.container.removeClass("mfp-"+r+"-holder");var a=t["get"+i.charAt(0).toUpperCase()+i.slice(1)](n,t.currTemplate[i]);t.appendContent(a,i),n.preloaded=!0,C(p,n),r=n.type,t.container.prepend(t.contentContainer),C("AfterChange")},appendContent:function(e,n){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&!0===t.currTemplate[n]?t.content.find(".mfp-close").length||t.content.append(w()):t.content=e:t.content="",C("BeforeAppend"),t.container.addClass("mfp-"+n+"-holder"),t.contentContainer.append(t.content)},parseEl:function(n){var i,r=t.items[n];if(r.tagName?r={el:e(r)}:(i=r.type,r={data:r,src:r.src}),r.el){for(var o=t.types,a=0;a<o.length;a++)if(r.el.hasClass("mfp-"+o[a])){i=o[a];break}r.src=r.el.attr("data-mfp-src"),r.src||(r.src=r.el.attr("href"))}return r.type=i||t.st.type||"inline",r.index=n,r.parsed=!0,t.items[n]=r,C("ElementParse",r),t.items[n]},addGroup:function(e,n){var i=function(i){i.mfpEl=this,t._openClick(i,e,n)};n||(n={});var r="click.magnificPopup";n.mainEl=e,n.items?(n.isObj=!0,e.off(r).on(r,i)):(n.isObj=!1,n.delegate?e.off(r).on(r,n.delegate,i):(n.items=e,e.off(r).on(r,i)))},_openClick:function(n,i,r){if((void 0!==r.midClick?r.midClick:e.magnificPopup.defaults.midClick)||!(2===n.which||n.ctrlKey||n.metaKey||n.altKey||n.shiftKey)){var o=void 0!==r.disableOn?r.disableOn:e.magnificPopup.defaults.disableOn;if(o)if(e.isFunction(o)){if(!o.call(t))return!0}else if(k.width()<o)return!0;n.type&&(n.preventDefault(),t.isOpen&&n.stopPropagation()),r.el=e(n.mfpEl),r.delegate&&(r.items=i.find(r.delegate)),t.open(r)}},updateStatus:function(e,i){if(t.preloader){n!==e&&t.container.removeClass("mfp-s-"+n),i||"loading"!==e||(i=t.st.tLoading);var r={status:e,text:i};C("UpdateStatus",r),e=r.status,i=r.text,t.preloader.html(i),t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),n=e}},_checkIfClose:function(n){if(!e(n).hasClass(g)){var i=t.st.closeOnContentClick,r=t.st.closeOnBgClick;if(i&&r)return!0;if(!t.content||e(n).hasClass("mfp-close")||t.preloader&&n===t.preloader[0])return!0;if(n===t.content[0]||e.contains(t.content[0],n)){if(i)return!0}else if(r&&e.contains(document,n))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?i.height():document.body.scrollHeight)>(e||k.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(n){return n.target===t.wrap[0]||e.contains(t.wrap[0],n.target)?void 0:(t._setFocus(),!1)},_parseMarkup:function(t,n,i){var r;i.data&&(n=e.extend(i.data,n)),C(u,[t,n,i]),e.each(n,function(e,n){if(void 0===n||!1===n)return!0;if((r=e.split("_")).length>1){var i=t.find(f+"-"+r[0]);if(i.length>0){var o=r[1];"replaceWith"===o?i[0]!==n[0]&&i.replaceWith(n):"img"===o?i.is("img")?i.attr("src",n):i.replaceWith('<img src="'+n+'" class="'+i.attr("class")+'" />'):i.attr(r[1],n)}}else t.find(f+"-"+e).html(n)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:v.prototype,modules:[],open:function(t,n){return _(),t=t?e.extend(!0,{},t):{},t.isObj=!0,t.index=n||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,n){n.options&&(e.magnificPopup.defaults[t]=n.options),e.extend(this.proto,n.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},e.fn.magnificPopup=function(n){_();var i=e(this);if("string"==typeof n)if("open"===n){var r,o=y?i.data("magnificPopup"):i[0].magnificPopup,a=parseInt(arguments[1],10)||0;o.items?r=o.items[a]:(r=i,o.delegate&&(r=r.find(o.delegate)),r=r.eq(a)),t._openClick({mfpEl:r},i,o)}else t.isOpen&&t[n].apply(t,Array.prototype.slice.call(arguments,1));else n=e.extend(!0,{},n),y?i.data("magnificPopup",n):i[0].magnificPopup=n,t.addGroup(i,n);return i};var O,P,E,I="inline",A=function(){E&&(P.after(E.addClass(O)).detach(),E=null)};e.magnificPopup.registerModule(I,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push(I),b(s+"."+I,function(){A()})},getInline:function(n,i){if(A(),n.src){var r=t.st.inline,o=e(n.src);if(o.length){var a=o[0].parentNode;a&&a.tagName&&(P||(O=r.hiddenClass,P=x(O),O="mfp-"+O),E=o.after(P).detach().removeClass(O)),t.updateStatus("ready")}else t.updateStatus("error",r.tNotFound),o=e("<div>");return n.inlineElement=o,o}return t.updateStatus("ready"),t._parseMarkup(i,{},n),i}}});var T,D="ajax",M=function(){T&&e(document.body).removeClass(T)},F=function(){M(),t.req&&t.req.abort()};e.magnificPopup.registerModule(D,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push(D),T=t.st.ajax.cursor,b(s+"."+D,F),b("BeforeChange."+D,F)},getAjax:function(n){T&&e(document.body).addClass(T),t.updateStatus("loading");var i=e.extend({url:n.src,success:function(i,r,o){var a={data:i,xhr:o};C("ParseAjax",a),t.appendContent(e(a.data),D),n.finished=!0,M(),t._setFocus(),setTimeout(function(){t.wrap.addClass(h)},16),t.updateStatus("ready"),C("AjaxContentAdded")},error:function(){M(),n.finished=n.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",n.src))}},t.st.ajax.settings);return t.req=e.ajax(i),""}}});var $,j=function(n){if(n.data&&void 0!==n.data.title)return n.data.title;var i=t.st.image.titleSrc;if(i){if(e.isFunction(i))return i.call(t,n);if(n.el)return n.el.attr(i)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var n=t.st.image,i=".image";t.types.push("image"),b(c+i,function(){"image"===t.currItem.type&&n.cursor&&e(document.body).addClass(n.cursor)}),b(s+i,function(){n.cursor&&e(document.body).removeClass(n.cursor),k.off("resize"+f)}),b("Resize"+i,t.resizeImage),t.isLowIE&&b("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img&&t.st.image.verticalFit){var n=0;t.isLowIE&&(n=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",t.wH-n)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,$&&clearInterval($),e.isCheckingImgSize=!1,C("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var n=0,i=e.img[0],r=function(o){$&&clearInterval($),$=setInterval(function(){return i.naturalWidth>0?void t._onImageHasSize(e):(n>200&&clearInterval($),n++,void(3===n?r(10):40===n?r(50):100===n&&r(500)))},o)};r(1)},getImage:function(n,i){var r=0,o=function(){n&&(n.img[0].complete?(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("ready")),n.hasSize=!0,n.loaded=!0,C("ImageLoadComplete")):(r++,200>r?setTimeout(o,100):a()))},a=function(){n&&(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("error",s.tError.replace("%url%",n.src))),n.hasSize=!0,n.loaded=!0,n.loadError=!0)},s=t.st.image,l=i.find(".mfp-img");if(l.length){var u=document.createElement("img");u.className="mfp-img",n.el&&n.el.find("img").length&&(u.alt=n.el.find("img").attr("alt")),n.img=e(u).on("load.mfploader",o).on("error.mfploader",a),u.src=n.src,l.is("img")&&(n.img=n.img.clone()),(u=n.img[0]).naturalWidth>0?n.hasSize=!0:u.width||(n.hasSize=!1)}return t._parseMarkup(i,{title:j(n),img_replaceWith:n.img},n),t.resizeImage(),n.hasSize?($&&clearInterval($),n.loadError?(i.addClass("mfp-loading"),t.updateStatus("error",s.tError.replace("%url%",n.src))):(i.removeClass("mfp-loading"),t.updateStatus("ready")),i):(t.updateStatus("loading"),n.loading=!0,n.hasSize||(n.imgHidden=!0,i.addClass("mfp-loading"),t.findImageSize(n)),i)}}});var N,R=function(){return void 0===N&&(N=void 0!==document.createElement("p").style.MozTransform),N};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,n=t.st.zoom,i=".zoom";if(n.enabled&&t.supportsTransition){var r,o,a=n.duration,u=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+n.duration/1e3+"s "+n.easing,r={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},o="transition";return r["-webkit-"+o]=r["-moz-"+o]=r["-o-"+o]=r[o]=i,t.css(r),t},c=function(){t.content.css("visibility","visible")};b("BuildControls"+i,function(){if(t._allowZoom()){if(clearTimeout(r),t.content.css("visibility","hidden"),!(e=t._getItemToZoom()))return void c();(o=u(e)).css(t._getOffset()),t.wrap.append(o),r=setTimeout(function(){o.css(t._getOffset(!0)),r=setTimeout(function(){c(),setTimeout(function(){o.remove(),e=o=null,C("ZoomAnimationEnded")},16)},a)},16)}}),b(l+i,function(){if(t._allowZoom()){if(clearTimeout(r),t.st.removalDelay=a,!e){if(!(e=t._getItemToZoom()))return;o=u(e)}o.css(t._getOffset(!0)),t.wrap.append(o),t.content.css("visibility","hidden"),setTimeout(function(){o.css(t._getOffset())},16)}}),b(s+i,function(){t._allowZoom()&&(c(),o&&o.remove(),e=null)})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return!!t.currItem.hasSize&&t.currItem.img},_getOffset:function(n){var i,r=(i=n?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem)).offset(),o=parseInt(i.css("padding-top"),10),a=parseInt(i.css("padding-bottom"),10);r.top-=e(window).scrollTop()-o;var s={width:i.width(),height:(y?i.innerHeight():i[0].offsetHeight)-a-o};return R()?s["-moz-transform"]=s.transform="translate("+r.left+"px,"+r.top+"px)":(s.left=r.left,s.top=r.top),s}}});var L="iframe",z=function(e){if(t.currTemplate[L]){var n=t.currTemplate[L].find("iframe");n.length&&(e||(n[0].src="//about:blank"),t.isIE8&&n.css("display",e?"block":"none"))}};e.magnificPopup.registerModule(L,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push(L),b("BeforeChange",function(e,t,n){t!==n&&(t===L?z():n===L&&z(!0))}),b(s+"."+L,function(){z()})},getIframe:function(n,i){var r=n.src,o=t.st.iframe;e.each(o.patterns,function(){return r.indexOf(this.index)>-1?(this.id&&(r="string"==typeof this.id?r.substr(r.lastIndexOf(this.id)+this.id.length,r.length):this.id.call(this,r)),r=this.src.replace("%id%",r),!1):void 0});var a={};return o.srcAction&&(a[o.srcAction]=r),t._parseMarkup(i,a,n),t.updateStatus("ready"),i}}});var B=function(e){var n=t.items.length;return e>n-1?e-n:0>e?n+e:e},H=function(e,t,n){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,n)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var n=t.st.gallery,r=".mfp-gallery",a=Boolean(e.fn.mfpFastClick);return t.direction=!0,!(!n||!n.enabled)&&(o+=" mfp-gallery",b(c+r,function(){n.navigateByImgClick&&t.wrap.on("click"+r,".mfp-img",function(){return t.items.length>1?(t.next(),!1):void 0}),i.on("keydown"+r,function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()})}),b("UpdateStatus"+r,function(e,n){n.text&&(n.text=H(n.text,t.currItem.index,t.items.length))}),b(u+r,function(e,i,r,o){var a=t.items.length;r.counter=a>1?H(n.tCounter,o.index,a):""}),b("BuildControls"+r,function(){if(t.items.length>1&&n.arrows&&!t.arrowLeft){var i=n.arrowMarkup,r=t.arrowLeft=e(i.replace(/%title%/gi,n.tPrev).replace(/%dir%/gi,"left")).addClass(g),o=t.arrowRight=e(i.replace(/%title%/gi,n.tNext).replace(/%dir%/gi,"right")).addClass(g),s=a?"mfpFastClick":"click";r[s](function(){t.prev()}),o[s](function(){t.next()}),t.isIE7&&(x("b",r[0],!1,!0),x("a",r[0],!1,!0),x("b",o[0],!1,!0),x("a",o[0],!1,!0)),t.container.append(r.add(o))}}),b(p+r,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages(),t._preloadTimeout=null},16)}),void b(s+r,function(){i.off(r),t.wrap.off("click"+r),t.arrowLeft&&a&&t.arrowLeft.add(t.arrowRight).destroyMfpFastClick(),t.arrowRight=t.arrowLeft=null}))},next:function(){t.direction=!0,t.index=B(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=B(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,n=t.st.gallery.preload,i=Math.min(n[0],t.items.length),r=Math.min(n[1],t.items.length);for(e=1;e<=(t.direction?r:i);e++)t._preloadItem(t.index+e);for(e=1;e<=(t.direction?i:r);e++)t._preloadItem(t.index-e)},_preloadItem:function(n){if(n=B(n),!t.items[n].preloaded){var i=t.items[n];i.parsed||(i=t.parseEl(n)),C("LazyLoad",i),"image"===i.type&&(i.img=e('<img class="mfp-img" />').on("load.mfploader",function(){i.hasSize=!0}).on("error.mfploader",function(){i.hasSize=!0,i.loadError=!0,C("LazyLoadError",i)}).attr("src",i.src)),i.preloaded=!0}}}});var V="retina";e.magnificPopup.registerModule(V,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,n=e.ratio;(n=isNaN(n)?n():n)>1&&(b("ImageHasSize."+V,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/n,width:"100%"})}),b("ElementParse."+V,function(t,i){i.src=e.replaceSrc(i,n)}))}}}}),function(){var t="ontouchstart"in window,n=function(){k.off("touchmove"+i+" touchend"+i)},i=".mfpFastClick";e.fn.mfpFastClick=function(r){return e(this).each(function(){var o,a=e(this);if(t){var s,l,u,c,p,d;a.on("touchstart"+i,function(e){c=!1,d=1,p=e.originalEvent?e.originalEvent.touches[0]:e.touches[0],l=p.clientX,u=p.clientY,k.on("touchmove"+i,function(e){p=e.originalEvent?e.originalEvent.touches:e.touches,d=p.length,p=p[0],(Math.abs(p.clientX-l)>10||Math.abs(p.clientY-u)>10)&&(c=!0,n())}).on("touchend"+i,function(e){n(),c||d>1||(o=!0,e.preventDefault(),clearTimeout(s),s=setTimeout(function(){o=!1},1e3),r())})})}a.on("click"+i,function(){o||r()})})},e.fn.destroyMfpFastClick=function(){e(this).off("touchstart"+i+" click"+i),t&&k.off("touchmove"+i+" touchend"+i)}}(),_()}),function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,n){"use strict";var i,r,o;"function"==typeof Symbol&&Symbol.iterator,function(a){r=[n(2)],void 0!==(o="function"==typeof(i=a)?i.apply(t,r):i)&&(e.exports=o)}(function(e){return e})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a){r=[n(0),n(5),n(6)],void 0!==(o="function"==typeof(i=a)?i.apply(t,r):i)&&(e.exports=o)}(function(e,t,n,i){function r(t,n,a){if(!(this instanceof r))return new r(t,n,a);this.el=i,this.events={},this.maskset=i,this.refreshValue=!1,!0!==a&&(e.isPlainObject(t)?n=t:(n=n||{},t&&(n.alias=t)),this.opts=e.extend(!0,{},this.defaults,n),this.noMasksCache=n&&n.definitions!==i,this.userOptions=n||{},this.isRTL=this.opts.numericInput,o(this.opts.alias,n,this.opts))}function o(t,n,a){var s=r.prototype.aliases[t];return s?(s.alias&&o(s.alias,i,a),e.extend(!0,a,s),e.extend(!0,a,n),!0):(null===a.mask&&(a.mask=t),!1)}function s(t,n){function o(t,o,a){var s=!1;if(null!==t&&""!==t||((s=null!==a.regex)?t=(t=a.regex).replace(/^(\^)(.*)(\$)$/,"$2"):(s=!0,t=".*")),1===t.length&&!1===a.greedy&&0!==a.repeat&&(a.placeholder=""),a.repeat>0||"*"===a.repeat||"+"===a.repeat){var l="*"===a.repeat?0:"+"===a.repeat?1:a.repeat;t=a.groupmarker[0]+t+a.groupmarker[1]+a.quantifiermarker[0]+l+","+a.repeat+a.quantifiermarker[1]}var u,c=s?"regex_"+a.regex:a.numericInput?t.split("").reverse().join(""):t;return r.prototype.masksCache[c]===i||!0===n?(u={mask:t,maskToken:r.prototype.analyseMask(t,s,a),validPositions:{},_buffer:i,buffer:i,tests:{},excludes:{},metadata:o,maskLength:i},!0!==n&&(r.prototype.masksCache[c]=u,u=e.extend(!0,{},r.prototype.masksCache[c]))):u=e.extend(!0,{},r.prototype.masksCache[c]),u}if(e.isFunction(t.mask)&&(t.mask=t.mask(t)),e.isArray(t.mask)){if(t.mask.length>1){if(null===t.keepStatic){t.keepStatic="auto";for(var a=0;a<t.mask.length;a++)if(t.mask[a].charAt(0)!==t.mask[0].charAt(0)){t.keepStatic=!0;break}}var s=t.groupmarker[0];return e.each(t.numericInput?t.mask.reverse():t.mask,function(n,r){s.length>1&&(s+=t.groupmarker[1]+t.alternatormarker+t.groupmarker[0]),r.mask===i||e.isFunction(r.mask)?s+=r:s+=r.mask}),s+=t.groupmarker[1],o(s,t.mask,t)}t.mask=t.mask.pop()}return t.mask&&t.mask.mask!==i&&!e.isFunction(t.mask.mask)?o(t.mask.mask,t.mask,t):o(t.mask,t.mask,t)}function l(e){var t=n.createElement("input"),i="on"+e,r=i in t;return r||(t.setAttribute(i,"return;"),r="function"==typeof t[i]),t=null,r}function u(o,s,c){function h(e,t,n){t=t||0;var r,o,a,s=[],l=0,u=v();do{!0===e&&m().validPositions[l]?(o=(a=m().validPositions[l]).match,r=a.locator.slice(),s.push(!0===n?a.input:!1===n?o.nativeDef:N(l,o))):(o=(a=C(l,r,l-1)).match,r=a.locator.slice(),(!1===c.jitMasking||l<u||"number"==typeof c.jitMasking&&isFinite(c.jitMasking)&&c.jitMasking>l)&&s.push(!1===n?o.nativeDef:N(l,o))),"auto"===c.keepStatic&&o.newBlockMarker&&null!==o.fn&&(c.keepStatic=l-1),l++}while((Q===i||l<Q)&&(null!==o.fn||""!==o.def)||t>l);return""===s[s.length-1]&&s.pop(),!1===n&&m().maskLength!==i||(m().maskLength=l+1),s}function m(){return s}function g(e){var t=m();t.buffer=i,!0!==e&&(t.validPositions={},t.p=0)}function v(e,t,n){var r=-1,o=-1,a=n||m().validPositions;e===i&&(e=-1);for(var s in a){var l=parseInt(s);a[l]&&(t||!0!==a[l].generatedInput)&&(l<=e&&(r=l),l>=e&&(o=l))}return-1!==r&&e-r>1||o<e?r:o}function y(t,n,r,o){var a,s=t,l=e.extend(!0,{},m().validPositions),u=!1;for(m().p=t,a=n-1;a>=s;a--)m().validPositions[a]!==i&&(!0!==r&&(!m().validPositions[a].match.optionality&&function(e){var t=m().validPositions[e];if(t!==i&&null===t.match.fn){var n=m().validPositions[e-1],r=m().validPositions[e+1];return n!==i&&r!==i}return!1}(a)||!1===c.canClearPosition(m(),a,v(i,!0),o,c))||delete m().validPositions[a]);for(g(!0),a=s+1;a<=v();){for(;m().validPositions[s]!==i;)s++;if(a<s&&(a=s+1),m().validPositions[a]===i&&M(a))a++;else{var p=C(a);!1===u&&l[s]&&l[s].match.def===p.match.def?(m().validPositions[s]=e.extend(!0,{},l[s]),m().validPositions[s].input=p.input,delete m().validPositions[a],a++):_(s,p.match.def)?!1!==D(s,p.input||N(a),!0)&&(delete m().validPositions[a],a++,u=!0):M(a)||(a++,s--),s++}}g(!0)}function k(e,t,n){for(var r,o=w(e=e>0?e-1:0),a=o.alternation!==i?o.locator[o.alternation].toString().split(","):[],s=0;s<t.length&&(!((r=t[s]).match&&(c.greedy&&!0!==r.match.optionalQuantifier||(!1===r.match.optionality||!1===r.match.newBlockMarker)&&!0!==r.match.optionalQuantifier)&&(o.alternation===i||o.alternation!==r.alternation||r.locator[o.alternation]!==i&&A(r.locator[o.alternation].toString().split(","),a)))||!0===n&&(null!==r.match.fn||/[0-9a-bA-Z]/.test(r.match.def)));s++);return r}function b(e){var t=e.locator[e.alternation];return"string"==typeof t&&t.length>0&&(t=t.split(",")[0]),t!==i?t.toString():""}function x(e,t){for(var n=(e.alternation!=i?e.mloc[b(e)]:e.locator).join("");n.length<t;)n+="0";return n}function C(e,t,n){return m().validPositions[e]||k(e,S(e,t?t.slice():t,n))}function w(e){return m().validPositions[e]?m().validPositions[e]:S(e)[0]}function _(e,t){for(var n=!1,i=S(e),r=0;r<i.length;r++)if(i[r].match&&i[r].match.def===t){n=!0;break}return n}function S(t,n,r){function o(n,r,s,u){function h(s,u,g){function v(t,n){var i=0===e.inArray(t,n.matches);return i||e.each(n.matches,function(e,r){if(!0===r.isQuantifier&&(i=v(t,n.matches[e-1])))return!1}),i}function y(t,n,r){var o,a;if((m().tests[t]||m().validPositions[t])&&e.each(m().tests[t]||[m().validPositions[t]],function(e,t){if(t.mloc[n])return o=t,!1;var s=r!==i?r:t.alternation,l=t.locator[s]!==i?t.locator[s].toString().indexOf(n):-1;(a===i||l<a)&&-1!==l&&(o=t,a=l)}),o){var s=o.locator[o.alternation];return(o.mloc[n]||o.mloc[s]||o.locator).slice((r!==i?r:o.alternation)+1)}return r!==i?y(t,n):i}function k(e,t){function n(e){for(var t,n,i=[],r=0,o=e.length;r<o;r++)if("-"===e.charAt(r))for(n=e.charCodeAt(r+1);++t<n;)i.push(String.fromCharCode(t));else t=e.charCodeAt(r),i.push(e.charAt(r));return i.join("")}return c.regex&&null!==e.match.fn&&null!==t.match.fn?-1!==n(t.match.def.replace(/[\[\]]/g,"")).indexOf(n(e.match.def.replace(/[\[\]]/g,""))):e.match.def===t.match.nativeDef}function b(e,t){if(t===i||e.alternation===t.alternation&&-1===e.locator[e.alternation].toString().indexOf(t.locator[t.alternation])){e.mloc=e.mloc||{};var n=e.locator[e.alternation];if(n!==i){if("string"==typeof n&&(n=n.split(",")[0]),e.mloc[n]===i&&(e.mloc[n]=e.locator.slice()),t!==i){for(var r in t.mloc)"string"==typeof r&&(r=r.split(",")[0]),e.mloc[r]===i&&(e.mloc[r]=t.mloc[r]);e.locator[e.alternation]=Object.keys(e.mloc).join(",")}return!0}e.alternation=i}return!1}if(l>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+m().mask;if(l===t&&s.matches===i)return p.push({match:s,locator:u.reverse(),cd:f,mloc:{}}),!0;if(s.matches!==i){if(s.isGroup&&g!==s){if(s=h(n.matches[e.inArray(s,n.matches)+1],u))return!0}else if(s.isOptional){var x=s;if(s=o(s,r,u,g)){if(a=p[p.length-1].match,!v(a,x))return!0;d=!0,l=t}}else if(s.isAlternator){var C,w=s,_=[],S=p.slice(),O=u.length,P=r.length>0?r.shift():-1;if(-1===P||"string"==typeof P){var E,I=l,A=r.slice(),T=[];if("string"==typeof P)T=P.split(",");else for(E=0;E<w.matches.length;E++)T.push(E.toString());if(m().excludes[t]){for(var D=T.slice(),M=0,F=m().excludes[t].length;M<F;M++)T.splice(T.indexOf(m().excludes[t][M].toString()),1);0===T.length&&(m().excludes[t]=i,T=D)}(!0===c.keepStatic||isFinite(parseInt(c.keepStatic))&&I>=c.keepStatic)&&(T=T.slice(0,1));for(var $=0;$<T.length;$++){E=parseInt(T[$]),p=[],r=y(l,E,O)||A.slice(),w.matches[E]&&h(w.matches[E],[E].concat(u),g)&&(s=!0),C=p.slice(),l=I,p=[];for(var j=0;j<C.length;j++){var N=C[j],R=!1;N.alternation=N.alternation||O,b(N);for(var L=0;L<_.length;L++){var z=_[L];if("string"!=typeof P||N.alternation!==i&&-1!==e.inArray(N.locator[N.alternation].toString(),T)){if(N.match.nativeDef===z.match.nativeDef){R=!0,b(z,N);break}if(k(N,z)){b(N,z)&&(R=!0,_.splice(_.indexOf(z),0,N));break}if(k(z,N)){b(z,N);break}if(function(e,n){return null===e.match.fn&&null!==n.match.fn&&n.match.fn.test(e.match.def,m(),t,!1,c,!1)}(N,z)){b(N,z)&&(R=!0,_.splice(_.indexOf(z),0,N));break}}}R||_.push(N)}}p=S.concat(_),l=t,d=p.length>0,s=_.length>0,r=A.slice()}else s=h(w.matches[P]||n.matches[P],[P].concat(u),g);if(s)return!0}else if(s.isQuantifier&&g!==n.matches[e.inArray(s,n.matches)-1])for(var B=s,H=r.length>0?r.shift():0;H<(isNaN(B.quantifier.max)?H+1:B.quantifier.max)&&l<=t;H++){var V=n.matches[e.inArray(B,n.matches)-1];if(s=h(V,[H].concat(u),V)){if(a=p[p.length-1].match,a.optionalQuantifier=H>B.quantifier.min-1,v(a,V)){if(H>B.quantifier.min-1){d=!0,l=t;break}return!0}return!0}}else if(s=o(s,r,u,g))return!0}else l++}for(var g=r.length>0?r.shift():0;g<n.matches.length;g++)if(!0!==n.matches[g].isQuantifier){var v=h(n.matches[g],[g].concat(s),u);if(v&&l===t)return v;if(l>t)break}}var a,s=m().maskToken,l=n?r:0,u=n?n.slice():[0],p=[],d=!1,f=n?n.join(""):"";if(t>-1){if(n===i){for(var h,g=t-1;(h=m().validPositions[g]||m().tests[g])===i&&g>-1;)g--;h!==i&&g>-1&&(u=function(t,n){var r=[];return e.isArray(n)||(n=[n]),n.length>0&&(n[0].alternation===i?0===(r=k(t,n.slice()).locator.slice()).length&&(r=n[0].locator.slice()):e.each(n,function(e,t){if(""!==t.def)if(0===r.length)r=t.locator.slice();else for(var n=0;n<r.length;n++)t.locator[n]&&-1===r[n].toString().indexOf(t.locator[n])&&(r[n]+=","+t.locator[n])})),r}(g,h),f=u.join(""),l=g)}if(m().tests[t]&&m().tests[t][0].cd===f)return m().tests[t];for(var v=u.shift();v<s.length&&!(o(s[v],u,[v])&&l===t||l>t);v++);}return(0===p.length||d)&&p.push({match:{fn:null,optionality:!0,casing:null,def:"",placeholder:""},locator:[],mloc:{},cd:f}),n!==i&&m().tests[t]?e.extend(!0,[],p):(m().tests[t]=e.extend(!0,[],p),m().tests[t])}function O(){return m()._buffer===i&&(m()._buffer=h(!1,1),m().buffer===i&&(m().buffer=m()._buffer.slice())),m()._buffer}function P(e){return m().buffer!==i&&!0!==e||(m().buffer=h(!0,v(),!0)),m().buffer}function E(e,t,n){var r,o;if(!0===e)g(),e=0,t=n.length;else for(r=e;r<t;r++)delete m().validPositions[r];for(o=e,r=e;r<t;r++)if(g(!0),n[r]!==c.skipOptionalPartCharacter){var a=D(o,n[r],!0,!0);!1!==a&&(g(!0),o=a.caret!==i?a.caret:a.pos+1)}}function I(t,n,i){switch(c.casing||n.casing){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase();break;case"title":var o=m().validPositions[i-1];t=0===i||o&&o.input===String.fromCharCode(r.keyCode.SPACE)?t.toUpperCase():t.toLowerCase();break;default:if(e.isFunction(c.casing)){var a=Array.prototype.slice.call(arguments);a.push(m().validPositions),t=c.casing.apply(this,a)}}return t}function A(t,n,r){for(var o,a=c.greedy?n:n.slice(0,1),s=!1,l=r!==i?r.split(","):[],u=0;u<l.length;u++)-1!==(o=t.indexOf(l[u]))&&t.splice(o,1);for(var p=0;p<t.length;p++)if(-1!==e.inArray(t[p],a)){s=!0;break}return s}function T(t,n,r,o,a){var s,l,u,p,d,f,h,y=e.extend(!0,{},m().validPositions),k=!1,x=a!==i?a:v();if(-1===x&&a===i)l=(p=w(s=0)).alternation;else for(;x>=0;x--)if((u=m().validPositions[x])&&u.alternation!==i){if(p&&p.locator[u.alternation]!==u.locator[u.alternation])break;s=x,l=m().validPositions[s].alternation,p=u}if(l!==i){h=parseInt(s),m().excludes[h]=m().excludes[h]||[],!0!==t&&m().excludes[h].push(b(p));var C=[],_=0;for(d=h;d<v(i,!0)+1;d++)(f=m().validPositions[d])&&!0!==f.generatedInput&&/[0-9a-bA-Z]/.test(f.input)?C.push(f.input):d<t&&_++,delete m().validPositions[d];for(;m().excludes[h]&&m().excludes[h].length<10;){var S=-1*_,O=C.slice();for(m().tests[h]=i,g(!0),k=!0;O.length>0;){var P=O.shift();if(P!==c.skipOptionalPartCharacter&&!(k=D(v(i,!0)+1,P,!1,o,!0)))break}if(k&&n!==i){var E=v(t)+1;for(d=h;d<v()+1;d++)((f=m().validPositions[d])===i||null==f.match.fn)&&d<t+S&&S++;k=D((t+=S)>E?E:t,n,r,o,!0)}if(k)break;if(g(),p=w(h),m().validPositions=e.extend(!0,{},y),!m().excludes[h]){k=T(t,n,r,o,h-1);break}var I=b(p);if(-1!==m().excludes[h].indexOf(I)){k=T(t,n,r,o,h-1);break}for(m().excludes[h].push(I),d=h;d<v(i,!0)+1;d++)delete m().validPositions[d]}}return m().excludes[h]=i,k}function D(t,n,o,a,s,l){function u(e){var t=J?e.begin-e.end>1||e.begin-e.end==1:e.end-e.begin>1||e.end-e.begin==1;return t&&0===e.begin&&e.end===m().maskLength?"full":t}function p(n,r,o){var s=!1;return e.each(S(n),function(l,p){var d=p.match;if(P(!0),!1!==(s=null!=d.fn?d.fn.test(r,m(),n,o,c,u(t)):(r===d.def||r===c.skipOptionalPartCharacter)&&""!==d.def&&{c:N(n,d,!0)||d.def,pos:n})){var h=s.c!==i?s.c:r;h=h===c.skipOptionalPartCharacter&&null===d.fn?N(n,d,!0)||d.def:h;var k=n,b=P();if(s.remove!==i&&(e.isArray(s.remove)||(s.remove=[s.remove]),e.each(s.remove.sort(function(e,t){return t-e}),function(e,t){y(t,t+1,!0)})),s.insert!==i&&(e.isArray(s.insert)||(s.insert=[s.insert]),e.each(s.insert.sort(function(e,t){return e-t}),function(e,t){D(t.pos,t.c,!0,a)})),s.refreshFromBuffer){var x=s.refreshFromBuffer;if(E(!0===x?x:x.start,x.end,b),s.pos===i&&s.c===i)return s.pos=v(),!1;if((k=s.pos!==i?s.pos:n)!==n)return s=e.extend(s,D(k,h,!0,a)),!1}else if(!0!==s&&s.pos!==i&&s.pos!==n&&(k=s.pos,E(n,k,P().slice()),k!==n))return s=e.extend(s,D(k,h,!0)),!1;return(!0===s||s.pos!==i||s.c!==i)&&(l>0&&g(!0),f(k,e.extend({},p,{input:I(h,d,k)}),a,u(t))||(s=!1),!1)}}),s}function d(t,n,r){var o;if(t===i)for(t=n-1;t>0&&!m().validPositions[t];t--);for(var a=t;a<n;a++)if(m().validPositions[a]===i&&!M(a,!0)){var s=0==a?w(a):m().validPositions[a-1];if(s){var l,u=x(s),c=S(a).slice(),p=i,d=w(a);if(""===c[c.length-1].match.def&&c.pop(),e.each(c,function(e,t){l=x(t,u.length);var n=Math.abs(l-u);(p===i||n<p)&&null===t.match.fn&&!0!==t.match.optionality&&!0!==t.match.optionalQuantifier&&(p=n,d=t)}),d=e.extend({},d,{input:N(a,d.match,!0)||d.match.def}),d.generatedInput=!0,f(a,d,!0),!0!==r){var h=m().validPositions[n].input;m().validPositions[n]=i,o=D(n,h,!0,!0)}}}return o}function f(t,n,r,o){if(o||c.insertMode&&m().validPositions[t]!==i&&r===i){var a,s=e.extend(!0,{},m().validPositions),l=v(i,!0);for(a=t;a<=l;a++)delete m().validPositions[a];m().validPositions[t]=e.extend(!0,{},n);var u,p=!0,f=m().validPositions,h=!1,y=m().maskLength;for(a=u=t;a<=l;a++){var k=s[a];if(k!==i)for(var b=u;b<m().maskLength&&(null===k.match.fn&&f[a]&&(!0===f[a].match.optionalQuantifier||!0===f[a].match.optionality)||null!=k.match.fn);){if(b++,!1===h&&s[b]&&s[b].match.def===k.match.def)m().validPositions[b]=e.extend(!0,{},s[b]),m().validPositions[b].input=k.input,d(i,b,!0),u=b,p=!0;else if(_(b,k.match.def)){var x=D(b,k.input,!0,!0);p=!1!==x,u=x.caret||x.insert?v():b,h=!0}else if(!(p=!0===k.generatedInput)&&b>=m().maskLength-1)break;if(m().maskLength<y&&(m().maskLength=y),p)break}if(!p)break}if(!p)return m().validPositions=e.extend(!0,{},s),g(!0),!1}else m().validPositions[t]=e.extend(!0,{},n);return g(!0),!0}o=!0===o;var h=t;t.begin!==i&&(h=J&&!u(t)?t.end:t.begin);var k=!0,b=e.extend(!0,{},m().validPositions);if(e.isFunction(c.preValidation)&&!o&&!0!==a&&!0!==l&&(k=c.preValidation(P(),h,n,u(t),c)),!0===k){if(d(i,h,!0),u(t)&&(G(i,r.keyCode.DELETE,t,!0,!0),h=m().p),h<m().maskLength&&(Q===i||h<Q)&&(k=p(h,n,o),(!o||!0===a)&&!1===k&&!0!==l)){var C=m().validPositions[h];if(!C||null!==C.match.fn||C.match.def!==n&&n!==c.skipOptionalPartCharacter){if((c.insertMode||m().validPositions[F(h)]===i)&&!M(h,!0))for(var O=h+1,A=F(h);O<=A;O++)if(!1!==(k=p(O,n,o))){k=d(h,k.pos!==i?k.pos:O)||k,h=O;break}}else k={caret:F(h)}}!1!==k||null===c.keepStatic||!1===c.keepStatic||o||!0===s||(k=T(h,n,o,a)),!0===k&&(k={pos:h})}if(e.isFunction(c.postValidation)&&!1!==k&&!o&&!0!==a&&!0!==l){var $=c.postValidation(P(!0),k,c);if($!==i){if($.refreshFromBuffer&&$.buffer){var j=$.refreshFromBuffer;E(!0===j?j:j.start,j.end,$.buffer)}k=!0===$?k:$}}return k&&k.pos===i&&(k.pos=h),!1!==k&&!0!==l||(g(!0),m().validPositions=e.extend(!0,{},b)),k}function M(e,t){var n=C(e).match;if(""===n.def&&(n=w(e).match),null!=n.fn)return n.fn;if(!0!==t&&e>-1){var i=S(e);return i.length>1+(""===i[i.length-1].match.def?1:0)}return!1}function F(e,t){var n=m().maskLength;if(e>=n)return n;var i=e;for(S(n+1).length>1&&(n=h(!0,n+1,!1).kength);++i<n&&(!0===t&&(!0!==w(i).match.newBlockMarker||!M(i))||!0!==t&&!M(i)););return i}function $(e,t){var n,i=e;if(i<=0)return 0;for(;--i>0&&(!0===t&&!0!==w(i).match.newBlockMarker||!0!==t&&!M(i)&&((n=S(i)).length<2||2===n.length&&""===n[1].match.def)););return i}function j(t,n,r,o,a){if(o&&e.isFunction(c.onBeforeWrite)){var s=c.onBeforeWrite.call(X,o,n,r,c);if(s){if(s.refreshFromBuffer){var l=s.refreshFromBuffer;E(!0===l?l:l.start,l.end,s.buffer||n),n=P(!0)}r!==i&&(r=s.caret!==i?s.caret:r)}}t!==i&&(t.inputmask._valueSet(n.join("")),r===i||o!==i&&"blur"===o.type?q(t,r,0===n.length):z(t,r),!0===a&&(te=!0,e(t).trigger("input")))}function N(t,n,r){if((n=n||w(t).match).placeholder!==i||!0===r)return e.isFunction(n.placeholder)?n.placeholder(c):n.placeholder;if(null===n.fn){if(t>-1&&m().validPositions[t]===i){var o,a=S(t),s=[];if(a.length>1+(""===a[a.length-1].match.def?1:0))for(var l=0;l<a.length;l++)if(!0!==a[l].match.optionality&&!0!==a[l].match.optionalQuantifier&&(null===a[l].match.fn||o===i||!1!==a[l].match.fn.test(o.match.def,m(),t,!0,c))&&(s.push(a[l]),null===a[l].match.fn&&(o=a[l]),s.length>1&&/[0-9a-bA-Z]/.test(s[0].match.def)))return c.placeholder.charAt(t%c.placeholder.length)}return n.def}return c.placeholder.charAt(t%c.placeholder.length)}function R(t,n,o,a,s){function l(e,t){return-1!==h(!0,0,!1).slice(e,F(e)).join("").indexOf(t)&&!M(e)&&(w(e).match.nativeDef===t.charAt(0)||" "===w(e).match.nativeDef&&w(e+1).match.nativeDef===t.charAt(0))}var u=a.slice(),p="",d=-1,f=i;if(g(),o||!0===c.autoUnmask)d=F(d);else{var y=O().slice(0,F(-1)).join(""),k=u.join("").match(new RegExp("^"+r.escapeRegex(y),"g"));k&&k.length>0&&(u.splice(0,k.length*y.length),d=F(d))}-1===d?(m().p=F(d),d=0):m().p=d,e.each(u,function(n,r){if(r!==i)if(m().validPositions[n]===i&&u[n]===N(n)&&M(n,!0)&&!1===D(n,u[n],!0,i,i,!0))m().p++;else{var a=new e.Event("_checkval");a.which=r.charCodeAt(0),p+=r;var s=v(i,!0),h=w(s),g=C(s+1,h?h.locator.slice():i,s);if(!l(d,p)||o||c.autoUnmask){var y=o?n:null==g.match.fn&&g.match.optionality&&s+1<m().p?s+1:m().p;(f=ae.keypressEvent.call(t,a,!0,!1,o,y))&&(d=y+1,p="")}else f=ae.keypressEvent.call(t,a,!0,!1,!0,s+1);j(i,P(),f.forwardPosition,a,!1)}}),n&&j(t,P(),f?f.forwardPosition:i,s||new e.Event("checkval"),s&&"input"===s.type)}function L(t){if(t){if(t.inputmask===i)return t.value;t.inputmask&&t.inputmask.refreshValue&&ae.setValueEvent.call(t)}var n=[],r=m().validPositions;for(var o in r)r[o].match&&null!=r[o].match.fn&&n.push(r[o].input);var a=0===n.length?"":(J?n.reverse():n).join("");if(e.isFunction(c.onUnMask)){var s=(J?P().slice().reverse():P()).join("");a=c.onUnMask.call(X,s,a,c)}return a}function z(r,o,a,s){function l(e){return!0===s||!J||"number"!=typeof e||c.greedy&&""===c.placeholder||(e=r.inputmask.__valueGet.call(r).length-e),e}var u;if(o===i)return r.setSelectionRange?(o=r.selectionStart,a=r.selectionEnd):t.getSelection?(u=t.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==r&&u.commonAncestorContainer!==r||(o=u.startOffset,a=u.endOffset):n.selection&&n.selection.createRange&&(a=(o=0-(u=n.selection.createRange()).duplicate().moveStart("character",-r.inputmask._valueGet().length))+u.text.length),{begin:l(o),end:l(a)};if(e.isArray(o)&&(a=J?o[0]:o[1],o=J?o[1]:o[0]),o.begin!==i&&(a=J?o.begin:o.end,o=J?o.end:o.begin),"number"==typeof o){o=l(o),a="number"==typeof(a=l(a))?a:o;var p=parseInt(((r.ownerDocument.defaultView||t).getComputedStyle?(r.ownerDocument.defaultView||t).getComputedStyle(r,null):r.currentStyle).fontSize)*a;if(r.scrollLeft=p>r.scrollWidth?p:0,!1===c.insertMode&&o===a&&a++,r.inputmask.caretPos={begin:o,end:a},r.setSelectionRange)r.selectionStart=o,r.selectionEnd=a;else if(t.getSelection){if(u=n.createRange(),r.firstChild===i||null===r.firstChild){var d=n.createTextNode("");r.appendChild(d)}u.setStart(r.firstChild,o<r.inputmask._valueGet().length?o:r.inputmask._valueGet().length),u.setEnd(r.firstChild,a<r.inputmask._valueGet().length?a:r.inputmask._valueGet().length),u.collapse(!0);var f=t.getSelection();f.removeAllRanges(),f.addRange(u)}else r.createTextRange&&((u=r.createTextRange()).collapse(!0),u.moveEnd("character",a),u.moveStart("character",o),u.select());q(r,{begin:o,end:a})}}function B(t){var n,r,o=P(),a=o.length,s=v(),l={},u=m().validPositions[s],c=u!==i?u.locator.slice():i;for(n=s+1;n<o.length;n++)c=(r=C(n,c,n-1)).locator.slice(),l[n]=e.extend(!0,{},r);var p=u&&u.alternation!==i?u.locator[u.alternation]:i;for(n=a-1;n>s&&((r=l[n]).match.optionality||r.match.optionalQuantifier&&r.match.newBlockMarker||p&&(p!==l[n].locator[u.alternation]&&null!=r.match.fn||null===r.match.fn&&r.locator[u.alternation]&&A(r.locator[u.alternation].toString().split(","),p.toString().split(","))&&""!==S(n)[0].def))&&o[n]===N(n,r.match);n--)a--;return t?{l:a,def:l[a]?l[a].match:i}:a}function H(e){for(var t,n=B(),r=e.length,o=m().validPositions[v()];n<r&&!M(n,!0)&&(t=o!==i?C(n,o.locator.slice(""),o):w(n))&&!0!==t.match.optionality&&(!0!==t.match.optionalQuantifier&&!0!==t.match.newBlockMarker||n+1===r&&""===(o!==i?C(n+1,o.locator.slice(""),o):w(n+1)).match.def);)n++;for(;(t=m().validPositions[n-1])&&t&&t.match.optionality&&t.input===c.skipOptionalPartCharacter;)n--;return e.splice(n),e}function V(t){if(e.isFunction(c.isComplete))return c.isComplete(t,c);if("*"===c.repeat)return i;var n=!1,r=B(!0),o=$(r.l);if(r.def===i||r.def.newBlockMarker||r.def.optionality||r.def.optionalQuantifier){n=!0;for(var a=0;a<=o;a++){var s=C(a).match;if(null!==s.fn&&m().validPositions[a]===i&&!0!==s.optionality&&!0!==s.optionalQuantifier||null===s.fn&&t[a]!==N(a,s)){n=!1;break}}}return n}function G(e,t,n,o,a){if((c.numericInput||J)&&(t===r.keyCode.BACKSPACE?t=r.keyCode.DELETE:t===r.keyCode.DELETE&&(t=r.keyCode.BACKSPACE),J)){var s=n.end;n.end=n.begin,n.begin=s}if(t===r.keyCode.BACKSPACE&&(n.end-n.begin<1||!1===c.insertMode)?(n.begin=$(n.begin),m().validPositions[n.begin]!==i&&m().validPositions[n.begin].input===c.groupSeparator&&n.begin--):t===r.keyCode.DELETE&&n.begin===n.end&&(n.end=M(n.end,!0)&&m().validPositions[n.end]&&m().validPositions[n.end].input!==c.radixPoint?n.end+1:F(n.end)+1,m().validPositions[n.begin]!==i&&m().validPositions[n.begin].input===c.groupSeparator&&n.end++),y(n.begin,n.end,!1,o),!0!==o&&null!==c.keepStatic&&!1!==c.keepStatic){var l=T(!0);l&&(n.begin=l.caret!==i?l.caret:l.pos?F(l.pos.begin?l.pos.begin:l.pos):v(-1,!0))}var u=v(n.begin,!0);if(u<n.begin||-1===n.begin)m().p=F(u);else if(!0!==o&&(m().p=n.begin,!0!==a))for(;m().p<u&&m().validPositions[m().p]===i;)m().p++}function K(i){function r(e){var t,r=n.createElement("span");for(var a in o)isNaN(a)&&-1!==a.indexOf("font")&&(r.style[a]=o[a]);r.style.textTransform=o.textTransform,r.style.letterSpacing=o.letterSpacing,r.style.position="absolute",r.style.height="auto",r.style.width="auto",r.style.visibility="hidden",r.style.whiteSpace="nowrap",n.body.appendChild(r);var s,l=i.inputmask._valueGet(),u=0;for(t=0,s=l.length;t<=s;t++){if(r.innerHTML+=l.charAt(t)||"_",r.offsetWidth>=e){var c=e-u,p=r.offsetWidth-e;r.innerHTML=l.charAt(t),t=(c-=r.offsetWidth/3)<p?t-1:t;break}u=r.offsetWidth}return n.body.removeChild(r),t}var o=(i.ownerDocument.defaultView||t).getComputedStyle(i,null),a=n.createElement("div");a.style.width=o.width,a.style.textAlign=o.textAlign,Z=n.createElement("div"),i.inputmask.colorMask=Z,Z.className="im-colormask",i.parentNode.insertBefore(Z,i),i.parentNode.removeChild(i),Z.appendChild(a),Z.appendChild(i),i.style.left=a.offsetLeft+"px",e(i).on("click",function(e){return z(i,r(e.clientX)),ae.clickEvent.call(i,[e])}),e(i).on("keydown",function(e){e.shiftKey||!1===c.insertMode||setTimeout(function(){q(i)},0)})}function q(e,t,r){function o(e){if(e===i&&(e=""),p||null!==a.fn&&s.input!==i)if(p&&(null!==a.fn&&s.input!==i||""===a.def)){p=!1;var t=u.length;u[t-1]=u[t-1]+"</span>",u.push(e)}else u.push(e);else p=!0,u.push("<span class='im-static'>"+e)}var a,s,l,u=[],p=!1,d=0;if(Z!==i){var f=P();if(t===i?t=z(e):t.begin===i&&(t={begin:t,end:t}),!0!==r){var h=v();do{m().validPositions[d]?(s=m().validPositions[d],a=s.match,l=s.locator.slice(),o(f[d])):(s=C(d,l,d-1),a=s.match,l=s.locator.slice(),(!1===c.jitMasking||d<h||"number"==typeof c.jitMasking&&isFinite(c.jitMasking)&&c.jitMasking>d)&&o(N(d,a))),d++}while((Q===i||d<Q)&&(null!==a.fn||""!==a.def)||h>d||p);p&&o(),n.activeElement===e&&(u.splice(t.begin,0,t.begin===t.end?'<mark class="im-caret" style="border-right-width: 1px;border-right-style: solid;">':'<mark class="im-caret-select">'),u.splice(t.end+1,0,"</mark>"))}var g=Z.getElementsByTagName("div")[0];g.innerHTML=u.join(""),e.inputmask.positionColorMask(e,g)}}s=s||this.maskset,c=c||this.opts;var U,W,Q,Z,X=this,Y=this.el,J=this.isRTL,ee=!1,te=!1,ne=!1,ie=!1,re=!1,oe={on:function(t,n,o){var a=function(t){var n=this;if(n.inputmask===i&&"FORM"!==this.nodeName){var a=e.data(n,"_inputmask_opts");a?new r(a).mask(n):oe.off(n)}else{if("setvalue"===t.type||"FORM"===this.nodeName||!(n.disabled||n.readOnly&&!("keydown"===t.type&&t.ctrlKey&&67===t.keyCode||!1===c.tabThrough&&t.keyCode===r.keyCode.TAB))){switch(t.type){case"input":if(!0===te)return te=!1,t.preventDefault();p&&(re=!0);break;case"keydown":ee=!1,te=!1;break;case"keypress":if(!0===ee)return t.preventDefault();ee=!0;break;case"click":if(d||f){var s=arguments;return setTimeout(function(){o.apply(n,s)},0),!1}}var l=o.apply(n,arguments);return re&&(re=!1,setTimeout(function(){z(n,n.inputmask.caretPos,i,!0)})),!1===l&&(t.preventDefault(),t.stopPropagation()),l}t.preventDefault()}};t.inputmask.events[n]=t.inputmask.events[n]||[],t.inputmask.events[n].push(a),-1!==e.inArray(n,["submit","reset"])?null!==t.form&&e(t.form).on(n,a):e(t).on(n,a)},off:function(t,n){if(t.inputmask&&t.inputmask.events){var i;n?(i=[])[n]=t.inputmask.events[n]:i=t.inputmask.events,e.each(i,function(n,i){for(;i.length>0;){var r=i.pop();-1!==e.inArray(n,["submit","reset"])?null!==t.form&&e(t.form).off(n,r):e(t).off(n,r)}delete t.inputmask.events[n]})}}},ae={keydownEvent:function(t){var n=this,i=e(n),o=t.keyCode,a=z(n);if(o===r.keyCode.BACKSPACE||o===r.keyCode.DELETE||f&&o===r.keyCode.BACKSPACE_SAFARI||t.ctrlKey&&o===r.keyCode.X&&!l("cut"))t.preventDefault(),G(0,o,a),j(n,P(!0),m().p,t,n.inputmask._valueGet()!==P().join("")),n.inputmask._valueGet()===O().join("")?i.trigger("cleared"):!0===V(P())&&i.trigger("complete");else if(o===r.keyCode.END||o===r.keyCode.PAGE_DOWN){t.preventDefault();var s=F(v());c.insertMode||s!==m().maskLength||t.shiftKey||s--,z(n,t.shiftKey?a.begin:s,s,!0)}else o===r.keyCode.HOME&&!t.shiftKey||o===r.keyCode.PAGE_UP?(t.preventDefault(),z(n,0,t.shiftKey?a.begin:0,!0)):(c.undoOnEscape&&o===r.keyCode.ESCAPE||90===o&&t.ctrlKey)&&!0!==t.altKey?(R(n,!0,!1,U.split("")),i.trigger("click")):o!==r.keyCode.INSERT||t.shiftKey||t.ctrlKey?!0===c.tabThrough&&o===r.keyCode.TAB?(!0===t.shiftKey?(null===w(a.begin).match.fn&&(a.begin=F(a.begin)),a.end=$(a.begin,!0),a.begin=$(a.end,!0)):(a.begin=F(a.begin,!0),a.end=F(a.begin,!0),a.end<m().maskLength&&a.end--),a.begin<m().maskLength&&(t.preventDefault(),z(n,a.begin,a.end))):t.shiftKey||!1===c.insertMode&&(o===r.keyCode.RIGHT?setTimeout(function(){var e=z(n);z(n,e.begin)},0):o===r.keyCode.LEFT&&setTimeout(function(){var e=z(n);z(n,J?e.begin+1:e.begin-1)},0)):(c.insertMode=!c.insertMode,z(n,c.insertMode||a.begin!==m().maskLength?a.begin:a.begin-1));c.onKeyDown.call(this,t,P(),z(n).begin,c),ne=-1!==e.inArray(o,c.ignorables)},keypressEvent:function(t,n,o,a,s){var l=this,u=e(l),p=t.which||t.charCode||t.keyCode;if(!(!0===n||t.ctrlKey&&t.altKey)&&(t.ctrlKey||t.metaKey||ne))return p===r.keyCode.ENTER&&U!==P().join("")&&(U=P().join(""),setTimeout(function(){u.trigger("change")},0)),!0;if(p){46===p&&!1===t.shiftKey&&""!==c.radixPoint&&(p=c.radixPoint.charCodeAt(0));var d,f=n?{begin:s,end:s}:z(l),h=String.fromCharCode(p);m().writeOutBuffer=!0;var v=D(f,h,a);if(!1!==v&&(g(!0),d=v.caret!==i?v.caret:F(v.pos.begin?v.pos.begin:v.pos),m().p=d),d=c.numericInput&&v.caret===i?$(d):d,!1!==o&&(setTimeout(function(){c.onKeyValidation.call(l,p,v,c)},0),m().writeOutBuffer&&!1!==v)){var y=P();j(l,y,d,t,!0!==n),!0!==n&&setTimeout(function(){!0===V(y)&&u.trigger("complete")},0)}if(t.preventDefault(),n)return!1!==v&&(v.forwardPosition=d),v}},pasteEvent:function(n){var i,r=this,o=n.originalEvent||n,a=e(r),s=r.inputmask._valueGet(!0),l=z(r);J&&(i=l.end,l.end=l.begin,l.begin=i);var u=s.substr(0,l.begin),p=s.substr(l.end,s.length);if(u===(J?O().reverse():O()).slice(0,l.begin).join("")&&(u=""),p===(J?O().reverse():O()).slice(l.end).join("")&&(p=""),J&&(i=u,u=p,p=i),t.clipboardData&&t.clipboardData.getData)s=u+t.clipboardData.getData("Text")+p;else{if(!o.clipboardData||!o.clipboardData.getData)return!0;s=u+o.clipboardData.getData("text/plain")+p}var d=s;if(e.isFunction(c.onBeforePaste)){if(!1===(d=c.onBeforePaste.call(X,s,c)))return n.preventDefault();d||(d=s)}return R(r,!1,!1,J?d.split("").reverse():d.toString().split("")),j(r,P(),F(v()),n,U!==P().join("")),!0===V(P())&&a.trigger("complete"),n.preventDefault()},inputFallBackEvent:function(t){var n=this,i=n.inputmask._valueGet();if(P().join("")!==i){var o=z(n);if(i=function(e,t,n){return"."===t.charAt(n.begin-1)&&""!==c.radixPoint&&((t=t.split(""))[n.begin-1]=c.radixPoint.charAt(0),t=t.join("")),t}(0,i,o),i=function(e,t,n){if(d){var i=t.replace(P().join(""),"");if(1===i.length){var r=t.split("");r.splice(n.begin,0,i),t=r.join("")}}return t}(0,i,o),P().join("")!==i){var a=P().join(""),s=i.length>a.length?-1:0,l=i.substr(0,o.begin),u=i.substr(o.begin),p=a.substr(0,o.begin+s),f=a.substr(o.begin+s),h=o,m="",g=!1;if(l!==p){for(var v=(g=l.length>=p.length)?l.length:p.length,y=0;l.charAt(y)===p.charAt(y)&&y<v;y++);g&&(0===s&&(h.begin=y),m+=l.slice(y,h.end))}if(u!==f&&(u.length>f.length?m+=u.slice(0,1):u.length<f.length&&(h.end+=f.length-u.length,g||""===c.radixPoint||""!==u||l.charAt(h.begin+s-1)!==c.radixPoint||(h.begin--,m=c.radixPoint))),j(n,P(),{begin:h.begin+s,end:h.end+s}),m.length>0)e.each(m.split(""),function(t,i){var r=new e.Event("keypress");r.which=i.charCodeAt(0),ne=!1,ae.keypressEvent.call(n,r)});else{h.begin===h.end-1&&(h.begin=$(h.begin+1),h.begin===h.end-1?z(n,h.begin):z(n,h.begin,h.end));var k=new e.Event("keydown");k.keyCode=r.keyCode.DELETE,ae.keydownEvent.call(n,k),!1===c.insertMode&&z(n,z(n).begin-1)}t.preventDefault()}}},setValueEvent:function(t){this.inputmask.refreshValue=!1;var n=this,i=n.inputmask._valueGet(!0);e.isFunction(c.onBeforeMask)&&(i=c.onBeforeMask.call(X,i,c)||i),i=i.split(""),R(n,!0,!1,J?i.reverse():i),U=P().join(""),(c.clearMaskOnLostFocus||c.clearIncomplete)&&n.inputmask._valueGet()===O().join("")&&n.inputmask._valueSet("")},focusEvent:function(e){var t=this,n=t.inputmask._valueGet();c.showMaskOnFocus&&(!c.showMaskOnHover||c.showMaskOnHover&&""===n)&&(t.inputmask._valueGet()!==P().join("")?j(t,P(),F(v())):!1===ie&&z(t,F(v()))),!0===c.positionCaretOnTab&&!1===ie&&ae.clickEvent.apply(t,[e,!0]),U=P().join("")},mouseleaveEvent:function(e){var t=this;if(ie=!1,c.clearMaskOnLostFocus&&n.activeElement!==t){var i=P().slice(),r=t.inputmask._valueGet();r!==t.getAttribute("placeholder")&&""!==r&&(-1===v()&&r===O().join("")?i=[]:H(i),j(t,i))}},clickEvent:function(t,r){function o(t){if(""!==c.radixPoint){var n=m().validPositions;if(n[t]===i||n[t].input===N(t)){if(t<F(-1))return!0;var r=e.inArray(c.radixPoint,P());if(-1!==r){for(var o in n)if(r<o&&n[o].input!==N(o))return!1;return!0}}}return!1}var a=this;setTimeout(function(){if(n.activeElement===a){var e=z(a);if(r&&(J?e.end=e.begin:e.begin=e.end),e.begin===e.end)switch(c.positionCaretOnClick){case"none":break;case"select":z(a,0,P().length);break;case"radixFocus":if(o(e.begin)){var t=P().join("").indexOf(c.radixPoint);z(a,c.numericInput?F(t):t);break}default:var s=e.begin,l=v(s,!0),u=F(l);if(s<u)z(a,M(s,!0)||M(s-1,!0)?s:F(s));else{var p=m().validPositions[l],d=C(u,p?p.match.locator:i,p),f=N(u,d.match);if(""!==f&&P()[u]!==f&&!0!==d.match.optionalQuantifier&&!0!==d.match.newBlockMarker||!M(u,!0)&&d.match.def===f){var h=F(u);(s>=h||s===u)&&(u=h)}z(a,u)}}}},0)},dblclickEvent:function(e){var t=this;setTimeout(function(){z(t,0,F(v()))},0)},cutEvent:function(i){var o=this,a=e(o),s=z(o),l=i.originalEvent||i,u=t.clipboardData||l.clipboardData,c=J?P().slice(s.end,s.begin):P().slice(s.begin,s.end);u.setData("text",J?c.reverse().join(""):c.join("")),n.execCommand&&n.execCommand("copy"),G(0,r.keyCode.DELETE,s),j(o,P(),m().p,i,U!==P().join("")),o.inputmask._valueGet()===O().join("")&&a.trigger("cleared")},blurEvent:function(t){var n=e(this),r=this;if(r.inputmask){var o=r.inputmask._valueGet(),a=P().slice();""===o&&Z===i||(c.clearMaskOnLostFocus&&(-1===v()&&o===O().join("")?a=[]:H(a)),!1===V(a)&&(setTimeout(function(){n.trigger("incomplete")},0),c.clearIncomplete&&(g(),a=c.clearMaskOnLostFocus?[]:O().slice())),j(r,a,i,t)),U!==P().join("")&&(U=a.join(""),n.trigger("change"))}},mouseenterEvent:function(e){var t=this;ie=!0,n.activeElement!==t&&c.showMaskOnHover&&t.inputmask._valueGet()!==P().join("")&&j(t,P())},submitEvent:function(e){U!==P().join("")&&W.trigger("change"),c.clearMaskOnLostFocus&&-1===v()&&Y.inputmask._valueGet&&Y.inputmask._valueGet()===O().join("")&&Y.inputmask._valueSet(""),c.removeMaskOnSubmit&&(Y.inputmask._valueSet(Y.inputmask.unmaskedvalue(),!0),setTimeout(function(){j(Y,P())},0))},resetEvent:function(e){Y.inputmask.refreshValue=!0,setTimeout(function(){W.trigger("setvalue")},0)}};r.prototype.positionColorMask=function(e,t){e.style.left=t.offsetLeft+"px"};var se;if(o!==i)switch(o.action){case"isComplete":return Y=o.el,V(P());case"unmaskedvalue":return Y!==i&&o.value===i||(se=o.value,se=(e.isFunction(c.onBeforeMask)?c.onBeforeMask.call(X,se,c)||se:se).split(""),R(i,!1,!1,J?se.reverse():se),e.isFunction(c.onBeforeWrite)&&c.onBeforeWrite.call(X,i,P(),0,c)),L(Y);case"mask":!function(t){oe.off(t);var r=function(t,r){var o=t.getAttribute("type"),s="INPUT"===t.tagName&&-1!==e.inArray(o,r.supportsInputType)||t.isContentEditable||"TEXTAREA"===t.tagName;if(!s)if("INPUT"===t.tagName){var l=n.createElement("input");l.setAttribute("type",o),s="text"===l.type,l=null}else s="partial";return!1!==s?function(t){function o(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==v()||!0!==r.nullable?n.activeElement===this&&r.clearMaskOnLostFocus?(J?H(P().slice()).reverse():H(P().slice())).join(""):l.call(this):"":l.call(this)}function s(t){u.call(this,t),this.inputmask&&e(this).trigger("setvalue")}var l,u;if(!t.inputmask.__valueGet){if(!0!==r.noValuePatching){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===a("test".__proto__)?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var c=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):i;c&&c.get&&c.set?(l=c.get,u=c.set,Object.defineProperty(t,"value",{get:o,set:s,configurable:!0})):"INPUT"!==t.tagName&&(l=function(){return this.textContent},u=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:o,set:s,configurable:!0}))}else n.__lookupGetter__&&t.__lookupGetter__("value")&&(l=t.__lookupGetter__("value"),u=t.__lookupSetter__("value"),t.__defineGetter__("value",o),t.__defineSetter__("value",s));t.inputmask.__valueGet=l,t.inputmask.__valueSet=u}t.inputmask._valueGet=function(e){return J&&!0!==e?l.call(this.el).split("").reverse().join(""):l.call(this.el)},t.inputmask._valueSet=function(e,t){u.call(this.el,null===e||e===i?"":!0!==t&&J?e.split("").reverse().join(""):e)},l===i&&(l=function(){return this.value},u=function(e){this.value=e},function(t){if(e.valHooks&&(e.valHooks[t]===i||!0!==e.valHooks[t].inputmaskpatch)){var n=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},o=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var t=n(e);return-1!==v(i,i,e.inputmask.maskset.validPositions)||!0!==r.nullable?t:""}return n(e)},set:function(t,n){var i,r=e(t);return i=o(t,n),t.inputmask&&r.trigger("setvalue"),i},inputmaskpatch:!0}}}(t.type),function(t){oe.on(t,"mouseenter",function(t){var n=e(this);this.inputmask._valueGet()!==P().join("")&&n.trigger("setvalue")})}(t))}}(t):t.inputmask=i,s}(t,c);if(!1!==r&&(Y=t,W=e(Y),-1===(Q=Y!==i?Y.maxLength:i)&&(Q=i),!0===c.colorMask&&K(Y),p&&("inputmode"in Y&&(Y.inputmode=c.inputmode,Y.setAttribute("inputmode",c.inputmode)),!0===c.disablePredictiveText&&("autocorrect"in Y?Y.autocorrect=!1:(!0!==c.colorMask&&K(Y),Y.type="password"))),!0===r&&(oe.on(Y,"submit",ae.submitEvent),oe.on(Y,"reset",ae.resetEvent),oe.on(Y,"mouseenter",ae.mouseenterEvent),oe.on(Y,"blur",ae.blurEvent),oe.on(Y,"focus",ae.focusEvent),oe.on(Y,"mouseleave",ae.mouseleaveEvent),!0!==c.colorMask&&oe.on(Y,"click",ae.clickEvent),oe.on(Y,"dblclick",ae.dblclickEvent),oe.on(Y,"paste",ae.pasteEvent),oe.on(Y,"dragdrop",ae.pasteEvent),oe.on(Y,"drop",ae.pasteEvent),oe.on(Y,"cut",ae.cutEvent),oe.on(Y,"complete",c.oncomplete),oe.on(Y,"incomplete",c.onincomplete),oe.on(Y,"cleared",c.oncleared),p||!0===c.inputEventOnly?Y.removeAttribute("maxLength"):(oe.on(Y,"keydown",ae.keydownEvent),oe.on(Y,"keypress",ae.keypressEvent)),oe.on(Y,"compositionstart",e.noop),oe.on(Y,"compositionupdate",e.noop),oe.on(Y,"compositionend",e.noop),oe.on(Y,"keyup",e.noop),oe.on(Y,"input",ae.inputFallBackEvent),oe.on(Y,"beforeinput",e.noop)),oe.on(Y,"setvalue",ae.setValueEvent),U=O().join(""),""!==Y.inputmask._valueGet(!0)||!1===c.clearMaskOnLostFocus||n.activeElement===Y)){var o=e.isFunction(c.onBeforeMask)?c.onBeforeMask.call(X,Y.inputmask._valueGet(!0),c)||Y.inputmask._valueGet(!0):Y.inputmask._valueGet(!0);""!==o&&R(Y,!0,!1,J?o.split("").reverse():o.split(""));var s=P().slice();U=s.join(""),!1===V(s)&&c.clearIncomplete&&g(),c.clearMaskOnLostFocus&&n.activeElement!==Y&&(-1===v()?s=[]:H(s)),j(Y,s),n.activeElement===Y&&z(Y,F(v()))}}(Y);break;case"format":return se=(e.isFunction(c.onBeforeMask)?c.onBeforeMask.call(X,o.value,c)||o.value:o.value).split(""),R(i,!0,!1,J?se.reverse():se),o.metadata?{value:J?P().slice().reverse().join(""):P().join(""),metadata:u.call(this,{action:"getmetadata"},s,c)}:J?P().slice().reverse().join(""):P().join("");case"isValid":o.value?(se=o.value.split(""),R(i,!0,!0,J?se.reverse():se)):o.value=P().join("");for(var le=P(),ue=B(),ce=le.length-1;ce>ue&&!M(ce);ce--);return le.splice(ue,ce+1-ue),V(le)&&o.value===P().join("");case"getemptymask":return O().join("");case"remove":return Y&&Y.inputmask&&(W=e(Y),Y.inputmask._valueSet(c.autoUnmask?L(Y):Y.inputmask._valueGet(!0)),oe.off(Y),Y.inputmask.colorMask&&((Z=Y.inputmask.colorMask).removeChild(Y),Z.parentNode.insertBefore(Y,Z),Z.parentNode.removeChild(Z)),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Y),"value")&&Y.inputmask.__valueGet&&Object.defineProperty(Y,"value",{get:Y.inputmask.__valueGet,set:Y.inputmask.__valueSet,configurable:!0}):n.__lookupGetter__&&Y.__lookupGetter__("value")&&Y.inputmask.__valueGet&&(Y.__defineGetter__("value",Y.inputmask.__valueGet),Y.__defineSetter__("value",Y.inputmask.__valueSet)),Y.inputmask=i),Y;case"getmetadata":if(e.isArray(s.metadata)){var pe=h(!0,0,!1).join("");return e.each(s.metadata,function(e,t){if(t.mask===pe)return pe=t,!1}),pe}return s.metadata}}var c=navigator.userAgent,p=l("touchstart"),d=/iemobile/i.test(c),f=/iphone/i.test(c)&&!d;return r.prototype={dataAttribute:"data-inputmask",defaults:{placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,alias:null,onKeyDown:e.noop,onBeforeMask:null,onBeforePaste:function(t,n){return e.isFunction(n.onBeforeMask)?n.onBeforeMask.call(this,t,n):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixPointDefinitionSymbol:i,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","password","search"],ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,canClearPosition:e.noop,preValidation:null,postValidation:null,staticDefinitionSymbol:i,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"verbatim",colorMask:!1,disablePredictiveText:!1,importDataAttributes:!0},definitions:{9:{validator:"[0-9１-９]",definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",definitionSymbol:"*"},"*":{validator:"[0-9１-９A-Za-zА-яЁёÀ-ÿµ]"}},aliases:{},masksCache:{},mask:function(a){function l(n,r,a,s){if(!0===r.importDataAttributes){var l,u,c,p,d=function(e,r){null!==(r=r!==i?r:n.getAttribute(s+"-"+e))&&("string"==typeof r&&(0===e.indexOf("on")?r=t[r]:"false"===r?r=!1:"true"===r&&(r=!0)),a[e]=r)},f=n.getAttribute(s);if(f&&""!==f&&(f=f.replace(/'/g,'"'),u=JSON.parse("{"+f+"}")),u){c=i;for(p in u)if("alias"===p.toLowerCase()){c=u[p];break}}d("alias",c),a.alias&&o(a.alias,a,r);for(l in r){if(u){c=i;for(p in u)if(p.toLowerCase()===l.toLowerCase()){c=u[p];break}}d(l,c)}}return e.extend(!0,r,a),("rtl"===n.dir||r.rightAlign)&&(n.style.textAlign="right"),("rtl"===n.dir||r.numericInput)&&(n.dir="ltr",n.removeAttribute("dir"),r.isRTL=!0),Object.keys(a).length}var c=this;return"string"==typeof a&&(a=n.getElementById(a)||n.querySelectorAll(a)),a=a.nodeName?[a]:a,e.each(a,function(t,n){var o=e.extend(!0,{},c.opts);if(l(n,o,e.extend(!0,{},c.userOptions),c.dataAttribute)){var a=s(o,c.noMasksCache);a!==i&&(n.inputmask!==i&&(n.inputmask.opts.autoUnmask=!0,n.inputmask.remove()),n.inputmask=new r(i,i,!0),n.inputmask.opts=o,n.inputmask.noMasksCache=c.noMasksCache,n.inputmask.userOptions=e.extend(!0,{},c.userOptions),n.inputmask.isRTL=o.isRTL||o.numericInput,n.inputmask.el=n,n.inputmask.maskset=a,e.data(n,"_inputmask_opts",o),u.call(n.inputmask,{action:"mask"}))}}),a&&a[0]?a[0].inputmask||this:this},option:function(t,n){return"string"==typeof t?this.opts[t]:"object"===(void 0===t?"undefined":a(t))?(e.extend(this.userOptions,t),this.el&&!0!==n&&this.mask(this.el),this):void 0},unmaskedvalue:function(e){return this.maskset=this.maskset||s(this.opts,this.noMasksCache),u.call(this,{action:"unmaskedvalue",value:e})},remove:function(){return u.call(this,{action:"remove"})},getemptymask:function(){return this.maskset=this.maskset||s(this.opts,this.noMasksCache),u.call(this,{action:"getemptymask"})},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||s(this.opts,this.noMasksCache),u.call(this,{action:"isComplete"})},getmetadata:function(){return this.maskset=this.maskset||s(this.opts,this.noMasksCache),u.call(this,{action:"getmetadata"})},isValid:function(e){return this.maskset=this.maskset||s(this.opts,this.noMasksCache),u.call(this,{action:"isValid",value:e})},format:function(e,t){return this.maskset=this.maskset||s(this.opts,this.noMasksCache),u.call(this,{action:"format",value:e,metadata:t})},analyseMask:function(t,n,o){function a(e,t,n,i){this.matches=[],this.openGroup=e||!1,this.alternatorGroup=!1,this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=n||!1,this.isAlternator=i||!1,this.quantifier={min:1,max:1}}function s(t,a,s){s=s!==i?s:t.matches.length;var l=t.matches[s-1];if(n)0===a.indexOf("[")||b&&/\\d|\\s|\\w]/i.test(a)||"."===a?t.matches.splice(s++,0,{fn:new RegExp(a,o.casing?"i":""),optionality:t.isOptional,newBlockMarker:l===i||l.def!==a,casing:null,def:a,placeholder:i,nativeDef:a}):(b&&(a=a[a.length-1]),e.each(a.split(""),function(e,n){l=t.matches[s-1],t.matches.splice(s++,0,{fn:null,optionality:t.isOptional,newBlockMarker:l===i||l.def!==n&&null!==l.fn,casing:null,def:o.staticDefinitionSymbol||n,placeholder:o.staticDefinitionSymbol!==i?n:i,nativeDef:n})})),b=!1;else{var u=(o.definitions?o.definitions[a]:i)||r.prototype.definitions[a];u&&!b?t.matches.splice(s++,0,{fn:u.validator?"string"==typeof u.validator?new RegExp(u.validator,o.casing?"i":""):new function(){this.test=u.validator}:new RegExp("."),optionality:t.isOptional,newBlockMarker:l===i||l.def!==(u.definitionSymbol||a),casing:u.casing,def:u.definitionSymbol||a,placeholder:u.placeholder,nativeDef:a}):(t.matches.splice(s++,0,{fn:null,optionality:t.isOptional,newBlockMarker:l===i||l.def!==a&&null!==l.fn,casing:null,def:o.staticDefinitionSymbol||a,placeholder:o.staticDefinitionSymbol!==i?a:i,nativeDef:a}),b=!1)}}function l(t){t&&t.matches&&e.each(t.matches,function(e,r){var a=t.matches[e+1];(a===i||a.matches===i||!1===a.isQuantifier)&&r&&r.isGroup&&(r.isGroup=!1,n||(s(r,o.groupmarker[0],0),!0!==r.openGroup&&s(r,o.groupmarker[1]))),l(r)})}function u(){if(C.length>0){if(h=C[C.length-1],s(h,d),h.isAlternator){m=C.pop();for(var e=0;e<m.matches.length;e++)m.matches[e].isGroup=!1;C.length>0?(h=C[C.length-1]).matches.push(m):x.matches.push(m)}}else s(x,d)}function c(e){e.matches=e.matches.reverse();for(var t in e.matches)if(e.matches.hasOwnProperty(t)){var n=parseInt(t);if(e.matches[t].isQuantifier&&e.matches[n+1]&&e.matches[n+1].isGroup){var r=e.matches[t];e.matches.splice(t,1),e.matches.splice(n+1,0,r)}e.matches[t].matches!==i?e.matches[t]=c(e.matches[t]):e.matches[t]=function(e){return e===o.optionalmarker[0]?e=o.optionalmarker[1]:e===o.optionalmarker[1]?e=o.optionalmarker[0]:e===o.groupmarker[0]?e=o.groupmarker[1]:e===o.groupmarker[1]&&(e=o.groupmarker[0]),e}(e.matches[t])}return e}var p,d,f,h,m,g,v,y=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,k=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,b=!1,x=new a,C=[],w=[];for(n&&(o.optionalmarker[0]=i,o.optionalmarker[1]=i);p=n?k.exec(t):y.exec(t);){if(d=p[0],n)switch(d.charAt(0)){case"?":d="{0,1}";break;case"+":case"*":d="{"+d+"}"}if(b)u();else switch(d.charAt(0)){case o.escapeChar:b=!0,n&&u();break;case o.optionalmarker[1]:case o.groupmarker[1]:if(f=C.pop(),f.openGroup=!1,f!==i)if(C.length>0){if((h=C[C.length-1]).matches.push(f),h.isAlternator){m=C.pop();for(var _=0;_<m.matches.length;_++)m.matches[_].isGroup=!1,m.matches[_].alternatorGroup=!1;C.length>0?(h=C[C.length-1]).matches.push(m):x.matches.push(m)}}else x.matches.push(f);else u();break;case o.optionalmarker[0]:C.push(new a(!1,!0));break;case o.groupmarker[0]:C.push(new a(!0));break;case o.quantifiermarker[0]:var S=new a(!1,!1,!0),O=(d=d.replace(/[{}]/g,"")).split(","),P=isNaN(O[0])?O[0]:parseInt(O[0]),E=1===O.length?P:isNaN(O[1])?O[1]:parseInt(O[1]);if("*"!==E&&"+"!==E||(P="*"===E?0:1),S.quantifier={min:P,max:E},C.length>0){var I=C[C.length-1].matches;(p=I.pop()).isGroup||((v=new a(!0)).matches.push(p),p=v),I.push(p),I.push(S)}else(p=x.matches.pop()).isGroup||(n&&null===p.fn&&"."===p.def&&(p.fn=new RegExp(p.def,o.casing?"i":"")),(v=new a(!0)).matches.push(p),p=v),x.matches.push(p),x.matches.push(S);break;case o.alternatormarker:if(C.length>0){var A=(h=C[C.length-1]).matches[h.matches.length-1];g=h.openGroup&&(A.matches===i||!1===A.isGroup&&!1===A.isAlternator)?C.pop():h.matches.pop()}else g=x.matches.pop();if(g.isAlternator)C.push(g);else if(g.alternatorGroup?(m=C.pop(),g.alternatorGroup=!1):m=new a(!1,!1,!1,!0),m.matches.push(g),C.push(m),g.openGroup){g.openGroup=!1;var T=new a(!0);T.alternatorGroup=!0,C.push(T)}break;default:u()}}for(;C.length>0;)f=C.pop(),x.matches.push(f);return x.matches.length>0&&(l(x),w.push(x)),(o.numericInput||o.isRTL)&&c(w[0]),w}},r.extendDefaults=function(t){e.extend(!0,r.prototype.defaults,t)},r.extendDefinitions=function(t){e.extend(!0,r.prototype.definitions,t)},r.extendAliases=function(t){e.extend(!0,r.prototype.aliases,t)},r.format=function(e,t,n){return r(t).format(e,n)},r.unmask=function(e,t){return r(t).unmaskedvalue(e)},r.isValid=function(e,t){return r(t).isValid(e)},r.remove=function(t){e.each(t,function(e,t){t.inputmask&&t.inputmask.remove()})},r.escapeRegex=function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},r.keyCode={BACKSPACE:8,BACKSPACE_SAFARI:127,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,SPACE:32,TAB:9,UP:38,X:88,CONTROL:17},r})},function(e,t){e.exports=jQuery},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(4),n(7),n(8),n(9);var r=i(n(1)),o=i(n(0)),a=i(n(2));o.default===a.default&&n(10),window.Inputmask=r.default},function(e,t,n){"use strict";var i,r,o;"function"==typeof Symbol&&Symbol.iterator,function(a){r=[n(0),n(1)],void 0!==(o="function"==typeof(i=a)?i.apply(t,r):i)&&(e.exports=o)}(function(e,t){function n(e){if(!e.tokenizer){var t=[];for(var n in l)-1===t.indexOf(n[0])&&t.push(n[0]);e.tokenizer="("+t.join("+|")+")+?|.",e.tokenizer=new RegExp(e.tokenizer,"g")}return e.tokenizer}function i(e,t){return(!isFinite(e.day)||"29"==e.day&&!isFinite(e.rawyear)||new Date(e.date.getFullYear(),isFinite(e.month)?e.month:e.date.getMonth()+1,0).getDate()>=e.day)&&t}function r(e,t){var n=!0;return t.min&&t.min.date.getTime()===t.min.date.getTime()&&(n=n&&t.min.date.getTime()<=e.getTime()),t.max&&t.max.date.getTime()===t.max.date.getTime()&&(n=n&&t.max.date.getTime()>=e.getTime()),n}function o(e,t,i){for(var r,o="";r=n(i).exec(e);)void 0===t?o+=l[r[0]]?"("+l[r[0]][0]+")":r[0]:l[r[0]]?o+=l[r[0]][3].call(t.date):o+=r[0];return o}function a(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function s(e,t,i){function r(e){var t=4===e.length?e:(new Date).getFullYear().toString().substr(0,4-e.length)+e;return i.min&&i.min.year&&i.max&&i.max.year?(t=t.replace(/[^0-9]/g,""),t=e.charAt(0)===i.max.year.charAt(0)?e.replace(/[^0-9]/g,"0"):t+i.min.year.substr(t.length)):t=t.replace(/[^0-9]/g,"0"),t}var o,a,s,u={date:new Date(1,0,1)},c=e;if("string"==typeof c){for(;a=n(i).exec(t);){var p=c.slice(0,a[0].length);l.hasOwnProperty(a[0])&&(o=l[a[0]][2],s=l[a[0]][1],function(e,t,n){"year"===o?(e[o]=r(t),e["raw"+o]=t):e[o]=n.min&&t.match(/[^0-9]/)?n.min[o]:t,void 0!==s&&s.call(e.date,"month"==o?parseInt(e[o])-1:e[o])}(u,p,i)),c=c.slice(p.length)}return u}}var l={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return a(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return a(Date.prototype.getMonth.call(this)+1,2)}],mmm:[""],mmmm:[""],yy:["[0-9]{2}",Date.prototype.setFullYear,"year",function(){return a(Date.prototype.getFullYear.call(this),2)}],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return a(Date.prototype.getFullYear.call(this),4)}],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return a(Date.prototype.getHours.call(this),2)}],hhh:["[0-9]+",Date.prototype.setHours,"hours",Date.prototype.getHours],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["[01][0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return a(Date.prototype.getHours.call(this),2)}],HHH:["[0-9]+",Date.prototype.setHours,"hours",Date.prototype.getHours],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["[0-5][0-9]",Date.prototype.setMinutes,"minutes",function(){return a(Date.prototype.getMinutes.call(this),2)}],s:["[1-5]?[0-9]",Date.prototype.setSeconds,"seconds",Date.prototype.getSeconds],ss:["[0-5][0-9]",Date.prototype.setSeconds,"seconds",function(){return a(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return a(Date.prototype.getMilliseconds.call(this),3)}],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return a(Date.prototype.getMilliseconds.call(this),2)}],t:[""],tt:[""],T:[""],TT:[""],Z:[""],o:[""],S:[""]},u={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};return t.extendAliases({datetime:{mask:function(e){return e.inputFormat=u[e.inputFormat]||e.inputFormat,e.displayFormat=u[e.displayFormat]||e.displayFormat||e.inputFormat,e.outputFormat=u[e.outputFormat]||e.outputFormat||e.inputFormat,e.placeholder=e.placeholder!==t.prototype.defaults.placeholder?e.placeholder:e.inputFormat,e.min=s(e.min,e.inputFormat,e),e.max=s(e.max,e.inputFormat,e),e.regex=o(e.inputFormat,void 0,e),null},inputFormat:"isoDateTime",displayFormat:void 0,outputFormat:void 0,min:null,max:null,i18n:{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},postValidation:function(e,t,n){var o=t,a=s(e.join(""),n.inputFormat,n);return o&&a.date.getTime()===a.date.getTime()&&(o=(o=i(a,o))&&r(a.date,n)),o},onKeyDown:function(i,r,o,s){var l=this;if(i.ctrlKey&&i.keyCode===t.keyCode.RIGHT){for(var u,c=new Date,p="";u=n(s).exec(s.inputFormat);)"d"===u[0].charAt(0)?p+=a(c.getDate(),u[0].length):"m"===u[0].charAt(0)?p+=a(c.getMonth()+1,u[0].length):"yyyy"===u[0]?p+=c.getFullYear().toString():"y"===u[0].charAt(0)&&(p+=a(c.getYear(),u[0].length));l.inputmask._valueSet(p),e(l).trigger("setvalue")}},onUnMask:function(e,t,n){return o(n.outputFormat,s(e,n.inputFormat,n),n)},insertMode:!1}}),t})},function(e,t,n){"use strict";var i;"function"==typeof Symbol&&Symbol.iterator,void 0!==(i=function(){return window}.call(t,n,t,e))&&(e.exports=i)},function(e,t,n){"use strict";var i;"function"==typeof Symbol&&Symbol.iterator,void 0!==(i=function(){return document}.call(t,n,t,e))&&(e.exports=i)},function(e,t,n){"use strict";var i,r,o;"function"==typeof Symbol&&Symbol.iterator,function(a){r=[n(0),n(1)],void 0!==(o="function"==typeof(i=a)?i.apply(t,r):i)&&(e.exports=o)}(function(e,t){return t.extendDefinitions({A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",casing:"upper"},"&":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",casing:"upper"},"#":{validator:"[0-9A-Fa-f]",casing:"upper"}}),t.extendAliases({url:{definitions:{i:{validator:"."}},mask:"(\\http://)|(\\http\\s://)|(ftp://)|(ftp\\s://)i{+}",insertMode:!1,autoUnmask:!1,inputmode:"url"},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(e,t,n,i,r){return n-1>-1&&"."!==t.buffer[n-1]?(e=t.buffer[n-1]+e,e=n-2>-1&&"."!==t.buffer[n-2]?t.buffer[n-2]+e:"0"+e):e="00"+e,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(e)}}},onUnMask:function(e,t,n){return e},inputmode:"numeric"},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,onBeforePaste:function(e,t){return(e=e.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",casing:"lower"},"-":{validator:"[0-9A-Za-z-]",casing:"lower"}},onUnMask:function(e,t,n){return e},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",casing:"upper"}},clearIncomplete:!0,autoUnmask:!0}}),t})},function(e,t,n){"use strict";var i,r,o;"function"==typeof Symbol&&Symbol.iterator,function(a){r=[n(0),n(1)],void 0!==(o="function"==typeof(i=a)?i.apply(t,r):i)&&(e.exports=o)}(function(e,t,n){function i(e,n){for(var i="",r=0;r<e.length;r++)t.prototype.definitions[e.charAt(r)]||n.definitions[e.charAt(r)]||n.optionalmarker.start===e.charAt(r)||n.optionalmarker.end===e.charAt(r)||n.quantifiermarker.start===e.charAt(r)||n.quantifiermarker.end===e.charAt(r)||n.groupmarker.start===e.charAt(r)||n.groupmarker.end===e.charAt(r)||n.alternatormarker===e.charAt(r)?i+="\\"+e.charAt(r):i+=e.charAt(r);return i}return t.extendAliases({numeric:{mask:function(e){if(0!==e.repeat&&isNaN(e.integerDigits)&&(e.integerDigits=e.repeat),e.repeat=0,e.groupSeparator===e.radixPoint&&e.digits&&"0"!==e.digits&&("."===e.radixPoint?e.groupSeparator=",":","===e.radixPoint?e.groupSeparator=".":e.groupSeparator="")," "===e.groupSeparator&&(e.skipOptionalPartCharacter=n),e.autoGroup=e.autoGroup&&""!==e.groupSeparator,e.autoGroup&&("string"==typeof e.groupSize&&isFinite(e.groupSize)&&(e.groupSize=parseInt(e.groupSize)),isFinite(e.integerDigits))){var t=Math.floor(e.integerDigits/e.groupSize),r=e.integerDigits%e.groupSize;e.integerDigits=parseInt(e.integerDigits)+(0===r?t-1:t),e.integerDigits<1&&(e.integerDigits="*")}e.placeholder.length>1&&(e.placeholder=e.placeholder.charAt(0)),"radixFocus"===e.positionCaretOnClick&&""===e.placeholder&&!1===e.integerOptional&&(e.positionCaretOnClick="lvp"),e.definitions[";"]=e.definitions["~"],e.definitions[";"].definitionSymbol="~",!0===e.numericInput&&(e.positionCaretOnClick="radixFocus"===e.positionCaretOnClick?"lvp":e.positionCaretOnClick,e.digitsOptional=!1,isNaN(e.digits)&&(e.digits=2),e.decimalProtect=!1);var o="[+]";if(o+=i(e.prefix,e),!0===e.integerOptional?o+="~{1,"+e.integerDigits+"}":o+="~{"+e.integerDigits+"}",e.digits!==n){e.radixPointDefinitionSymbol=e.decimalProtect?":":e.radixPoint;var a=e.digits.toString().split(",");isFinite(a[0]&&a[1]&&isFinite(a[1]))?o+=e.radixPointDefinitionSymbol+";{"+e.digits+"}":(isNaN(e.digits)||parseInt(e.digits)>0)&&(e.digitsOptional?o+="["+e.radixPointDefinitionSymbol+";{1,"+e.digits+"}]":o+=e.radixPointDefinitionSymbol+";{"+e.digits+"}")}return o+=i(e.suffix,e),o+="[-]",e.greedy=!1,o},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",groupSize:3,groupSeparator:"",autoGroup:!1,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,inputmode:"numeric",preValidation:function(t,i,r,o,a){if("-"===r||r===a.negationSymbol.front)return!0===a.allowMinus&&(a.isNegative=a.isNegative===n||!a.isNegative,""===t.join("")||{caret:i,dopost:!0});if(!1===o&&r===a.radixPoint&&a.digits!==n&&(isNaN(a.digits)||parseInt(a.digits)>0)){var s=e.inArray(a.radixPoint,t);if(-1!==s)return!0===a.numericInput?i===s:{caret:s+1}}return!0},postValidation:function(i,r,o){var a=o.suffix.split(""),s=o.prefix.split("");if(r.pos===n&&r.caret!==n&&!0!==r.dopost)return r;var l=r.caret!==n?r.caret:r.pos,u=i.slice();o.numericInput&&(l=u.length-l-1,u=u.reverse());var c=u[l];if(c===o.groupSeparator&&(c=u[l+=1]),l===u.length-o.suffix.length-1&&c===o.radixPoint)return r;c!==n&&c!==o.radixPoint&&c!==o.negationSymbol.front&&c!==o.negationSymbol.back&&(u[l]="?",o.prefix.length>0&&l>=(!1===o.isNegative?1:0)&&l<o.prefix.length-1+(!1===o.isNegative?1:0)?s[l-(!1===o.isNegative?1:0)]="?":o.suffix.length>0&&l>=u.length-o.suffix.length-(!1===o.isNegative?1:0)&&(a[l-(u.length-o.suffix.length-(!1===o.isNegative?1:0))]="?")),s=s.join(""),a=a.join("");var p=u.join("").replace(s,"");if(p=p.replace(a,""),p=p.replace(new RegExp(t.escapeRegex(o.groupSeparator),"g"),""),p=p.replace(new RegExp("[-"+t.escapeRegex(o.negationSymbol.front)+"]","g"),""),p=p.replace(new RegExp(t.escapeRegex(o.negationSymbol.back)+"$"),""),isNaN(o.placeholder)&&(p=p.replace(new RegExp(t.escapeRegex(o.placeholder),"g"),"")),p.length>1&&1!==p.indexOf(o.radixPoint)&&("0"===c&&(p=p.replace(/^\?/g,"")),p=p.replace(/^0/g,"")),p.charAt(0)===o.radixPoint&&""!==o.radixPoint&&!0!==o.numericInput&&(p="0"+p),""!==p){if(p=p.split(""),(!o.digitsOptional||o.enforceDigitsOnBlur&&"blur"===r.event)&&isFinite(o.digits)){var d=e.inArray(o.radixPoint,p),f=e.inArray(o.radixPoint,u);-1===d&&(p.push(o.radixPoint),d=p.length-1);for(var h=1;h<=o.digits;h++)o.digitsOptional&&(!o.enforceDigitsOnBlur||"blur"!==r.event)||p[d+h]!==n&&p[d+h]!==o.placeholder.charAt(0)?-1!==f&&u[f+h]!==n&&(p[d+h]=p[d+h]||u[f+h]):p[d+h]=r.placeholder||o.placeholder.charAt(0)}if(!0!==o.autoGroup||""===o.groupSeparator||c===o.radixPoint&&r.pos===n&&!r.dopost)p=p.join("");else{var m=p[p.length-1]===o.radixPoint&&r.c===o.radixPoint;p=t(function(e,t){var n="";if(n+="("+t.groupSeparator+"*{"+t.groupSize+"}){*}",""!==t.radixPoint){var i=e.join("").split(t.radixPoint);i[1]&&(n+=t.radixPoint+"*{"+i[1].match(/^\d*\??\d*/)[0].length+"}")}return n}(p,o),{numericInput:!0,jitMasking:!0,definitions:{"*":{validator:"[0-9?]",cardinality:1}}}).format(p.join("")),m&&(p+=o.radixPoint),p.charAt(0)===o.groupSeparator&&p.substr(1)}}if(o.isNegative&&"blur"===r.event&&(o.isNegative="0"!==p),p=s+p,p+=a,o.isNegative&&(p=o.negationSymbol.front+p,p+=o.negationSymbol.back),p=p.split(""),c!==n)if(c!==o.radixPoint&&c!==o.negationSymbol.front&&c!==o.negationSymbol.back)(l=e.inArray("?",p))>-1?p[l]=c:l=r.caret||0;else if(c===o.radixPoint||c===o.negationSymbol.front||c===o.negationSymbol.back){var g=e.inArray(c,p);-1!==g&&(l=g)}o.numericInput&&(l=p.length-l-1,p=p.reverse());var v={caret:c===n||r.pos!==n?l+(o.numericInput?-1:1):l,buffer:p,refreshFromBuffer:r.dopost||i.join("")!==p.join("")};return v.refreshFromBuffer?v:r},onBeforeWrite:function(i,r,o,a){if(i)switch(i.type){case"keydown":return a.postValidation(r,{caret:o,dopost:!0},a);case"blur":case"checkval":var s;if(function(e){e.parseMinMaxOptions===n&&(null!==e.min&&(e.min=e.min.toString().replace(new RegExp(t.escapeRegex(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.min=e.min.replace(e.radixPoint,".")),e.min=isFinite(e.min)?parseFloat(e.min):NaN,isNaN(e.min)&&(e.min=Number.MIN_VALUE)),null!==e.max&&(e.max=e.max.toString().replace(new RegExp(t.escapeRegex(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.max=e.max.replace(e.radixPoint,".")),e.max=isFinite(e.max)?parseFloat(e.max):NaN,isNaN(e.max)&&(e.max=Number.MAX_VALUE)),e.parseMinMaxOptions="done")}(a),null!==a.min||null!==a.max){if(s=a.onUnMask(r.join(""),n,e.extend({},a,{unmaskAsNumber:!0})),null!==a.min&&s<a.min)return a.isNegative=a.min<0,a.postValidation(a.min.toString().replace(".",a.radixPoint).split(""),{caret:o,dopost:!0,placeholder:"0"},a);if(null!==a.max&&s>a.max)return a.isNegative=a.max<0,a.postValidation(a.max.toString().replace(".",a.radixPoint).split(""),{caret:o,dopost:!0,placeholder:"0"},a)}return a.postValidation(r,{caret:o,placeholder:"0",event:"blur"},a);case"_checkval":return{caret:o}}},regex:{integerPart:function(e,n){return n?new RegExp("["+t.escapeRegex(e.negationSymbol.front)+"+]?"):new RegExp("["+t.escapeRegex(e.negationSymbol.front)+"+]?\\d+")},integerNPart:function(e){return new RegExp("[\\d"+t.escapeRegex(e.groupSeparator)+t.escapeRegex(e.placeholder.charAt(0))+"]+")}},definitions:{"~":{validator:function(e,i,r,o,a,s){var l=o?new RegExp("[0-9"+t.escapeRegex(a.groupSeparator)+"]").test(e):new RegExp("[0-9]").test(e);if(!0===l){if(!0!==a.numericInput&&i.validPositions[r]!==n&&"~"===i.validPositions[r].match.def&&!s){var u=i.buffer.join(""),c=(u=(u=u.replace(new RegExp("[-"+t.escapeRegex(a.negationSymbol.front)+"]","g"),"")).replace(new RegExp(t.escapeRegex(a.negationSymbol.back)+"$"),"")).split(a.radixPoint);c.length>1&&(c[1]=c[1].replace(/0/g,a.placeholder.charAt(0))),"0"===c[0]&&(c[0]=c[0].replace(/0/g,a.placeholder.charAt(0))),u=c[0]+a.radixPoint+c[1]||"";var p=i._buffer.join("");for(u===a.radixPoint&&(u=p);null===u.match(t.escapeRegex(p)+"$");)p=p.slice(1);l=(u=(u=u.replace(p,"")).split(""))[r]===n?{pos:r,remove:r}:{pos:r}}}else o||e!==a.radixPoint||i.validPositions[r-1]!==n||(i.buffer[r]="0",l={pos:r+1});return l},cardinality:1},"+":{validator:function(e,t,n,i,r){return r.allowMinus&&("-"===e||e===r.negationSymbol.front)},cardinality:1,placeholder:""},"-":{validator:function(e,t,n,i,r){return r.allowMinus&&e===r.negationSymbol.back},cardinality:1,placeholder:""},":":{validator:function(e,n,i,r,o){var a="["+t.escapeRegex(o.radixPoint)+"]",s=new RegExp(a).test(e);return s&&n.validPositions[i]&&n.validPositions[i].match.placeholder===o.radixPoint&&(s={caret:i+1}),s},cardinality:1,placeholder:function(e){return e.radixPoint}}},onUnMask:function(e,n,i){if(""===n&&!0===i.nullable)return n;var r=e.replace(i.prefix,"");return r=r.replace(i.suffix,""),r=r.replace(new RegExp(t.escapeRegex(i.groupSeparator),"g"),""),""!==i.placeholder.charAt(0)&&(r=r.replace(new RegExp(i.placeholder.charAt(0),"g"),"0")),i.unmaskAsNumber?(""!==i.radixPoint&&-1!==r.indexOf(i.radixPoint)&&(r=r.replace(t.escapeRegex.call(this,i.radixPoint),".")),r=r.replace(new RegExp("^"+t.escapeRegex(i.negationSymbol.front)),"-"),r=r.replace(new RegExp(t.escapeRegex(i.negationSymbol.back)+"$"),""),Number(r)):r},isComplete:function(e,n){var i=e.join("");if(e.slice().join("")!==i)return!1;var r=i.replace(n.prefix,"");return r=r.replace(n.suffix,""),r=r.replace(new RegExp(t.escapeRegex(n.groupSeparator)+"([0-9]{3})","g"),"$1"),","===n.radixPoint&&(r=r.replace(t.escapeRegex(n.radixPoint),".")),isFinite(r)},onBeforeMask:function(e,i){if(i.isNegative=n,e=e.toString().charAt(e.length-1)===i.radixPoint?e.toString().substr(0,e.length-1):e.toString(),""!==i.radixPoint&&isFinite(e)){var r=e.split("."),o=""!==i.groupSeparator?parseInt(i.groupSize):0;2===r.length&&(r[0].length>o||r[1].length>o||r[0].length<=o&&r[1].length<o)&&(e=e.replace(".",i.radixPoint))}var a=e.match(/,/g),s=e.match(/\./g);if(e=s&&a?s.length>a.length?(e=e.replace(/\./g,"")).replace(",",i.radixPoint):a.length>s.length?(e=e.replace(/,/g,"")).replace(".",i.radixPoint):e.indexOf(".")<e.indexOf(",")?e.replace(/\./g,""):e.replace(/,/g,""):e.replace(new RegExp(t.escapeRegex(i.groupSeparator),"g"),""),0===i.digits&&(-1!==e.indexOf(".")?e=e.substring(0,e.indexOf(".")):-1!==e.indexOf(",")&&(e=e.substring(0,e.indexOf(",")))),""!==i.radixPoint&&isFinite(i.digits)&&-1!==e.indexOf(i.radixPoint)){var l=e.split(i.radixPoint)[1].match(new RegExp("\\d*"))[0];if(parseInt(i.digits)<l.toString().length){var u=Math.pow(10,parseInt(i.digits));e=e.replace(t.escapeRegex(i.radixPoint),"."),e=(e=Math.round(parseFloat(e)*u)/u).toString().replace(".",i.radixPoint)}}return e},canClearPosition:function(e,t,n,i,r){var o=e.validPositions[t],a=o.input!==r.radixPoint||null!==e.validPositions[t].match.fn&&!1===r.decimalProtect||o.input===r.radixPoint&&e.validPositions[t+1]&&null===e.validPositions[t+1].match.fn||isFinite(o.input)||t===n||o.input===r.groupSeparator||o.input===r.negationSymbol.front||o.input===r.negationSymbol.back;return!a||"+"!==o.match.nativeDef&&"-"!==o.match.nativeDef||(r.isNegative=!1),a},onKeyDown:function(n,i,r,o){var a=e(this);if(n.ctrlKey)switch(n.keyCode){case t.keyCode.UP:a.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(o.step)),a.trigger("setvalue");break;case t.keyCode.DOWN:a.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(o.step)),a.trigger("setvalue")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,digitsOptional:!0,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowMinus:!1}}),t})},function(e,t,n){"use strict";var i,r,o;"function"==typeof Symbol&&Symbol.iterator,function(a){r=[n(0),n(1)],void 0!==(o="function"==typeof(i=a)?i.apply(t,r):i)&&(e.exports=o)}(function(e,t){function n(e,t){var n=(e.mask||e).replace(/#/g,"0").replace(/\)/,"0").replace(/[+()#-]/g,""),i=(t.mask||t).replace(/#/g,"0").replace(/\)/,"0").replace(/[+()#-]/g,"");return n.localeCompare(i)}var i=t.prototype.analyseMask;return t.prototype.analyseMask=function(t,n,r){function o(e,n,i){n=n||"",i=i||s,""!==n&&(i[n]={});for(var r="",a=i[n]||i,l=e.length-1;l>=0;l--)a[r=(t=e[l].mask||e[l]).substr(0,1)]=a[r]||[],a[r].unshift(t.substr(1)),e.splice(l,1);for(var u in a)a[u].length>500&&o(a[u].slice(),u,a)}function a(t){var n="",i=[];for(var o in t)e.isArray(t[o])?1===t[o].length?i.push(o+t[o]):i.push(o+r.groupmarker[0]+t[o].join(r.groupmarker[1]+r.alternatormarker+r.groupmarker[0])+r.groupmarker[1]):i.push(o+a(t[o]));return 1===i.length?n+=i[0]:n+=r.groupmarker[0]+i.join(r.groupmarker[1]+r.alternatormarker+r.groupmarker[0])+r.groupmarker[1],n}var s={};return r.phoneCodes&&(r.phoneCodes&&r.phoneCodes.length>1e3&&(o((t=t.substr(1,t.length-2)).split(r.groupmarker[1]+r.alternatormarker+r.groupmarker[0])),t=a(s)),t=t.replace(/9/g,"\\9")),i.call(this,t,n,r)},t.extendAliases({abstractphone:{groupmarker:["<",">"],countrycode:"",phoneCodes:[],keepStatic:"auto",mask:function(e){return e.definitions={"#":t.prototype.definitions[9]},e.phoneCodes.sort(n)},onBeforeMask:function(e,t){var n=e.replace(/^0{1,2}/,"").replace(/[\s]/g,"");return(n.indexOf(t.countrycode)>1||-1===n.indexOf(t.countrycode))&&(n="+"+t.countrycode+n),n},onUnMask:function(e,t,n){return e.replace(/[()#-]/g,"")},inputmode:"tel"}}),t})},function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a){r=[n(2),n(1)],void 0!==(o="function"==typeof(i=a)?i.apply(t,r):i)&&(e.exports=o)}(function(e,t){return void 0===e.fn.inputmask&&(e.fn.inputmask=function(n,i){var r,o=this[0];if(void 0===i&&(i={}),"string"==typeof n)switch(n){case"unmaskedvalue":return o&&o.inputmask?o.inputmask.unmaskedvalue():e(o).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return o&&o.inputmask?o.inputmask.getemptymask():"";case"hasMaskedValue":return!(!o||!o.inputmask)&&o.inputmask.hasMaskedValue();case"isComplete":return!o||!o.inputmask||o.inputmask.isComplete();case"getmetadata":return o&&o.inputmask?o.inputmask.getmetadata():void 0;case"setvalue":e(o).val(i),o&&void 0===o.inputmask&&e(o).triggerHandler("setvalue");break;case"option":if("string"!=typeof i)return this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(i)});if(o&&void 0!==o.inputmask)return o.inputmask.option(i);break;default:return i.alias=n,r=new t(i),this.each(function(){r.mask(this)})}else{if("object"==(void 0===n?"undefined":a(n)))return r=new t(n),void 0===n.mask&&void 0===n.alias?this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(n);r.mask(this)}):this.each(function(){r.mask(this)});if(void 0===n)return this.each(function(){(r=new t(i)).mask(this)})}}),e.fn.inputmask})}]),function(e){"function"==typeof define&&define.amd?define(["jquery","./inputmask"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("./inputmask")):e(jQuery,window.Inputmask)}(function(e,t){return void 0===e.fn.inputmask&&(e.fn.inputmask=function(n,i){var r,o=this[0];if(void 0===i&&(i={}),"string"==typeof n)switch(n){case"unmaskedvalue":return o&&o.inputmask?o.inputmask.unmaskedvalue():e(o).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return o&&o.inputmask?o.inputmask.getemptymask():"";case"hasMaskedValue":return!(!o||!o.inputmask)&&o.inputmask.hasMaskedValue();case"isComplete":return!o||!o.inputmask||o.inputmask.isComplete();case"getmetadata":return o&&o.inputmask?o.inputmask.getmetadata():void 0;case"setvalue":e(o).val(i),o&&void 0===o.inputmask&&e(o).triggerHandler("setvalue");break;case"option":if("string"!=typeof i)return this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(i)});if(o&&void 0!==o.inputmask)return o.inputmask.option(i);break;default:return i.alias=n,r=new t(i),this.each(function(){r.mask(this)})}else{if("object"==typeof n)return r=new t(n),void 0===n.mask&&void 0===n.alias?this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(n);r.mask(this)}):this.each(function(){r.mask(this)});if(void 0===n)return this.each(function(){(r=new t(i)).mask(this)})}}),e.fn.inputmask}),function(e,t){"function"==typeof define&&define.amd?define("sifter",t):"object"==typeof exports?module.exports=t():e.Sifter=t()}(this,function(){var e=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};e.prototype.tokenize=function(e){if(!(e=r(String(e||"").toLowerCase()))||!e.length)return[];var t,n,i,a,l=[],u=e.split(/ +/);for(t=0,n=u.length;t<n;t++){if(i=o(u[t]),this.settings.diacritics)for(a in s)s.hasOwnProperty(a)&&(i=i.replace(new RegExp(a,"g"),s[a]));l.push({string:u[t],regex:new RegExp(i,"i")})}return l},e.prototype.iterator=function(e,t){(a(e)?Array.prototype.forEach||function(e){for(var t=0,n=this.length;t<n;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)}).apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var n,r,o,a;e=this.prepareSearch(e,t),r=e.tokens,n=e.options.fields,o=r.length,a=e.options.nesting;var s=function(e,t){var n,i;return e?(e=String(e||""),-1===(i=e.search(t.regex))?0:(n=t.string.length/e.length,0===i&&(n+=.5),n)):0},l=function(){var e=n.length;return e?1===e?function(e,t){return s(i(t,n[0],a),e)}:function(t,r){for(var o=0,l=0;o<e;o++)l+=s(i(r,n[o],a),t);return l/e}:function(){return 0}}();return o?1===o?function(e){return l(r[0],e)}:"and"===e.options.conjunction?function(e){for(var t,n=0,i=0;n<o;n++){if((t=l(r[n],e))<=0)return 0;i+=t}return i/o}:function(e){for(var t=0,n=0;t<o;t++)n+=l(r[t],e);return n/o}:function(){return 0}},e.prototype.getSortFunction=function(e,n){var r,o,a,s,l,u,c,p,d,f,h;if(a=this,e=a.prepareSearch(e,n),h=!e.query&&n.sort_empty||n.sort,d=function(e,t){return"$score"===e?t.score:i(a.items[t.id],e,n.nesting)},l=[],h)for(r=0,o=h.length;r<o;r++)(e.query||"$score"!==h[r].field)&&l.push(h[r]);if(e.query){for(f=!0,r=0,o=l.length;r<o;r++)if("$score"===l[r].field){f=!1;break}f&&l.unshift({field:"$score",direction:"desc"})}else for(r=0,o=l.length;r<o;r++)if("$score"===l[r].field){l.splice(r,1);break}for(p=[],r=0,o=l.length;r<o;r++)p.push("desc"===l[r].direction?-1:1);return u=l.length,u?1===u?(s=l[0].field,c=p[0],function(e,n){return c*t(d(s,e),d(s,n))}):function(e,n){var i,r,o;for(i=0;i<u;i++)if(o=l[i].field,r=p[i]*t(d(o,e),d(o,n)))return r;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;var i=(t=n({},t)).fields,r=t.sort,o=t.sort_empty;return i&&!a(i)&&(t.fields=[i]),r&&!a(r)&&(t.sort=[r]),o&&!a(o)&&(t.sort_empty=[o]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,t){var n,i,r,o,a=this;return i=this.prepareSearch(e,t),t=i.options,e=i.query,o=t.score||a.getScoreFunction(i),e.length?a.iterator(a.items,function(e,r){n=o(e),(!1===t.filter||n>0)&&i.items.push({score:n,id:r})}):a.iterator(a.items,function(e,t){i.items.push({score:1,id:t})}),(r=a.getSortFunction(i,t))&&i.items.sort(r),i.total=i.items.length,"number"==typeof t.limit&&(i.items=i.items.slice(0,t.limit)),i};var t=function(e,t){return"number"==typeof e&&"number"==typeof t?e>t?1:e<t?-1:0:(e=l(String(e||"")),t=l(String(t||"")),e>t?1:t>e?-1:0)},n=function(e,t){var n,i,r,o;for(n=1,i=arguments.length;n<i;n++)if(o=arguments[n])for(r in o)o.hasOwnProperty(r)&&(e[r]=o[r]);return e},i=function(e,t,n){if(e&&t){if(!n)return e[t];for(var i=t.split(".");i.length&&(e=e[i.shift()]););return e}},r=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},o=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},a=Array.isArray||"undefined"!=typeof $&&$.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"},l=function(){var e,t,n,i,r="",o={};for(n in s)if(s.hasOwnProperty(n))for(r+=i=s[n].substring(2,s[n].length-1),e=0,t=i.length;e<t;e++)o[i.charAt(e)]=n;var a=new RegExp("["+r+"]","g");return function(e){return e.replace(a,function(e){return o[e]}).toLowerCase()}}();return e}),function(e,t){"function"==typeof define&&define.amd?define("microplugin",t):"object"==typeof exports?module.exports=t():e.MicroPlugin=t()}(this,function(){var e={};e.mixin=function(e){e.plugins={},e.prototype.initializePlugins=function(e){var n,i,r,o=this,a=[];if(o.plugins={names:[],settings:{},requested:{},loaded:{}},t.isArray(e))for(n=0,i=e.length;n<i;n++)"string"==typeof e[n]?a.push(e[n]):(o.plugins.settings[e[n].name]=e[n].options,a.push(e[n].name));else if(e)for(r in e)e.hasOwnProperty(r)&&(o.plugins.settings[r]=e[r],a.push(r));for(;a.length;)o.require(a.shift())},e.prototype.loadPlugin=function(t){var n=this,i=n.plugins,r=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');i.requested[t]=!0,i.loaded[t]=r.fn.apply(n,[n.plugins.settings[t]||{}]),i.names.push(t)},e.prototype.require=function(e){var t=this,n=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(n.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return n.loaded[e]},e.define=function(t,n){e.plugins[t]={name:t,fn:n}}};var t={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e}),function(e,t){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("sifter"),require("microplugin")):e.Selectize=t(e.jQuery,e.Sifter,e.MicroPlugin)}(this,function(e,t,n){"use strict";var i=function(e,t){if("string"!=typeof t||t.length){var n="string"==typeof t?new RegExp(t,"i"):t,i=function(e){var t=0;if(3===e.nodeType){var r=e.data.search(n);if(r>=0&&e.data.length>0){var o=e.data.match(n),a=document.createElement("span");a.className="highlight";var s=e.splitText(r),l=(s.splitText(o[0].length),s.cloneNode(!0));a.appendChild(l),s.parentNode.replaceChild(a,s),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var u=0;u<e.childNodes.length;++u)u+=i(e.childNodes[u]);return t};return e.each(function(){i(this)})}};e.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var e=this.parentNode;e.replaceChild(this.firstChild,this),e.normalize()}).end()};var r=function(){};r.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=!1&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=!1)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},r.mixin=function(e){for(var t=["on","off","trigger"],n=0;n<t.length;n++)e.prototype[t[n]]=r.prototype[t[n]]};var o=/Mac/.test(navigator.userAgent),a=o?91:17,s=o?18:17,l=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,u=function(e){return void 0!==e},c=function(e){return void 0===e||null===e?null:"boolean"==typeof e?e?"1":"0":e+""},p=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},d={};d.before=function(e,t,n){var i=e[t];e[t]=function(){return n.apply(e,arguments),i.apply(e,arguments)}},d.after=function(e,t,n){var i=e[t];e[t]=function(){var t=i.apply(e,arguments);return n.apply(e,arguments),t}};var f=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}},h=function(e,t){var n;return function(){var i=this,r=arguments;window.clearTimeout(n),n=window.setTimeout(function(){e.apply(i,r)},t)}},m=function(e,t,n){var i,r=e.trigger,o={};e.trigger=function(){var n=arguments[0];if(-1===t.indexOf(n))return r.apply(e,arguments);o[n]=arguments},n.apply(e,[]),e.trigger=r;for(i in o)o.hasOwnProperty(i)&&r.apply(e,o[i])},g=function(e,t,n,i){e.on(t,n,function(t){for(var n=t.target;n&&n.parentNode!==e[0];)n=n.parentNode;return t.currentTarget=n,i.apply(this,[t])})},v=function(e){var t={};if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-e.value.length),t.start=n.text.length-i,t.length=i}return t},y=function(e,t,n){var i,r,o={};if(n)for(i=0,r=n.length;i<r;i++)o[n[i]]=e.css(n[i]);else o=e.css();t.css(o)},k=function(t,n){if(!t)return 0;var i=e("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(t).appendTo("body");y(n,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var r=i.width();return i.remove(),r},b=function(e){var t=null,n=function(n,i){var r,o,a,s,l,u,c,p;n=n||window.event||{},i=i||{},n.metaKey||n.altKey||(i.force||!1!==e.data("grow"))&&(r=e.val(),n.type&&"keydown"===n.type.toLowerCase()&&(a=(o=n.keyCode)>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||32===o,46===o||8===o?(p=v(e[0])).length?r=r.substring(0,p.start)+r.substring(p.start+p.length):8===o&&p.start?r=r.substring(0,p.start-1)+r.substring(p.start+1):46===o&&void 0!==p.start&&(r=r.substring(0,p.start)+r.substring(p.start+1)):a&&(u=n.shiftKey,c=String.fromCharCode(n.keyCode),r+=c=u?c.toUpperCase():c.toLowerCase())),s=e.attr("placeholder"),!r&&s&&(r=s),(l=k(r,e)+4)!==t&&(t=l,e.width(l),e.triggerHandler("resize")))};e.on("keydown keyup update blur",n),n()},x=function(e){var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML},C=function(n,i){var r,o,a,s,l=this;(s=n[0]).selectize=l;var u=window.getComputedStyle&&window.getComputedStyle(s,null);if(a=u?u.getPropertyValue("direction"):s.currentStyle&&s.currentStyle.direction,a=a||n.parents("[dir]:first").attr("dir")||"",e.extend(l,{order:0,settings:i,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===s.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(a),eventNS:".selectize"+ ++C.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?l.onSearchChange:h(l.onSearchChange,i.loadThrottle)}),l.sifter=new t(this.options,{diacritics:i.diacritics}),l.settings.options){for(r=0,o=l.settings.options.length;r<o;r++)l.registerOption(l.settings.options[r]);delete l.settings.options}if(l.settings.optgroups){for(r=0,o=l.settings.optgroups.length;r<o;r++)l.registerOptionGroup(l.settings.optgroups[r]);delete l.settings.optgroups}l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi"),"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode),l.initializePlugins(l.settings.plugins),l.setupCallbacks(),l.setupTemplates(),l.setup()};return r.mixin(C),void 0!==n?n.mixin(C):function(e,t){t||(t={});console.error("Selectize: "+e),t.explanation&&(console.group&&console.group(),console.error(t.explanation),console.group&&console.groupEnd())}("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),e.extend(C.prototype,{setup:function(){var t,n,i,r,u,c,p,d,f,h,m=this,v=m.settings,y=m.eventNS,k=e(window),x=e(document),C=m.$input;if(p=m.settings.mode,d=C.attr("class")||"",t=e("<div>").addClass(v.wrapperClass).addClass(d).addClass(p),n=e("<div>").addClass(v.inputClass).addClass("items").appendTo(t),i=e('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",C.is(":disabled")?"-1":m.tabIndex),c=e(v.dropdownParent||t),r=e("<div>").addClass(v.dropdownClass).addClass(p).hide().appendTo(c),u=e("<div>").addClass(v.dropdownContentClass).appendTo(r),(h=C.attr("id"))&&(i.attr("id",h+"-selectized"),e("label[for='"+h+"']").attr("for",h+"-selectized")),m.settings.copyClassesToDropdown&&r.addClass(d),t.css({width:C[0].style.width}),m.plugins.names.length&&(f="plugin-"+m.plugins.names.join(" plugin-"),t.addClass(f),r.addClass(f)),(null===v.maxItems||v.maxItems>1)&&1===m.tagType&&C.attr("multiple","multiple"),m.settings.placeholder&&i.attr("placeholder",v.placeholder),!m.settings.splitOn&&m.settings.delimiter){var w=m.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");m.settings.splitOn=new RegExp("\\s*"+w+"+\\s*")}C.attr("autocorrect")&&i.attr("autocorrect",C.attr("autocorrect")),C.attr("autocapitalize")&&i.attr("autocapitalize",C.attr("autocapitalize")),m.$wrapper=t,m.$control=n,m.$control_input=i,m.$dropdown=r,m.$dropdown_content=u,r.on("mouseenter","[data-selectable]",function(){return m.onOptionHover.apply(m,arguments)}),r.on("mousedown click","[data-selectable]",function(){return m.onOptionSelect.apply(m,arguments)}),g(n,"mousedown","*:not(input)",function(){return m.onItemSelect.apply(m,arguments)}),b(i),n.on({mousedown:function(){return m.onMouseDown.apply(m,arguments)},click:function(){return m.onClick.apply(m,arguments)}}),i.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return m.onKeyDown.apply(m,arguments)},keyup:function(){return m.onKeyUp.apply(m,arguments)},keypress:function(){return m.onKeyPress.apply(m,arguments)},resize:function(){m.positionDropdown.apply(m,[])},blur:function(){return m.onBlur.apply(m,arguments)},focus:function(){return m.ignoreBlur=!1,m.onFocus.apply(m,arguments)},paste:function(){return m.onPaste.apply(m,arguments)}}),x.on("keydown"+y,function(e){m.isCmdDown=e[o?"metaKey":"ctrlKey"],m.isCtrlDown=e[o?"altKey":"ctrlKey"],m.isShiftDown=e.shiftKey}),x.on("keyup"+y,function(e){e.keyCode===s&&(m.isCtrlDown=!1),16===e.keyCode&&(m.isShiftDown=!1),e.keyCode===a&&(m.isCmdDown=!1)}),x.on("mousedown"+y,function(e){if(m.isFocused){if(e.target===m.$dropdown[0]||e.target.parentNode===m.$dropdown[0])return!1;m.$control.has(e.target).length||e.target===m.$control[0]||m.blur(e.target)}}),k.on(["scroll"+y,"resize"+y].join(" "),function(){m.isOpen&&m.positionDropdown.apply(m,arguments)}),k.on("mousemove"+y,function(){m.ignoreHover=!1}),this.revertSettings={$children:C.children().detach(),tabindex:C.attr("tabindex")},C.attr("tabindex",-1).hide().after(m.$wrapper),e.isArray(v.items)&&(m.setValue(v.items),delete v.items),l&&C.on("invalid"+y,function(e){e.preventDefault(),m.isInvalid=!0,m.refreshState()}),m.updateOriginalInput(),m.refreshItems(),m.refreshState(),m.updatePlaceholder(),m.isSetup=!0,C.is(":disabled")&&m.disable(),m.on("change",this.onChange),C.data("selectize",m),C.addClass("selectized"),m.trigger("initialize"),!0===v.preload&&m.onSearchChange("")},setupTemplates:function(){var t=this,n=t.settings.labelField,i=t.settings.optgroupLabelField,r={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[i])+"</div>"},option:function(e,t){return'<div class="option">'+t(e[n])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[n])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};t.settings.render=e.extend({},r,t.settings.render)},setupCallbacks:function(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in n)n.hasOwnProperty(e)&&(t=this.settings[n[e]])&&this.on(e,t)},onClick:function(e){var t=this;t.isFocused||(t.focus(),e.preventDefault())},onMouseDown:function(t){var n=this,i=t.isDefaultPrevented();e(t.target);if(n.isFocused){if(t.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():i||n.setActiveItem(null),!1}else i||window.setTimeout(function(){n.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(t){var n=this;n.isFull()||n.isInputHidden||n.isLocked?t.preventDefault():n.settings.splitOn&&setTimeout(function(){var t=n.$control_input.val();if(t.match(n.settings.splitOn))for(var i=e.trim(t).split(n.settings.splitOn),r=0,o=i.length;r<o;r++)n.createItem(i[r])},0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){e.target,this.$control_input[0];var t=this;if(!t.isLocked){switch(e.keyCode){case 65:if(t.isCmdDown)return void t.selectAll();break;case 27:return void(t.isOpen&&(e.preventDefault(),e.stopPropagation(),t.close()));case 78:if(!e.ctrlKey||e.altKey)break;case 40:if(!t.isOpen&&t.hasOptions)t.open();else if(t.$activeOption){t.ignoreHover=!0;var n=t.getAdjacentOption(t.$activeOption,1);n.length&&t.setActiveOption(n,!0,!0)}return void e.preventDefault();case 80:if(!e.ctrlKey||e.altKey)break;case 38:if(t.$activeOption){t.ignoreHover=!0;var i=t.getAdjacentOption(t.$activeOption,-1);i.length&&t.setActiveOption(i,!0,!0)}return void e.preventDefault();case 13:return void(t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),e.preventDefault()));case 37:return void t.advanceSelection(-1,e);case 39:return void t.advanceSelection(1,e);case 9:return t.settings.selectOnTab&&t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),t.isFull()||e.preventDefault()),void(t.settings.create&&t.createItem()&&e.preventDefault());case 8:case 46:return void t.deleteSelection(e)}return!t.isFull()&&!t.isInputHidden||(o?e.metaKey:e.ctrlKey)?void 0:void e.preventDefault()}9!==e.keyCode&&e.preventDefault()},onKeyUp:function(e){var t=this;if(t.isLocked)return e&&e.preventDefault();var n=t.$control_input.val()||"";t.lastValue!==n&&(t.lastValue=n,t.onSearchChange(n),t.refreshOptions(),t.trigger("type",n))},onSearchChange:function(e){var t=this,n=t.settings.load;n&&(t.loadedSearches.hasOwnProperty(e)||(t.loadedSearches[e]=!0,t.load(function(i){n.apply(t,[e,i])})))},onFocus:function(e){var t=this,n=t.isFocused;if(t.isDisabled)return t.blur(),e&&e.preventDefault(),!1;t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),n||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState())},onBlur:function(e,t){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(e);var i=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),t&&t.focus&&t.focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(t){var n,i,r=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),(i=e(t.currentTarget)).hasClass("create")?r.createItem(null,function(){r.settings.closeAfterSelect&&r.close()}):void 0!==(n=i.attr("data-value"))&&(r.lastQuery=null,r.setTextboxValue(""),r.addItem(n),r.settings.closeAfterSelect?r.close():!r.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&r.setActiveOption(r.getOption(n)))},onItemSelect:function(e){var t=this;t.isLocked||"multi"===t.settings.mode&&(e.preventDefault(),t.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,n=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||n.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input;t.val()!==e&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){m(this,t?[]:["change"],function(){this.clear(t),this.addItems(e,t)})},setActiveItem:function(t,n){var i,r,o,a,s,l,u,c,p=this;if("single"!==p.settings.mode){if(!(t=e(t)).length)return e(p.$activeItems).removeClass("active"),p.$activeItems=[],void(p.isFocused&&p.showInput());if("mousedown"===(i=n&&n.type.toLowerCase())&&p.isShiftDown&&p.$activeItems.length){for(c=p.$control.children(".active:last"),(a=Array.prototype.indexOf.apply(p.$control[0].childNodes,[c[0]]))>(s=Array.prototype.indexOf.apply(p.$control[0].childNodes,[t[0]]))&&(u=a,a=s,s=u),r=a;r<=s;r++)l=p.$control[0].childNodes[r],-1===p.$activeItems.indexOf(l)&&(e(l).addClass("active"),p.$activeItems.push(l));n.preventDefault()}else"mousedown"===i&&p.isCtrlDown||"keydown"===i&&this.isShiftDown?t.hasClass("active")?(o=p.$activeItems.indexOf(t[0]),p.$activeItems.splice(o,1),t.removeClass("active")):p.$activeItems.push(t.addClass("active")[0]):(e(p.$activeItems).removeClass("active"),p.$activeItems=[t.addClass("active")[0]]);p.hideInput(),this.isFocused||p.focus()}},setActiveOption:function(t,n,i){var r,o,a,s,l,c=this;c.$activeOption&&c.$activeOption.removeClass("active"),c.$activeOption=null,(t=e(t)).length&&(c.$activeOption=t.addClass("active"),!n&&u(n)||(r=c.$dropdown_content.height(),o=c.$activeOption.outerHeight(!0),n=c.$dropdown_content.scrollTop()||0,s=a=c.$activeOption.offset().top-c.$dropdown_content.offset().top+n,l=a-r+o,a+o>r+n?c.$dropdown_content.stop().animate({scrollTop:l},i?c.settings.scrollDuration:0):a<n&&c.$dropdown_content.stop().animate({scrollTop:s},i?c.settings.scrollDuration:0)))},selectAll:function(){var e=this;"single"!==e.settings.mode&&(e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")),e.$activeItems.length&&(e.hideInput(),e.close()),e.focus())},hideInput:function(){var e=this;e.setTextboxValue(""),e.$control_input.css({opacity:0,position:"absolute",left:e.rtl?1e4:-1e4}),e.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout(function(){e.ignoreFocus=!1,e.onFocus()},0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t}},search:function(t){var n,i,r,o=this,a=o.settings,s=this.getSearchOptions();if(a.score&&"function"!=typeof(r=o.settings.score.apply(this,[t])))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==o.lastQuery?(o.lastQuery=t,i=o.sifter.search(t,e.extend(s,{score:r})),o.currentResults=i):i=e.extend(!0,{},o.currentResults),a.hideSelected)for(n=i.items.length-1;n>=0;n--)-1!==o.items.indexOf(c(i.items[n].id))&&i.items.splice(n,1);return i},refreshOptions:function(t){var n,r,o,a,s,l,u,p,d,f,h,m,g,v,y,k;void 0===t&&(t=!0);var b=this,C=e.trim(b.$control_input.val()),w=b.search(C),_=b.$dropdown_content,S=b.$activeOption&&c(b.$activeOption.attr("data-value"));for(a=w.items.length,"number"==typeof b.settings.maxOptions&&(a=Math.min(a,b.settings.maxOptions)),s={},l=[],n=0;n<a;n++)for(u=b.options[w.items[n].id],p=b.render("option",u),d=u[b.settings.optgroupField]||"",r=0,o=(f=e.isArray(d)?d:[d])&&f.length;r<o;r++)d=f[r],b.optgroups.hasOwnProperty(d)||(d=""),s.hasOwnProperty(d)||(s[d]=document.createDocumentFragment(),l.push(d)),s[d].appendChild(p);for(this.settings.lockOptgroupOrder&&l.sort(function(e,t){return(b.optgroups[e].$order||0)-(b.optgroups[t].$order||0)}),h=document.createDocumentFragment(),n=0,a=l.length;n<a;n++)d=l[n],b.optgroups.hasOwnProperty(d)&&s[d].childNodes.length?((m=document.createDocumentFragment()).appendChild(b.render("optgroup_header",b.optgroups[d])),m.appendChild(s[d]),h.appendChild(b.render("optgroup",e.extend({},b.optgroups[d],{html:x(m),dom:m})))):h.appendChild(s[d]);if(_.html(h),b.settings.highlight&&w.query.length&&w.tokens.length)for(_.removeHighlight(),n=0,a=w.tokens.length;n<a;n++)i(_,w.tokens[n].regex);if(!b.settings.hideSelected)for(n=0,a=b.items.length;n<a;n++)b.getOption(b.items[n]).addClass("selected");(g=b.canCreate(C))&&(_.prepend(b.render("option_create",{input:C})),k=e(_[0].childNodes[0])),b.hasOptions=w.items.length>0||g,b.hasOptions?(w.items.length>0?((y=S&&b.getOption(S))&&y.length?v=y:"single"===b.settings.mode&&b.items.length&&(v=b.getOption(b.items[0])),v&&v.length||(v=k&&!b.settings.addPrecedence?b.getAdjacentOption(k,1):_.find("[data-selectable]:first"))):v=k,b.setActiveOption(v),t&&!b.isOpen&&b.open()):(b.setActiveOption(null),t&&b.isOpen&&b.close())},addOption:function(t){var n,i,r,o=this;if(e.isArray(t))for(n=0,i=t.length;n<i;n++)o.addOption(t[n]);else(r=o.registerOption(t))&&(o.userOptions[r]=!0,o.lastQuery=null,o.trigger("option_add",r,t))},registerOption:function(e){var t=c(e[this.settings.valueField]);return void 0!==t&&null!==t&&!this.options.hasOwnProperty(t)&&(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=c(e[this.settings.optgroupValueField]);return!!t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,n){var i,r,o,a,s,l,u,p=this;if(t=c(t),o=c(n[p.settings.valueField]),null!==t&&p.options.hasOwnProperty(t)){if("string"!=typeof o)throw new Error("Value must be set in option data");u=p.options[t].$order,o!==t&&(delete p.options[t],-1!==(a=p.items.indexOf(t))&&p.items.splice(a,1,o)),n.$order=n.$order||u,p.options[o]=n,s=p.renderCache.item,l=p.renderCache.option,s&&(delete s[t],delete s[o]),l&&(delete l[t],delete l[o]),-1!==p.items.indexOf(o)&&(i=p.getItem(t),r=e(p.render("item",n)),i.hasClass("active")&&r.addClass("active"),i.replaceWith(r)),p.lastQuery=null,p.isOpen&&p.refreshOptions(!1)}},removeOption:function(e,t){var n=this;e=c(e);var i=n.renderCache.item,r=n.renderCache.option;i&&delete i[e],r&&delete r[e],delete n.userOptions[e],delete n.options[e],n.lastQuery=null,n.trigger("option_remove",e),n.removeItem(e,t)},clearOptions:function(){var e=this;e.loadedSearches={},e.userOptions={},e.renderCache={},e.options=e.sifter.items={},e.lastQuery=null,e.trigger("option_clear"),e.clear()},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,n){var i=this.$dropdown.find("[data-selectable]"),r=i.index(t)+n;return r>=0&&r<i.length?i.eq(r):e()},getElementWithValue:function(t,n){if(void 0!==(t=c(t))&&null!==t)for(var i=0,r=n.length;i<r;i++)if(n[i].getAttribute("data-value")===t)return e(n[i]);return e()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(t,n){for(var i=e.isArray(t)?t:[t],r=0,o=i.length;r<o;r++)this.isPending=r<o-1,this.addItem(i[r],n)},addItem:function(t,n){m(this,n?[]:["change"],function(){var i,r,o,a,s,l=this,u=l.settings.mode;t=c(t),-1===l.items.indexOf(t)?l.options.hasOwnProperty(t)&&("single"===u&&l.clear(n),"multi"===u&&l.isFull()||(i=e(l.render("item",l.options[t])),s=l.isFull(),l.items.splice(l.caretPos,0,t),l.insertAtCaret(i),(!l.isPending||!s&&l.isFull())&&l.refreshState(),l.isSetup&&(o=l.$dropdown_content.find("[data-selectable]"),l.isPending||(r=l.getOption(t),a=l.getAdjacentOption(r,1).attr("data-value"),l.refreshOptions(l.isFocused&&"single"!==u),a&&l.setActiveOption(l.getOption(a))),!o.length||l.isFull()?l.close():l.positionDropdown(),l.updatePlaceholder(),l.trigger("item_add",t,i),l.updateOriginalInput({silent:n})))):"single"===u&&l.close()})},removeItem:function(t,n){var i,r,o,a=this;i=t instanceof e?t:a.getItem(t),t=c(i.attr("data-value")),-1!==(r=a.items.indexOf(t))&&(i.remove(),i.hasClass("active")&&(o=a.$activeItems.indexOf(i[0]),a.$activeItems.splice(o,1)),a.items.splice(r,1),a.lastQuery=null,!a.settings.persist&&a.userOptions.hasOwnProperty(t)&&a.removeOption(t,n),r<a.caretPos&&a.setCaret(a.caretPos-1),a.refreshState(),a.updatePlaceholder(),a.updateOriginalInput({silent:n}),a.positionDropdown(),a.trigger("item_remove",t,i))},createItem:function(t,n){var i=this,r=i.caretPos;t=t||e.trim(i.$control_input.val()||"");var o=arguments[arguments.length-1];if("function"!=typeof o&&(o=function(){}),"boolean"!=typeof n&&(n=!0),!i.canCreate(t))return o(),!1;i.lock();var a="function"==typeof i.settings.create?this.settings.create:function(e){var t={};return t[i.settings.labelField]=e,t[i.settings.valueField]=e,t},s=f(function(e){if(i.unlock(),!e||"object"!=typeof e)return o();var t=c(e[i.settings.valueField]);if("string"!=typeof t)return o();i.setTextboxValue(""),i.addOption(e),i.setCaret(r),i.addItem(t),i.refreshOptions(n&&"single"!==i.settings.mode),o(e)}),l=a.apply(this,[t,s]);return void 0!==l&&s(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var e=!this.items.length;this.isInvalid=e,this.$control_input.prop("required",e),this.$input.prop("required",!e)},refreshClasses:function(){var t=this,n=t.isFull(),i=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",i).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!e.isEmptyObject(t.options)).toggleClass("has-items",t.items.length>0),t.$control_input.data("grow",!n&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,n,i,r,o=this;if(e=e||{},1===o.tagType){for(i=[],t=0,n=o.items.length;t<n;t++)r=o.options[o.items[t]][o.settings.labelField]||"",i.push('<option value="'+p(o.items[t])+'" selected="selected">'+p(r)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),o.$input.html(i.join(""))}else o.$input.val(o.getValue()),o.$input.attr("value",o.$input.val());o.isSetup&&(e.silent||o.trigger("change",o.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&(e.hideInput(),e.$control_input.blur()),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e.outerWidth(),top:t.top,left:t.left})},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(t){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(t):e(this.$control[0].childNodes[n]).before(t),this.setCaret(n+1)},deleteSelection:function(t){var n,i,r,o,a,s,l,u,c,p=this;if(r=t&&8===t.keyCode?-1:1,o=v(p.$control_input[0]),p.$activeOption&&!p.settings.hideSelected&&(l=p.getAdjacentOption(p.$activeOption,-1).attr("data-value")),a=[],p.$activeItems.length){for(c=p.$control.children(".active:"+(r>0?"last":"first")),s=p.$control.children(":not(input)").index(c),r>0&&s++,n=0,i=p.$activeItems.length;n<i;n++)a.push(e(p.$activeItems[n]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(p.isFocused||"single"===p.settings.mode)&&p.items.length&&(r<0&&0===o.start&&0===o.length?a.push(p.items[p.caretPos-1]):r>0&&o.start===p.$control_input.val().length&&a.push(p.items[p.caretPos]));if(!a.length||"function"==typeof p.settings.onDelete&&!1===p.settings.onDelete.apply(p,[a]))return!1;for(void 0!==s&&p.setCaret(s);a.length;)p.removeItem(a.pop());return p.showInput(),p.positionDropdown(),p.refreshOptions(!0),l&&(u=p.getOption(l)).length&&p.setActiveOption(u),!0},advanceSelection:function(e,t){var n,i,r,o,a,s=this;0!==e&&(s.rtl&&(e*=-1),n=e>0?"last":"first",i=v(s.$control_input[0]),s.isFocused&&!s.isInputHidden?(o=s.$control_input.val().length,(e<0?0===i.start&&0===i.length:i.start===o)&&!o&&s.advanceCaret(e,t)):(a=s.$control.children(".active:"+n)).length&&(r=s.$control.children(":not(input)").index(a),s.setActiveItem(null),s.setCaret(e>0?r+1:r)))},advanceCaret:function(e,t){var n,i,r=this;0!==e&&(n=e>0?"next":"prev",r.isShiftDown?(i=r.$control_input[n]()).length&&(r.hideInput(),r.setActiveItem(i),t&&t.preventDefault()):r.setCaret(r.caretPos+e))},setCaret:function(t){var n=this;if(t="single"===n.settings.mode?n.items.length:Math.max(0,Math.min(n.items.length,t)),!n.isPending){var i,r,o,a;for(i=0,r=(o=n.$control.children(":not(input)")).length;i<r;i++)a=e(o[i]).detach(),i<t?n.$control_input.before(a):n.$control.append(a)}n.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var e=this;e.$input.prop("disabled",!0),e.$control_input.prop("disabled",!0).prop("tabindex",-1),e.isDisabled=!0,e.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1),e.$control_input.prop("disabled",!1).prop("tabindex",e.tabIndex),e.isDisabled=!1,e.unlock()},destroy:function(){var t=this,n=t.eventNS,i=t.revertSettings;t.trigger("destroy"),t.off(),t.$wrapper.remove(),t.$dropdown.remove(),t.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),t.$control_input.removeData("grow"),t.$input.removeData("selectize"),e(window).off(n),e(document).off(n),e(document.body).off(n),delete t.$input[0].selectize},render:function(t,n){var i,r,o="",a=!1,s=this;return"option"!==t&&"item"!==t||(a=!!(i=c(n[s.settings.valueField]))),a&&(u(s.renderCache[t])||(s.renderCache[t]={}),s.renderCache[t].hasOwnProperty(i))?s.renderCache[t][i]:(o=e(s.settings.render[t].apply(this,[n,p])),"option"===t||"option_create"===t?o.attr("data-selectable",""):"optgroup"===t&&(r=n[s.settings.optgroupValueField]||"",o.attr("data-group",r)),"option"!==t&&"item"!==t||o.attr("data-value",i||""),a&&(s.renderCache[t][i]=o[0]),o[0])},clearCache:function(e){var t=this;void 0===e?t.renderCache={}:delete t.renderCache[e]},canCreate:function(e){var t=this;if(!t.settings.create)return!1;var n=t.settings.createFilter;return e.length&&("function"!=typeof n||n.apply(t,[e]))&&("string"!=typeof n||new RegExp(n).test(e))&&(!(n instanceof RegExp)||n.test(e))}}),C.count=0,C.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},e.fn.selectize=function(t){var n=e.fn.selectize.defaults,i=e.extend({},n,t),r=i.dataAttr,o=i.labelField,a=i.valueField,s=i.optgroupField,l=i.optgroupLabelField,u=i.optgroupValueField,p=function(t,n){var s,l,u,c,p=t.attr(r);if(p)for(n.options=JSON.parse(p),s=0,l=n.options.length;s<l;s++)n.items.push(n.options[s][a]);else{var d=e.trim(t.val()||"");if(!i.allowEmptyOption&&!d.length)return;for(s=0,l=(u=d.split(i.delimiter)).length;s<l;s++)(c={})[o]=u[s],c[a]=u[s],n.options.push(c);n.items=u}},d=function(t,n){var p,d,f,h,m=n.options,g={},v=function(e){var t=r&&e.attr(r);return"string"==typeof t&&t.length?JSON.parse(t):null},y=function(t,r){t=e(t);var l=c(t.val());if(l||i.allowEmptyOption)if(g.hasOwnProperty(l)){if(r){var u=g[l][s];u?e.isArray(u)?u.push(r):g[l][s]=[u,r]:g[l][s]=r}}else{var p=v(t)||{};p[o]=p[o]||t.text(),p[a]=p[a]||l,p[s]=p[s]||r,g[l]=p,m.push(p),t.is(":selected")&&n.items.push(l)}};for(n.maxItems=t.attr("multiple")?null:1,p=0,d=(h=t.children()).length;p<d;p++)"optgroup"===(f=h[p].tagName.toLowerCase())?function(t){var i,r,o,a,s;for((o=(t=e(t)).attr("label"))&&((a=v(t)||{})[l]=o,a[u]=o,n.optgroups.push(a)),i=0,r=(s=e("option",t)).length;i<r;i++)y(s[i],o)}(h[p]):"option"===f&&y(h[p])};return this.each(function(){if(!this.selectize){var r=e(this),o=this.tagName.toLowerCase(),a=r.attr("placeholder")||r.attr("data-placeholder");a||i.allowEmptyOption||(a=r.children('option[value=""]').text());var s={placeholder:a,options:[],optgroups:[],items:[]};"select"===o?d(r,s):p(r,s),new C(r,e.extend(!0,{},n,s,t))}})},e.fn.selectize.defaults=C.defaults,e.fn.selectize.support={validity:l},C.define("drag_drop",function(t){if(!e.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var n=this;n.lock=function(){var e=n.lock;return function(){var t=n.$control.data("sortable");return t&&t.disable(),e.apply(n,arguments)}}(),n.unlock=function(){var e=n.unlock;return function(){var t=n.$control.data("sortable");return t&&t.enable(),e.apply(n,arguments)}}(),n.setup=function(){var t=n.setup;return function(){t.apply(this,arguments);var i=n.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:n.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),i.css({overflow:"visible"})},stop:function(){i.css({overflow:"hidden"});var t=n.$activeItems?n.$activeItems.slice():null,r=[];i.children("[data-value]").each(function(){r.push(e(this).attr("data-value"))}),n.setValue(r),n.setActiveItem(t)}})}}()}}),C.define("dropdown_header",function(t){var n=this;t=e.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&times;</a></div></div>'}},t),n.setup=function(){var i=n.setup;return function(){i.apply(n,arguments),n.$dropdown_header=e(t.html(t)),n.$dropdown.prepend(n.$dropdown_header)}}()}),C.define("optgroup_columns",function(t){var n=this;t=e.extend({equalizeWidth:!0,equalizeHeight:!0},t),this.getAdjacentOption=function(t,n){var i=t.closest("[data-group]").find("[data-selectable]"),r=i.index(t)+n;return r>=0&&r<i.length?i.eq(r):e()},this.onKeyDown=function(){var e=n.onKeyDown;return function(t){var i,r,o,a;return!this.isOpen||37!==t.keyCode&&39!==t.keyCode?e.apply(this,arguments):(n.ignoreHover=!0,a=this.$activeOption.closest("[data-group]"),i=a.find("[data-selectable]").index(this.$activeOption),a=37===t.keyCode?a.prev("[data-group]"):a.next("[data-group]"),o=a.find("[data-selectable]"),void((r=o.eq(Math.min(o.length-1,i))).length&&this.setActiveOption(r)))}}();var i=function(){var e,t=i.width,n=document;return void 0===t&&((e=n.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,n.body.appendChild(e),t=i.width=e.offsetWidth-e.clientWidth,n.body.removeChild(e)),t},r=function(){var r,o,a,s,l,u,c;if(c=e("[data-group]",n.$dropdown_content),(o=c.length)&&n.$dropdown_content.width()){if(t.equalizeHeight){for(a=0,r=0;r<o;r++)a=Math.max(a,c.eq(r).height());c.css({height:a})}t.equalizeWidth&&(u=n.$dropdown_content.innerWidth()-i(),s=Math.round(u/o),c.css({width:s}),o>1&&(l=u-s*(o-1),c.eq(o-1).css({width:l})))}};(t.equalizeHeight||t.equalizeWidth)&&(d.after(this,"positionDropdown",r),d.after(this,"refreshOptions",r))}),C.define("remove_button",function(t){t=e.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t);"single"!==this.settings.mode?function(t,n){var i=t,r='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+p(n.title)+'">'+n.label+"</a>",o=function(e,t){var n=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,n)+t+e.substring(n)};t.setup=function(){var a=i.setup;return function(){if(n.append){var s=i.settings.render.item;i.settings.render.item=function(e){return o(s.apply(t,arguments),r)}}a.apply(t,arguments),t.$control.on("click","."+n.className,function(t){if(t.preventDefault(),!i.isLocked){var n=e(t.currentTarget).parent();i.setActiveItem(n),i.deleteSelection()&&i.setCaret(i.items.length)}})}}()}(this,t):function(t,n){n.className="remove-single";var i=t,r='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+p(n.title)+'">'+n.label+"</a>",o=function(e,t){return e+t};t.setup=function(){var a=i.setup;return function(){if(n.append){var s=e(i.$input.context).attr("id"),l=(e("#"+s),i.settings.render.item);i.settings.render.item=function(e){return o(l.apply(t,arguments),r)}}a.apply(t,arguments),t.$control.on("click","."+n.className,function(e){e.preventDefault(),i.isLocked||i.clear()})}}()}(this,t)}),C.define("restore_on_backspace",function(e){var t=this;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=function(){var n=t.onKeyDown;return function(t){var i,r;return 8===t.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(i=this.caretPos-1)>=0&&i<this.items.length?(r=this.options[this.items[i]],this.deleteSelection(t)&&(this.setTextboxValue(e.text.apply(this,[r])),this.refreshOptions(!0)),void t.preventDefault()):n.apply(this,arguments)}}()}),C});